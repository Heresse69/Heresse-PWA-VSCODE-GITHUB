function oS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var e0={exports:{}},ol={},t0={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=Symbol.for("react.element"),lS=Symbol.for("react.portal"),cS=Symbol.for("react.fragment"),uS=Symbol.for("react.strict_mode"),dS=Symbol.for("react.profiler"),fS=Symbol.for("react.provider"),hS=Symbol.for("react.context"),pS=Symbol.for("react.forward_ref"),mS=Symbol.for("react.suspense"),gS=Symbol.for("react.memo"),vS=Symbol.for("react.lazy"),Bh=Symbol.iterator;function yS(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var r0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n0=Object.assign,s0={};function Ls(e,t,r){this.props=e,this.context=t,this.refs=s0,this.updater=r||r0}Ls.prototype.isReactComponent={};Ls.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ls.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function i0(){}i0.prototype=Ls.prototype;function Vd(e,t,r){this.props=e,this.context=t,this.refs=s0,this.updater=r||r0}var Fd=Vd.prototype=new i0;Fd.constructor=Vd;n0(Fd,Ls.prototype);Fd.isPureReactComponent=!0;var Uh=Array.isArray,o0=Object.prototype.hasOwnProperty,Bd={current:null},a0={key:!0,ref:!0,__self:!0,__source:!0};function l0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)o0.call(t,n)&&!a0.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:io,type:e,key:i,ref:o,props:s,_owner:Bd.current}}function xS(e,t){return{$$typeof:io,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ud(e){return typeof e=="object"&&e!==null&&e.$$typeof===io}function wS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Gh=/\/+/g;function ic(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wS(""+e.key):t.toString(36)}function ia(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case io:case lS:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ic(o,0):n,Uh(s)?(r="",e!=null&&(r=e.replace(Gh,"$&/")+"/"),ia(s,t,r,"",function(u){return u})):s!=null&&(Ud(s)&&(s=xS(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gh,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Uh(e))for(var a=0;a<e.length;a++){i=e[a];var c=n+ic(i,a);o+=ia(i,t,r,c,s)}else if(c=yS(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=n+ic(i,a++),o+=ia(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ko(e,t,r){if(e==null)return e;var n=[],s=0;return ia(e,n,"","",function(i){return t.call(r,i,s++)}),n}function bS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var rt={current:null},oa={transition:null},SS={ReactCurrentDispatcher:rt,ReactCurrentBatchConfig:oa,ReactCurrentOwner:Bd};function c0(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ko,forEach:function(e,t,r){ko(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ko(e,function(){t++}),t},toArray:function(e){return ko(e,function(t){return t})||[]},only:function(e){if(!Ud(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Ls;Q.Fragment=cS;Q.Profiler=dS;Q.PureComponent=Vd;Q.StrictMode=uS;Q.Suspense=mS;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SS;Q.act=c0;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=n0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Bd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)o0.call(t,c)&&!a0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:io,type:e.type,key:s,ref:i,props:n,_owner:o}};Q.createContext=function(e){return e={$$typeof:hS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fS,_context:e},e.Consumer=e};Q.createElement=l0;Q.createFactory=function(e){var t=l0.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:pS,render:e}};Q.isValidElement=Ud;Q.lazy=function(e){return{$$typeof:vS,_payload:{_status:-1,_result:e},_init:bS}};Q.memo=function(e,t){return{$$typeof:gS,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};Q.unstable_act=c0;Q.useCallback=function(e,t){return rt.current.useCallback(e,t)};Q.useContext=function(e){return rt.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return rt.current.useDeferredValue(e)};Q.useEffect=function(e,t){return rt.current.useEffect(e,t)};Q.useId=function(){return rt.current.useId()};Q.useImperativeHandle=function(e,t,r){return rt.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return rt.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return rt.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return rt.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return rt.current.useReducer(e,t,r)};Q.useRef=function(e){return rt.current.useRef(e)};Q.useState=function(e){return rt.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return rt.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return rt.current.useTransition()};Q.version="18.3.1";t0.exports=Q;var p=t0.exports;const Y=Zg(p),Gd=oS({__proto__:null,default:Y},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jS=p,kS=Symbol.for("react.element"),CS=Symbol.for("react.fragment"),_S=Object.prototype.hasOwnProperty,PS=jS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NS={key:!0,ref:!0,__self:!0,__source:!0};function u0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)_S.call(t,n)&&!NS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:kS,type:e,key:i,ref:o,props:s,_owner:PS.current}}ol.Fragment=CS;ol.jsx=u0;ol.jsxs=u0;e0.exports=ol;var l=e0.exports,uu={},d0={exports:{}},bt={},f0={exports:{}},h0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,z){var B=M.length;M.push(z);e:for(;0<B;){var F=B-1>>>1,U=M[F];if(0<s(U,z))M[F]=z,M[B]=U,B=F;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var z=M[0],B=M.pop();if(B!==z){M[0]=B;e:for(var F=0,U=M.length,X=U>>>1;F<X;){var ge=2*(F+1)-1,Ve=M[ge],Ie=ge+1,st=M[Ie];if(0>s(Ve,B))Ie<U&&0>s(st,Ve)?(M[F]=st,M[Ie]=B,F=Ie):(M[F]=Ve,M[ge]=B,F=ge);else if(Ie<U&&0>s(st,B))M[F]=st,M[Ie]=B,F=Ie;else break e}}return z}function s(M,z){var B=M.sortIndex-z.sortIndex;return B!==0?B:M.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],d=1,f=null,h=3,m=!1,w=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=M)n(u),z.sortIndex=z.expirationTime,t(c,z);else break;z=r(u)}}function S(M){if(y=!1,x(M),!w)if(r(c)!==null)w=!0,A(j);else{var z=r(u);z!==null&&H(S,z.startTime-M)}}function j(M,z){w=!1,y&&(y=!1,v(C),C=-1),m=!0;var B=h;try{for(x(z),f=r(c);f!==null&&(!(f.expirationTime>z)||M&&!R());){var F=f.callback;if(typeof F=="function"){f.callback=null,h=f.priorityLevel;var U=F(f.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?f.callback=U:f===r(c)&&n(c),x(z)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var ge=r(u);ge!==null&&H(S,ge.startTime-z),X=!1}return X}finally{f=null,h=B,m=!1}}var P=!1,k=null,C=-1,E=5,_=-1;function R(){return!(e.unstable_now()-_<E)}function T(){if(k!==null){var M=e.unstable_now();_=M;var z=!0;try{z=k(!0,M)}finally{z?O():(P=!1,k=null)}}else P=!1}var O;if(typeof g=="function")O=function(){g(T)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,I=N.port2;N.port1.onmessage=T,O=function(){I.postMessage(null)}}else O=function(){b(T,0)};function A(M){k=M,P||(P=!0,O())}function H(M,z){C=b(function(){M(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){w||m||(w=!0,A(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var B=h;h=z;try{return M()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,z){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var B=h;h=M;try{return z()}finally{h=B}},e.unstable_scheduleCallback=function(M,z,B){var F=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?F+B:F):B=F,M){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=B+U,M={id:d++,callback:z,priorityLevel:M,startTime:B,expirationTime:U,sortIndex:-1},B>F?(M.sortIndex=B,t(u,M),r(c)===null&&M===r(u)&&(y?(v(C),C=-1):y=!0,H(S,B-F))):(M.sortIndex=U,t(c,M),w||m||(w=!0,A(j))),M},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(M){var z=h;return function(){var B=h;h=z;try{return M.apply(this,arguments)}finally{h=B}}}})(h0);f0.exports=h0;var ES=f0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TS=p,xt=ES;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p0=new Set,Mi={};function An(e,t){Ss(e,t),Ss(e+"Capture",t)}function Ss(e,t){for(Mi[e]=t,e=0;e<t.length;e++)p0.add(t[e])}var mr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),du=Object.prototype.hasOwnProperty,RS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hh={},Wh={};function MS(e){return du.call(Wh,e)?!0:du.call(Hh,e)?!1:RS.test(e)?Wh[e]=!0:(Hh[e]=!0,!1)}function AS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function IS(e,t,r,n){if(t===null||typeof t>"u"||AS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hd=/[\-:]([a-z])/g;function Wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hd,Wd);He[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hd,Wd);He[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hd,Wd);He[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qd(e,t,r,n){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(IS(t,r,s,n)&&(r=null),n||s===null?MS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var xr=TS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Co=Symbol.for("react.element"),Jn=Symbol.for("react.portal"),Xn=Symbol.for("react.fragment"),Kd=Symbol.for("react.strict_mode"),fu=Symbol.for("react.profiler"),m0=Symbol.for("react.provider"),g0=Symbol.for("react.context"),Yd=Symbol.for("react.forward_ref"),hu=Symbol.for("react.suspense"),pu=Symbol.for("react.suspense_list"),Jd=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),v0=Symbol.for("react.offscreen"),qh=Symbol.iterator;function Ks(e){return e===null||typeof e!="object"?null:(e=qh&&e[qh]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,oc;function li(e){if(oc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);oc=t&&t[1]||""}return`
`+oc+e}var ac=!1;function lc(e,t){if(!e||ac)return"";ac=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{ac=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?li(e):""}function DS(e){switch(e.tag){case 5:return li(e.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 2:case 15:return e=lc(e.type,!1),e;case 11:return e=lc(e.type.render,!1),e;case 1:return e=lc(e.type,!0),e;default:return""}}function mu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xn:return"Fragment";case Jn:return"Portal";case fu:return"Profiler";case Kd:return"StrictMode";case hu:return"Suspense";case pu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case g0:return(e.displayName||"Context")+".Consumer";case m0:return(e._context.displayName||"Context")+".Provider";case Yd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jd:return t=e.displayName||null,t!==null?t:mu(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return mu(e(t))}catch{}}return null}function LS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mu(t);case 8:return t===Kd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function y0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function OS(e){var t=y0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){e._valueTracker||(e._valueTracker=OS(e))}function x0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=y0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gu(e,t){var r=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Kh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function w0(e,t){t=t.checked,t!=null&&qd(e,"checked",t,!1)}function vu(e,t){w0(e,t);var r=Yr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yu(e,t.type,r):t.hasOwnProperty("defaultValue")&&yu(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yu(e,t,r){(t!=="number"||ba(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ci=Array.isArray;function hs(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(L(92));if(ci(r)){if(1<r.length)throw Error(L(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yr(r)}}function b0(e,t){var r=Yr(t.value),n=Yr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function S0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?S0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Po,j0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Po=Po||document.createElement("div"),Po.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Po.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ai(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zS=["Webkit","ms","Moz","O"];Object.keys(mi).forEach(function(e){zS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mi[t]=mi[e]})});function k0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mi.hasOwnProperty(e)&&mi[e]?(""+t).trim():t+"px"}function C0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=k0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var $S=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bu(e,t){if(t){if($S[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function Su(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function Xd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ku=null,ps=null,ms=null;function Qh(e){if(e=lo(e)){if(typeof ku!="function")throw Error(L(280));var t=e.stateNode;t&&(t=dl(t),ku(e.stateNode,e.type,t))}}function _0(e){ps?ms?ms.push(e):ms=[e]:ps=e}function P0(){if(ps){var e=ps,t=ms;if(ms=ps=null,Qh(e),t)for(e=0;e<t.length;e++)Qh(t[e])}}function N0(e,t){return e(t)}function E0(){}var cc=!1;function T0(e,t,r){if(cc)return e(t,r);cc=!0;try{return N0(e,t,r)}finally{cc=!1,(ps!==null||ms!==null)&&(E0(),P0())}}function Ii(e,t){var r=e.stateNode;if(r===null)return null;var n=dl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(L(231,t,typeof r));return r}var Cu=!1;if(mr)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{Cu=!1}function VS(e,t,r,n,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var gi=!1,Sa=null,ja=!1,_u=null,FS={onError:function(e){gi=!0,Sa=e}};function BS(e,t,r,n,s,i,o,a,c){gi=!1,Sa=null,VS.apply(FS,arguments)}function US(e,t,r,n,s,i,o,a,c){if(BS.apply(this,arguments),gi){if(gi){var u=Sa;gi=!1,Sa=null}else throw Error(L(198));ja||(ja=!0,_u=u)}}function In(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function R0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zh(e){if(In(e)!==e)throw Error(L(188))}function GS(e){var t=e.alternate;if(!t){if(t=In(e),t===null)throw Error(L(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Zh(s),e;if(i===n)return Zh(s),t;i=i.sibling}throw Error(L(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(r.alternate!==n)throw Error(L(190))}if(r.tag!==3)throw Error(L(188));return r.stateNode.current===r?e:t}function M0(e){return e=GS(e),e!==null?A0(e):null}function A0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=A0(e);if(t!==null)return t;e=e.sibling}return null}var I0=xt.unstable_scheduleCallback,ep=xt.unstable_cancelCallback,HS=xt.unstable_shouldYield,WS=xt.unstable_requestPaint,Pe=xt.unstable_now,qS=xt.unstable_getCurrentPriorityLevel,Qd=xt.unstable_ImmediatePriority,D0=xt.unstable_UserBlockingPriority,ka=xt.unstable_NormalPriority,KS=xt.unstable_LowPriority,L0=xt.unstable_IdlePriority,al=null,Xt=null;function YS(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(al,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:QS,JS=Math.log,XS=Math.LN2;function QS(e){return e>>>=0,e===0?32:31-(JS(e)/XS|0)|0}var No=64,Eo=4194304;function ui(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=ui(a):(i&=o,i!==0&&(n=ui(i)))}else o=r&~s,o!==0?n=ui(o):i!==0&&(n=ui(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ft(t),s=1<<r,n|=e[r],t&=~s;return n}function ZS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ej(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ft(i),a=1<<o,c=s[o];c===-1?(!(a&r)||a&n)&&(s[o]=ZS(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Pu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function O0(){var e=No;return No<<=1,!(No&4194240)&&(No=64),e}function uc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function oo(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=r}function tj(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ft(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Zd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ft(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ne=0;function z0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $0,ef,V0,F0,B0,Nu=!1,To=[],Or=null,zr=null,$r=null,Di=new Map,Li=new Map,Rr=[],rj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tp(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Js(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=lo(t),t!==null&&ef(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nj(e,t,r,n,s){switch(t){case"focusin":return Or=Js(Or,e,t,r,n,s),!0;case"dragenter":return zr=Js(zr,e,t,r,n,s),!0;case"mouseover":return $r=Js($r,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Di.set(i,Js(Di.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Li.set(i,Js(Li.get(i)||null,e,t,r,n,s)),!0}return!1}function U0(e){var t=xn(e.target);if(t!==null){var r=In(t);if(r!==null){if(t=r.tag,t===13){if(t=R0(r),t!==null){e.blockedOn=t,B0(e.priority,function(){V0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ju=n,r.target.dispatchEvent(n),ju=null}else return t=lo(r),t!==null&&ef(t),e.blockedOn=r,!1;t.shift()}return!0}function rp(e,t,r){aa(e)&&r.delete(t)}function sj(){Nu=!1,Or!==null&&aa(Or)&&(Or=null),zr!==null&&aa(zr)&&(zr=null),$r!==null&&aa($r)&&($r=null),Di.forEach(rp),Li.forEach(rp)}function Xs(e,t){e.blockedOn===t&&(e.blockedOn=null,Nu||(Nu=!0,xt.unstable_scheduleCallback(xt.unstable_NormalPriority,sj)))}function Oi(e){function t(s){return Xs(s,e)}if(0<To.length){Xs(To[0],e);for(var r=1;r<To.length;r++){var n=To[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Or!==null&&Xs(Or,e),zr!==null&&Xs(zr,e),$r!==null&&Xs($r,e),Di.forEach(t),Li.forEach(t),r=0;r<Rr.length;r++)n=Rr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rr.length&&(r=Rr[0],r.blockedOn===null);)U0(r),r.blockedOn===null&&Rr.shift()}var gs=xr.ReactCurrentBatchConfig,_a=!0;function ij(e,t,r,n){var s=ne,i=gs.transition;gs.transition=null;try{ne=1,tf(e,t,r,n)}finally{ne=s,gs.transition=i}}function oj(e,t,r,n){var s=ne,i=gs.transition;gs.transition=null;try{ne=4,tf(e,t,r,n)}finally{ne=s,gs.transition=i}}function tf(e,t,r,n){if(_a){var s=Eu(e,t,r,n);if(s===null)wc(e,t,n,Pa,r),tp(e,n);else if(nj(s,e,t,r,n))n.stopPropagation();else if(tp(e,n),t&4&&-1<rj.indexOf(e)){for(;s!==null;){var i=lo(s);if(i!==null&&$0(i),i=Eu(e,t,r,n),i===null&&wc(e,t,n,Pa,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wc(e,t,n,null,r)}}var Pa=null;function Eu(e,t,r,n){if(Pa=null,e=Xd(n),e=xn(e),e!==null)if(t=In(e),t===null)e=null;else if(r=t.tag,r===13){if(e=R0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pa=e,null}function G0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qS()){case Qd:return 1;case D0:return 4;case ka:case KS:return 16;case L0:return 536870912;default:return 16}default:return 16}}var Ir=null,rf=null,la=null;function H0(){if(la)return la;var e,t=rf,r=t.length,n,s="value"in Ir?Ir.value:Ir.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return la=s.slice(e,1<n?1-n:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function np(){return!1}function St(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ro:np,this.isPropagationStopped=np,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nf=St(Os),ao=be({},Os,{view:0,detail:0}),aj=St(ao),dc,fc,Qs,ll=be({},ao,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(dc=e.screenX-Qs.screenX,fc=e.screenY-Qs.screenY):fc=dc=0,Qs=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:fc}}),sp=St(ll),lj=be({},ll,{dataTransfer:0}),cj=St(lj),uj=be({},ao,{relatedTarget:0}),hc=St(uj),dj=be({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),fj=St(dj),hj=be({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pj=St(hj),mj=be({},Os,{data:0}),ip=St(mj),gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xj(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=yj[e])?!!t[e]:!1}function sf(){return xj}var wj=be({},ao,{key:function(e){if(e.key){var t=gj[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vj[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sf,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bj=St(wj),Sj=be({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),op=St(Sj),jj=be({},ao,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sf}),kj=St(jj),Cj=be({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),_j=St(Cj),Pj=be({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nj=St(Pj),Ej=[9,13,27,32],of=mr&&"CompositionEvent"in window,vi=null;mr&&"documentMode"in document&&(vi=document.documentMode);var Tj=mr&&"TextEvent"in window&&!vi,W0=mr&&(!of||vi&&8<vi&&11>=vi),ap=String.fromCharCode(32),lp=!1;function q0(e,t){switch(e){case"keyup":return Ej.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function Rj(e,t){switch(e){case"compositionend":return K0(t);case"keypress":return t.which!==32?null:(lp=!0,ap);case"textInput":return e=t.data,e===ap&&lp?null:e;default:return null}}function Mj(e,t){if(Qn)return e==="compositionend"||!of&&q0(e,t)?(e=H0(),la=rf=Ir=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return W0&&t.locale!=="ko"?null:t.data;default:return null}}var Aj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Aj[e.type]:t==="textarea"}function Y0(e,t,r,n){_0(n),t=Na(t,"onChange"),0<t.length&&(r=new nf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var yi=null,zi=null;function Ij(e){ov(e,0)}function cl(e){var t=ts(e);if(x0(t))return e}function Dj(e,t){if(e==="change")return t}var J0=!1;if(mr){var pc;if(mr){var mc="oninput"in document;if(!mc){var up=document.createElement("div");up.setAttribute("oninput","return;"),mc=typeof up.oninput=="function"}pc=mc}else pc=!1;J0=pc&&(!document.documentMode||9<document.documentMode)}function dp(){yi&&(yi.detachEvent("onpropertychange",X0),zi=yi=null)}function X0(e){if(e.propertyName==="value"&&cl(zi)){var t=[];Y0(t,zi,e,Xd(e)),T0(Ij,t)}}function Lj(e,t,r){e==="focusin"?(dp(),yi=t,zi=r,yi.attachEvent("onpropertychange",X0)):e==="focusout"&&dp()}function Oj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return cl(zi)}function zj(e,t){if(e==="click")return cl(t)}function $j(e,t){if(e==="input"||e==="change")return cl(t)}function Vj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:Vj;function $i(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!du.call(t,s)||!Ut(e[s],t[s]))return!1}return!0}function fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var r=fp(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fp(r)}}function Q0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Q0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Z0(){for(var e=window,t=ba();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ba(e.document)}return t}function af(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Fj(e){var t=Z0(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Q0(r.ownerDocument.documentElement,r)){if(n!==null&&af(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=hp(r,i);var o=hp(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bj=mr&&"documentMode"in document&&11>=document.documentMode,Zn=null,Tu=null,xi=null,Ru=!1;function pp(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ru||Zn==null||Zn!==ba(n)||(n=Zn,"selectionStart"in n&&af(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),xi&&$i(xi,n)||(xi=n,n=Na(Tu,"onSelect"),0<n.length&&(t=new nf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zn)))}function Mo(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var es={animationend:Mo("Animation","AnimationEnd"),animationiteration:Mo("Animation","AnimationIteration"),animationstart:Mo("Animation","AnimationStart"),transitionend:Mo("Transition","TransitionEnd")},gc={},ev={};mr&&(ev=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function ul(e){if(gc[e])return gc[e];if(!es[e])return e;var t=es[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in ev)return gc[e]=t[r];return e}var tv=ul("animationend"),rv=ul("animationiteration"),nv=ul("animationstart"),sv=ul("transitionend"),iv=new Map,mp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){iv.set(e,t),An(t,[e])}for(var vc=0;vc<mp.length;vc++){var yc=mp[vc],Uj=yc.toLowerCase(),Gj=yc[0].toUpperCase()+yc.slice(1);Zr(Uj,"on"+Gj)}Zr(tv,"onAnimationEnd");Zr(rv,"onAnimationIteration");Zr(nv,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(sv,"onTransitionEnd");Ss("onMouseEnter",["mouseout","mouseover"]);Ss("onMouseLeave",["mouseout","mouseover"]);Ss("onPointerEnter",["pointerout","pointerover"]);Ss("onPointerLeave",["pointerout","pointerover"]);An("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));An("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));An("onBeforeInput",["compositionend","keypress","textInput","paste"]);An("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));An("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));An("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hj=new Set("cancel close invalid load scroll toggle".split(" ").concat(di));function gp(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,US(n,t,void 0,e),e.currentTarget=null}function ov(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;gp(s,a,u),i=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;gp(s,a,u),i=c}}}if(ja)throw e=_u,ja=!1,_u=null,e}function de(e,t){var r=t[Lu];r===void 0&&(r=t[Lu]=new Set);var n=e+"__bubble";r.has(n)||(av(t,e,2,!1),r.add(n))}function xc(e,t,r){var n=0;t&&(n|=4),av(r,e,n,t)}var Ao="_reactListening"+Math.random().toString(36).slice(2);function Vi(e){if(!e[Ao]){e[Ao]=!0,p0.forEach(function(r){r!=="selectionchange"&&(Hj.has(r)||xc(r,!1,e),xc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ao]||(t[Ao]=!0,xc("selectionchange",!1,t))}}function av(e,t,r,n){switch(G0(t)){case 1:var s=ij;break;case 4:s=oj;break;default:s=tf}r=s.bind(null,t,r,e),s=void 0,!Cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function wc(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=xn(a),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}a=a.parentNode}}n=n.return}T0(function(){var u=i,d=Xd(r),f=[];e:{var h=iv.get(e);if(h!==void 0){var m=nf,w=e;switch(e){case"keypress":if(ca(r)===0)break e;case"keydown":case"keyup":m=bj;break;case"focusin":w="focus",m=hc;break;case"focusout":w="blur",m=hc;break;case"beforeblur":case"afterblur":m=hc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=sp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=kj;break;case tv:case rv:case nv:m=fj;break;case sv:m=_j;break;case"scroll":m=aj;break;case"wheel":m=Nj;break;case"copy":case"cut":case"paste":m=pj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=op}var y=(t&4)!==0,b=!y&&e==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var g=u,x;g!==null;){x=g;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,v!==null&&(S=Ii(g,v),S!=null&&y.push(Fi(g,S,x)))),b)break;g=g.return}0<y.length&&(h=new m(h,w,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==ju&&(w=r.relatedTarget||r.fromElement)&&(xn(w)||w[gr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=r.relatedTarget||r.toElement,m=u,w=w?xn(w):null,w!==null&&(b=In(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(m=null,w=u),m!==w)){if(y=sp,S="onMouseLeave",v="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=op,S="onPointerLeave",v="onPointerEnter",g="pointer"),b=m==null?h:ts(m),x=w==null?h:ts(w),h=new y(S,g+"leave",m,r,d),h.target=b,h.relatedTarget=x,S=null,xn(d)===u&&(y=new y(v,g+"enter",w,r,d),y.target=x,y.relatedTarget=b,S=y),b=S,m&&w)t:{for(y=m,v=w,g=0,x=y;x;x=Fn(x))g++;for(x=0,S=v;S;S=Fn(S))x++;for(;0<g-x;)y=Fn(y),g--;for(;0<x-g;)v=Fn(v),x--;for(;g--;){if(y===v||v!==null&&y===v.alternate)break t;y=Fn(y),v=Fn(v)}y=null}else y=null;m!==null&&vp(f,h,m,y,!1),w!==null&&b!==null&&vp(f,b,w,y,!0)}}e:{if(h=u?ts(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=Dj;else if(cp(h))if(J0)j=$j;else{j=Oj;var P=Lj}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=zj);if(j&&(j=j(e,u))){Y0(f,j,r,d);break e}P&&P(e,h,u),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&yu(h,"number",h.value)}switch(P=u?ts(u):window,e){case"focusin":(cp(P)||P.contentEditable==="true")&&(Zn=P,Tu=u,xi=null);break;case"focusout":xi=Tu=Zn=null;break;case"mousedown":Ru=!0;break;case"contextmenu":case"mouseup":case"dragend":Ru=!1,pp(f,r,d);break;case"selectionchange":if(Bj)break;case"keydown":case"keyup":pp(f,r,d)}var k;if(of)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Qn?q0(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(W0&&r.locale!=="ko"&&(Qn||C!=="onCompositionStart"?C==="onCompositionEnd"&&Qn&&(k=H0()):(Ir=d,rf="value"in Ir?Ir.value:Ir.textContent,Qn=!0)),P=Na(u,C),0<P.length&&(C=new ip(C,e,null,r,d),f.push({event:C,listeners:P}),k?C.data=k:(k=K0(r),k!==null&&(C.data=k)))),(k=Tj?Rj(e,r):Mj(e,r))&&(u=Na(u,"onBeforeInput"),0<u.length&&(d=new ip("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}ov(f,t)})}function Fi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Na(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ii(e,r),i!=null&&n.unshift(Fi(e,i,s)),i=Ii(e,t),i!=null&&n.push(Fi(e,i,s))),e=e.return}return n}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vp(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Ii(r,i),c!=null&&o.unshift(Fi(r,c,a))):s||(c=Ii(r,i),c!=null&&o.push(Fi(r,c,a)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Wj=/\r\n?/g,qj=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(Wj,`
`).replace(qj,"")}function Io(e,t,r){if(t=yp(t),yp(e)!==t&&r)throw Error(L(425))}function Ea(){}var Mu=null,Au=null;function Iu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Du=typeof setTimeout=="function"?setTimeout:void 0,Kj=typeof clearTimeout=="function"?clearTimeout:void 0,xp=typeof Promise=="function"?Promise:void 0,Yj=typeof queueMicrotask=="function"?queueMicrotask:typeof xp<"u"?function(e){return xp.resolve(null).then(e).catch(Jj)}:Du;function Jj(e){setTimeout(function(){throw e})}function bc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Oi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Oi(t)}function Vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),Yt="__reactFiber$"+zs,Bi="__reactProps$"+zs,gr="__reactContainer$"+zs,Lu="__reactEvents$"+zs,Xj="__reactListeners$"+zs,Qj="__reactHandles$"+zs;function xn(e){var t=e[Yt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gr]||r[Yt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wp(e);e!==null;){if(r=e[Yt])return r;e=wp(e)}return t}e=r,r=e.parentNode}return null}function lo(e){return e=e[Yt]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ts(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function dl(e){return e[Bi]||null}var Ou=[],rs=-1;function en(e){return{current:e}}function fe(e){0>rs||(e.current=Ou[rs],Ou[rs]=null,rs--)}function ce(e,t){rs++,Ou[rs]=e.current,e.current=t}var Jr={},Je=en(Jr),ct=en(!1),_n=Jr;function js(e,t){var r=e.type.contextTypes;if(!r)return Jr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function Ta(){fe(ct),fe(Je)}function bp(e,t,r){if(Je.current!==Jr)throw Error(L(168));ce(Je,t),ce(ct,r)}function lv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(L(108,LS(e)||"Unknown",s));return be({},r,n)}function Ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jr,_n=Je.current,ce(Je,e),ce(ct,ct.current),!0}function Sp(e,t,r){var n=e.stateNode;if(!n)throw Error(L(169));r?(e=lv(e,t,_n),n.__reactInternalMemoizedMergedChildContext=e,fe(ct),fe(Je),ce(Je,e)):fe(ct),ce(ct,r)}var lr=null,fl=!1,Sc=!1;function cv(e){lr===null?lr=[e]:lr.push(e)}function Zj(e){fl=!0,cv(e)}function tn(){if(!Sc&&lr!==null){Sc=!0;var e=0,t=ne;try{var r=lr;for(ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}lr=null,fl=!1}catch(s){throw lr!==null&&(lr=lr.slice(e+1)),I0(Qd,tn),s}finally{ne=t,Sc=!1}}return null}var ns=[],ss=0,Ma=null,Aa=0,Pt=[],Nt=0,Pn=null,cr=1,ur="";function fn(e,t){ns[ss++]=Aa,ns[ss++]=Ma,Ma=e,Aa=t}function uv(e,t,r){Pt[Nt++]=cr,Pt[Nt++]=ur,Pt[Nt++]=Pn,Pn=e;var n=cr;e=ur;var s=32-Ft(n)-1;n&=~(1<<s),r+=1;var i=32-Ft(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,cr=1<<32-Ft(t)+s|r<<s|n,ur=i+e}else cr=1<<i|r<<s|n,ur=e}function lf(e){e.return!==null&&(fn(e,1),uv(e,1,0))}function cf(e){for(;e===Ma;)Ma=ns[--ss],ns[ss]=null,Aa=ns[--ss],ns[ss]=null;for(;e===Pn;)Pn=Pt[--Nt],Pt[Nt]=null,ur=Pt[--Nt],Pt[Nt]=null,cr=Pt[--Nt],Pt[Nt]=null}var yt=null,vt=null,pe=!1,Vt=null;function dv(e,t){var r=Et(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jp(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=Vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pn!==null?{id:cr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Et(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yt=e,vt=null,!0):!1;default:return!1}}function zu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $u(e){if(pe){var t=vt;if(t){var r=t;if(!jp(e,t)){if(zu(e))throw Error(L(418));t=Vr(r.nextSibling);var n=yt;t&&jp(e,t)?dv(n,r):(e.flags=e.flags&-4097|2,pe=!1,yt=e)}}else{if(zu(e))throw Error(L(418));e.flags=e.flags&-4097|2,pe=!1,yt=e}}}function kp(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function Do(e){if(e!==yt)return!1;if(!pe)return kp(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Iu(e.type,e.memoizedProps)),t&&(t=vt)){if(zu(e))throw fv(),Error(L(418));for(;t;)dv(e,t),t=Vr(t.nextSibling)}if(kp(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=Vr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?Vr(e.stateNode.nextSibling):null;return!0}function fv(){for(var e=vt;e;)e=Vr(e.nextSibling)}function ks(){vt=yt=null,pe=!1}function uf(e){Vt===null?Vt=[e]:Vt.push(e)}var ek=xr.ReactCurrentBatchConfig;function Zs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(L(309));var n=r.stateNode}if(!n)throw Error(L(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!r._owner)throw Error(L(290,e))}return e}function Lo(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cp(e){var t=e._init;return t(e._payload)}function hv(e){function t(v,g){if(e){var x=v.deletions;x===null?(v.deletions=[g],v.flags|=16):x.push(g)}}function r(v,g){if(!e)return null;for(;g!==null;)t(v,g),g=g.sibling;return null}function n(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function s(v,g){return v=Gr(v,g),v.index=0,v.sibling=null,v}function i(v,g,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<g?(v.flags|=2,g):x):(v.flags|=2,g)):(v.flags|=1048576,g)}function o(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,g,x,S){return g===null||g.tag!==6?(g=Ec(x,v.mode,S),g.return=v,g):(g=s(g,x),g.return=v,g)}function c(v,g,x,S){var j=x.type;return j===Xn?d(v,g,x.props.children,S,x.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pr&&Cp(j)===g.type)?(S=s(g,x.props),S.ref=Zs(v,g,x),S.return=v,S):(S=ga(x.type,x.key,x.props,null,v.mode,S),S.ref=Zs(v,g,x),S.return=v,S)}function u(v,g,x,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==x.containerInfo||g.stateNode.implementation!==x.implementation?(g=Tc(x,v.mode,S),g.return=v,g):(g=s(g,x.children||[]),g.return=v,g)}function d(v,g,x,S,j){return g===null||g.tag!==7?(g=Cn(x,v.mode,S,j),g.return=v,g):(g=s(g,x),g.return=v,g)}function f(v,g,x){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Ec(""+g,v.mode,x),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Co:return x=ga(g.type,g.key,g.props,null,v.mode,x),x.ref=Zs(v,null,g),x.return=v,x;case Jn:return g=Tc(g,v.mode,x),g.return=v,g;case Pr:var S=g._init;return f(v,S(g._payload),x)}if(ci(g)||Ks(g))return g=Cn(g,v.mode,x,null),g.return=v,g;Lo(v,g)}return null}function h(v,g,x,S){var j=g!==null?g.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:a(v,g,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:return x.key===j?c(v,g,x,S):null;case Jn:return x.key===j?u(v,g,x,S):null;case Pr:return j=x._init,h(v,g,j(x._payload),S)}if(ci(x)||Ks(x))return j!==null?null:d(v,g,x,S,null);Lo(v,x)}return null}function m(v,g,x,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(x)||null,a(g,v,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Co:return v=v.get(S.key===null?x:S.key)||null,c(g,v,S,j);case Jn:return v=v.get(S.key===null?x:S.key)||null,u(g,v,S,j);case Pr:var P=S._init;return m(v,g,x,P(S._payload),j)}if(ci(S)||Ks(S))return v=v.get(x)||null,d(g,v,S,j,null);Lo(g,S)}return null}function w(v,g,x,S){for(var j=null,P=null,k=g,C=g=0,E=null;k!==null&&C<x.length;C++){k.index>C?(E=k,k=null):E=k.sibling;var _=h(v,k,x[C],S);if(_===null){k===null&&(k=E);break}e&&k&&_.alternate===null&&t(v,k),g=i(_,g,C),P===null?j=_:P.sibling=_,P=_,k=E}if(C===x.length)return r(v,k),pe&&fn(v,C),j;if(k===null){for(;C<x.length;C++)k=f(v,x[C],S),k!==null&&(g=i(k,g,C),P===null?j=k:P.sibling=k,P=k);return pe&&fn(v,C),j}for(k=n(v,k);C<x.length;C++)E=m(k,v,C,x[C],S),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?C:E.key),g=i(E,g,C),P===null?j=E:P.sibling=E,P=E);return e&&k.forEach(function(R){return t(v,R)}),pe&&fn(v,C),j}function y(v,g,x,S){var j=Ks(x);if(typeof j!="function")throw Error(L(150));if(x=j.call(x),x==null)throw Error(L(151));for(var P=j=null,k=g,C=g=0,E=null,_=x.next();k!==null&&!_.done;C++,_=x.next()){k.index>C?(E=k,k=null):E=k.sibling;var R=h(v,k,_.value,S);if(R===null){k===null&&(k=E);break}e&&k&&R.alternate===null&&t(v,k),g=i(R,g,C),P===null?j=R:P.sibling=R,P=R,k=E}if(_.done)return r(v,k),pe&&fn(v,C),j;if(k===null){for(;!_.done;C++,_=x.next())_=f(v,_.value,S),_!==null&&(g=i(_,g,C),P===null?j=_:P.sibling=_,P=_);return pe&&fn(v,C),j}for(k=n(v,k);!_.done;C++,_=x.next())_=m(k,v,C,_.value,S),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?C:_.key),g=i(_,g,C),P===null?j=_:P.sibling=_,P=_);return e&&k.forEach(function(T){return t(v,T)}),pe&&fn(v,C),j}function b(v,g,x,S){if(typeof x=="object"&&x!==null&&x.type===Xn&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Co:e:{for(var j=x.key,P=g;P!==null;){if(P.key===j){if(j=x.type,j===Xn){if(P.tag===7){r(v,P.sibling),g=s(P,x.props.children),g.return=v,v=g;break e}}else if(P.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Pr&&Cp(j)===P.type){r(v,P.sibling),g=s(P,x.props),g.ref=Zs(v,P,x),g.return=v,v=g;break e}r(v,P);break}else t(v,P);P=P.sibling}x.type===Xn?(g=Cn(x.props.children,v.mode,S,x.key),g.return=v,v=g):(S=ga(x.type,x.key,x.props,null,v.mode,S),S.ref=Zs(v,g,x),S.return=v,v=S)}return o(v);case Jn:e:{for(P=x.key;g!==null;){if(g.key===P)if(g.tag===4&&g.stateNode.containerInfo===x.containerInfo&&g.stateNode.implementation===x.implementation){r(v,g.sibling),g=s(g,x.children||[]),g.return=v,v=g;break e}else{r(v,g);break}else t(v,g);g=g.sibling}g=Tc(x,v.mode,S),g.return=v,v=g}return o(v);case Pr:return P=x._init,b(v,g,P(x._payload),S)}if(ci(x))return w(v,g,x,S);if(Ks(x))return y(v,g,x,S);Lo(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,g!==null&&g.tag===6?(r(v,g.sibling),g=s(g,x),g.return=v,v=g):(r(v,g),g=Ec(x,v.mode,S),g.return=v,v=g),o(v)):r(v,g)}return b}var Cs=hv(!0),pv=hv(!1),Ia=en(null),Da=null,is=null,df=null;function ff(){df=is=Da=null}function hf(e){var t=Ia.current;fe(Ia),e._currentValue=t}function Vu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function vs(e,t){Da=e,df=is=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(df!==e)if(e={context:e,memoizedValue:t,next:null},is===null){if(Da===null)throw Error(L(308));is=e,Da.dependencies={lanes:0,firstContext:e}}else is=is.next=e;return t}var wn=null;function pf(e){wn===null?wn=[e]:wn.push(e)}function mv(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,pf(t)):(r.next=s.next,s.next=r),t.interleaved=r,vr(e,n)}function vr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Nr=!1;function mf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,vr(e,r)}return s=n.interleaved,s===null?(t.next=t,pf(n)):(t.next=s.next,s.next=t),n.interleaved=t,vr(e,r)}function ua(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zd(e,r)}}function _p(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function La(e,t,r,n){var s=e.updateQueue;Nr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,a=i;do{var h=a.lane,m=a.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(h=t,m=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(m,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(m,f,h):w,h==null)break e;f=be({},f,h);break e;case 2:Nr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(1);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);En|=o,e.lanes=o,e.memoizedState=f}}function Pp(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(L(191,s));s.call(n)}}}var co={},Qt=en(co),Ui=en(co),Gi=en(co);function bn(e){if(e===co)throw Error(L(174));return e}function gf(e,t){switch(ce(Gi,t),ce(Ui,e),ce(Qt,co),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wu(t,e)}fe(Qt),ce(Qt,t)}function _s(){fe(Qt),fe(Ui),fe(Gi)}function vv(e){bn(Gi.current);var t=bn(Qt.current),r=wu(t,e.type);t!==r&&(ce(Ui,e),ce(Qt,r))}function vf(e){Ui.current===e&&(fe(Qt),fe(Ui))}var ye=en(0);function Oa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jc=[];function yf(){for(var e=0;e<jc.length;e++)jc[e]._workInProgressVersionPrimary=null;jc.length=0}var da=xr.ReactCurrentDispatcher,kc=xr.ReactCurrentBatchConfig,Nn=0,we=null,Me=null,Le=null,za=!1,wi=!1,Hi=0,tk=0;function We(){throw Error(L(321))}function xf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ut(e[r],t[r]))return!1;return!0}function wf(e,t,r,n,s,i){if(Nn=i,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?ik:ok,e=r(n,s),wi){i=0;do{if(wi=!1,Hi=0,25<=i)throw Error(L(301));i+=1,Le=Me=null,t.updateQueue=null,da.current=ak,e=r(n,s)}while(wi)}if(da.current=$a,t=Me!==null&&Me.next!==null,Nn=0,Le=Me=we=null,za=!1,t)throw Error(L(300));return e}function bf(){var e=Hi!==0;return Hi=0,e}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?we.memoizedState=Le=e:Le=Le.next=e,Le}function At(){if(Me===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Le===null?we.memoizedState:Le.next;if(t!==null)Le=t,Me=e;else{if(e===null)throw Error(L(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Le===null?we.memoizedState=Le=e:Le=Le.next=e}return Le}function Wi(e,t){return typeof t=="function"?t(e):t}function Cc(e){var t=At(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=Me,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,c=null,u=i;do{var d=u.lane;if((Nn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=n):c=c.next=f,we.lanes|=d,En|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=a,Ut(n,t.memoizedState)||(lt=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,we.lanes|=i,En|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _c(e){var t=At(),r=t.queue;if(r===null)throw Error(L(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ut(i,t.memoizedState)||(lt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function yv(){}function xv(e,t){var r=we,n=At(),s=t(),i=!Ut(n.memoizedState,s);if(i&&(n.memoizedState=s,lt=!0),n=n.queue,Sf(Sv.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(r.flags|=2048,qi(9,bv.bind(null,r,n,s,t),void 0,null),ze===null)throw Error(L(349));Nn&30||wv(r,t,s)}return s}function wv(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bv(e,t,r,n){t.value=r,t.getSnapshot=n,jv(t)&&kv(e)}function Sv(e,t,r){return r(function(){jv(t)&&kv(e)})}function jv(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ut(e,r)}catch{return!0}}function kv(e){var t=vr(e,1);t!==null&&Bt(t,e,1,-1)}function Np(e){var t=Kt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},t.queue=e,e=e.dispatch=sk.bind(null,we,e),[t.memoizedState,e]}function qi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Cv(){return At().memoizedState}function fa(e,t,r,n){var s=Kt();we.flags|=e,s.memoizedState=qi(1|t,r,void 0,n===void 0?null:n)}function hl(e,t,r,n){var s=At();n=n===void 0?null:n;var i=void 0;if(Me!==null){var o=Me.memoizedState;if(i=o.destroy,n!==null&&xf(n,o.deps)){s.memoizedState=qi(t,r,i,n);return}}we.flags|=e,s.memoizedState=qi(1|t,r,i,n)}function Ep(e,t){return fa(8390656,8,e,t)}function Sf(e,t){return hl(2048,8,e,t)}function _v(e,t){return hl(4,2,e,t)}function Pv(e,t){return hl(4,4,e,t)}function Nv(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ev(e,t,r){return r=r!=null?r.concat([e]):null,hl(4,4,Nv.bind(null,t,e),r)}function jf(){}function Tv(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Rv(e,t){var r=At();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Mv(e,t,r){return Nn&21?(Ut(r,t)||(r=O0(),we.lanes|=r,En|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r)}function rk(e,t){var r=ne;ne=r!==0&&4>r?r:4,e(!0);var n=kc.transition;kc.transition={};try{e(!1),t()}finally{ne=r,kc.transition=n}}function Av(){return At().memoizedState}function nk(e,t,r){var n=Ur(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Iv(e))Dv(t,r);else if(r=mv(e,t,r,n),r!==null){var s=tt();Bt(r,e,n,s),Lv(r,t,n)}}function sk(e,t,r){var n=Ur(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Iv(e))Dv(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,o)){var c=t.interleaved;c===null?(s.next=s,pf(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=mv(e,t,s,n),r!==null&&(s=tt(),Bt(r,e,n,s),Lv(r,t,n))}}function Iv(e){var t=e.alternate;return e===we||t!==null&&t===we}function Dv(e,t){wi=za=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Lv(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zd(e,r)}}var $a={readContext:Mt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},ik={readContext:Mt,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:Ep,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,fa(4194308,4,Nv.bind(null,t,e),r)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return fa(4,2,e,t)},useMemo:function(e,t){var r=Kt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Kt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nk.bind(null,we,e),[n.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:Np,useDebugValue:jf,useDeferredValue:function(e){return Kt().memoizedState=e},useTransition:function(){var e=Np(!1),t=e[0];return e=rk.bind(null,e[1]),Kt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=we,s=Kt();if(pe){if(r===void 0)throw Error(L(407));r=r()}else{if(r=t(),ze===null)throw Error(L(349));Nn&30||wv(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ep(Sv.bind(null,n,i,e),[e]),n.flags|=2048,qi(9,bv.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Kt(),t=ze.identifierPrefix;if(pe){var r=ur,n=cr;r=(n&~(1<<32-Ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Hi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=tk++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ok={readContext:Mt,useCallback:Tv,useContext:Mt,useEffect:Sf,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:Pv,useMemo:Rv,useReducer:Cc,useRef:Cv,useState:function(){return Cc(Wi)},useDebugValue:jf,useDeferredValue:function(e){var t=At();return Mv(t,Me.memoizedState,e)},useTransition:function(){var e=Cc(Wi)[0],t=At().memoizedState;return[e,t]},useMutableSource:yv,useSyncExternalStore:xv,useId:Av,unstable_isNewReconciler:!1},ak={readContext:Mt,useCallback:Tv,useContext:Mt,useEffect:Sf,useImperativeHandle:Ev,useInsertionEffect:_v,useLayoutEffect:Pv,useMemo:Rv,useReducer:_c,useRef:Cv,useState:function(){return _c(Wi)},useDebugValue:jf,useDeferredValue:function(e){var t=At();return Me===null?t.memoizedState=e:Mv(t,Me.memoizedState,e)},useTransition:function(){var e=_c(Wi)[0],t=At().memoizedState;return[e,t]},useMutableSource:yv,useSyncExternalStore:xv,useId:Av,unstable_isNewReconciler:!1};function Ot(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Fu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pl={isMounted:function(e){return(e=e._reactInternals)?In(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tt(),s=Ur(e),i=fr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Fr(e,i,s),t!==null&&(Bt(t,e,s,n),ua(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tt(),s=Ur(e),i=fr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Fr(e,i,s),t!==null&&(Bt(t,e,s,n),ua(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tt(),n=Ur(e),s=fr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Fr(e,s,n),t!==null&&(Bt(t,e,n,r),ua(t,e,n))}};function Tp(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!$i(r,n)||!$i(s,i):!0}function Ov(e,t,r){var n=!1,s=Jr,i=t.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(s=ut(t)?_n:Je.current,n=t.contextTypes,i=(n=n!=null)?js(e,s):Jr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Rp(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pl.enqueueReplaceState(t,t.state,null)}function Bu(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},mf(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Mt(i):(i=ut(t)?_n:Je.current,s.context=js(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pl.enqueueReplaceState(s,s.state,null),La(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ps(e,t){try{var r="",n=t;do r+=DS(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Pc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Uu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var lk=typeof WeakMap=="function"?WeakMap:Map;function zv(e,t,r){r=fr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Fa||(Fa=!0,Zu=n),Uu(e,t)},r}function $v(e,t,r){r=fr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Uu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Uu(e,t),typeof n!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Mp(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lk;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Sk.bind(null,e,t,r),t.then(e,e))}function Ap(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ip(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fr(-1,1),t.tag=2,Fr(r,t,1))),r.lanes|=1),e)}var ck=xr.ReactCurrentOwner,lt=!1;function et(e,t,r,n){t.child=e===null?pv(t,null,r,n):Cs(t,e.child,r,n)}function Dp(e,t,r,n,s){r=r.render;var i=t.ref;return vs(t,s),n=wf(e,t,r,n,i,s),r=bf(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yr(e,t,s)):(pe&&r&&lf(t),t.flags|=1,et(e,t,n,s),t.child)}function Lp(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Rf(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Vv(e,t,i,n,s)):(e=ga(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:$i,r(o,n)&&e.ref===t.ref)return yr(e,t,s)}return t.flags|=1,e=Gr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Vv(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if($i(i,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,yr(e,t,s)}return Gu(e,t,r,n,s)}function Fv(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(as,gt),gt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(as,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,ce(as,gt),gt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,ce(as,gt),gt|=n;return et(e,t,s,r),t.child}function Bv(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Gu(e,t,r,n,s){var i=ut(r)?_n:Je.current;return i=js(t,i),vs(t,s),r=wf(e,t,r,n,i,s),n=bf(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yr(e,t,s)):(pe&&n&&lf(t),t.flags|=1,et(e,t,r,s),t.child)}function Op(e,t,r,n,s){if(ut(r)){var i=!0;Ra(t)}else i=!1;if(vs(t,s),t.stateNode===null)ha(e,t),Ov(t,r,n),Bu(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=ut(r)?_n:Je.current,u=js(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Rp(t,o,n,u),Nr=!1;var h=t.memoizedState;o.state=h,La(t,n,o,s),c=t.memoizedState,a!==n||h!==c||ct.current||Nr?(typeof d=="function"&&(Fu(t,r,d,n),c=t.memoizedState),(a=Nr||Tp(t,r,a,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,gv(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Ot(t.type,a),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Mt(c):(c=ut(r)?_n:Je.current,c=js(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==c)&&Rp(t,o,n,c),Nr=!1,h=t.memoizedState,o.state=h,La(t,n,o,s);var w=t.memoizedState;a!==f||h!==w||ct.current||Nr?(typeof m=="function"&&(Fu(t,r,m,n),w=t.memoizedState),(u=Nr||Tp(t,r,u,n,h,w,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Hu(e,t,r,n,i,s)}function Hu(e,t,r,n,s,i){Bv(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Sp(t,r,!1),yr(e,t,i);n=t.stateNode,ck.current=t;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Cs(t,e.child,null,i),t.child=Cs(t,null,a,i)):et(e,t,a,i),t.memoizedState=n.state,s&&Sp(t,r,!0),t.child}function Uv(e){var t=e.stateNode;t.pendingContext?bp(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bp(e,t.context,!1),gf(e,t.containerInfo)}function zp(e,t,r,n,s){return ks(),uf(s),t.flags|=256,et(e,t,r,n),t.child}var Wu={dehydrated:null,treeContext:null,retryLane:0};function qu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gv(e,t,r){var n=t.pendingProps,s=ye.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(ye,s&1),e===null)return $u(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vl(o,n,0,null),e=Cn(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qu(r),t.memoizedState=Wu,e):kf(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return uk(e,t,o,n,a,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Gr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Gr(a,i):(i=Cn(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?qu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Wu,n}return i=e.child,e=i.sibling,n=Gr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kf(e,t){return t=vl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Oo(e,t,r,n){return n!==null&&uf(n),Cs(t,e.child,null,r),e=kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uk(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Pc(Error(L(422))),Oo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=vl({mode:"visible",children:n.children},s,0,null),i=Cn(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Cs(t,e.child,null,o),t.child.memoizedState=qu(o),t.memoizedState=Wu,i);if(!(t.mode&1))return Oo(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(L(419)),n=Pc(i,n,void 0),Oo(e,t,o,n)}if(a=(o&e.childLanes)!==0,lt||a){if(n=ze,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vr(e,s),Bt(n,e,s,-1))}return Tf(),n=Pc(Error(L(421))),Oo(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jk.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,vt=Vr(s.nextSibling),yt=t,pe=!0,Vt=null,e!==null&&(Pt[Nt++]=cr,Pt[Nt++]=ur,Pt[Nt++]=Pn,cr=e.id,ur=e.overflow,Pn=t),t=kf(t,n.children),t.flags|=4096,t)}function $p(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vu(e.return,t,r)}function Nc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Hv(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(et(e,t,n.children,r),n=ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$p(e,r,t);else if(e.tag===19)$p(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ce(ye,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Oa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Nc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Oa(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Nc(t,!0,r,null,i);break;case"together":Nc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,r=Gr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dk(e,t,r){switch(t.tag){case 3:Uv(t),ks();break;case 5:vv(t);break;case 1:ut(t.type)&&Ra(t);break;case 4:gf(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ce(Ia,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ce(ye,ye.current&1),t.flags|=128,null):r&t.child.childLanes?Gv(e,t,r):(ce(ye,ye.current&1),e=yr(e,t,r),e!==null?e.sibling:null);ce(ye,ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Hv(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(ye,ye.current),n)break;return null;case 22:case 23:return t.lanes=0,Fv(e,t,r)}return yr(e,t,r)}var Wv,Ku,qv,Kv;Wv=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ku=function(){};qv=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,bn(Qt.current);var i=null;switch(r){case"input":s=gu(e,s),n=gu(e,n),i=[];break;case"select":s=be({},s,{value:void 0}),n=be({},n,{value:void 0}),i=[];break;case"textarea":s=xu(e,s),n=xu(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ea)}bu(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mi.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Kv=function(e,t,r,n){r!==n&&(t.flags|=4)};function ei(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fk(e,t,r){var n=t.pendingProps;switch(cf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(t),null;case 1:return ut(t.type)&&Ta(),qe(t),null;case 3:return n=t.stateNode,_s(),fe(ct),fe(Je),yf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Do(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vt!==null&&(rd(Vt),Vt=null))),Ku(e,t),qe(t),null;case 5:vf(t);var s=bn(Gi.current);if(r=t.type,e!==null&&t.stateNode!=null)qv(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(L(166));return qe(t),null}if(e=bn(Qt.current),Do(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Yt]=t,n[Bi]=i,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(s=0;s<di.length;s++)de(di[s],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":Kh(n,i),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},de("invalid",n);break;case"textarea":Jh(n,i),de("invalid",n)}bu(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Io(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Io(n.textContent,a,e),s=["children",""+a]):Mi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",n)}switch(r){case"input":_o(n),Yh(n,i,!0);break;case"textarea":_o(n),Xh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ea)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=S0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Yt]=t,e[Bi]=n,Wv(e,t,!1,!1),t.stateNode=e;e:{switch(o=Su(r,n),r){case"dialog":de("cancel",e),de("close",e),s=n;break;case"iframe":case"object":case"embed":de("load",e),s=n;break;case"video":case"audio":for(s=0;s<di.length;s++)de(di[s],e);s=n;break;case"source":de("error",e),s=n;break;case"img":case"image":case"link":de("error",e),de("load",e),s=n;break;case"details":de("toggle",e),s=n;break;case"input":Kh(e,n),s=gu(e,n),de("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=be({},n,{value:void 0}),de("invalid",e);break;case"textarea":Jh(e,n),s=xu(e,n),de("invalid",e);break;default:s=n}bu(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?C0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&j0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ai(e,c):typeof c=="number"&&Ai(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&de("scroll",e):c!=null&&qd(e,i,c,o))}switch(r){case"input":_o(e),Yh(e,n,!1);break;case"textarea":_o(e),Xh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?hs(e,!!n.multiple,i,!1):n.defaultValue!=null&&hs(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ea)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return qe(t),null;case 6:if(e&&t.stateNode!=null)Kv(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(L(166));if(r=bn(Gi.current),bn(Qt.current),Do(t)){if(n=t.stateNode,r=t.memoizedProps,n[Yt]=t,(i=n.nodeValue!==r)&&(e=yt,e!==null))switch(e.tag){case 3:Io(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Io(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Yt]=t,t.stateNode=n}return qe(t),null;case 13:if(fe(ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&vt!==null&&t.mode&1&&!(t.flags&128))fv(),ks(),t.flags|=98560,i=!1;else if(i=Do(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[Yt]=t}else ks(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;qe(t),i=!1}else Vt!==null&&(rd(Vt),Vt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Ae===0&&(Ae=3):Tf())),t.updateQueue!==null&&(t.flags|=4),qe(t),null);case 4:return _s(),Ku(e,t),e===null&&Vi(t.stateNode.containerInfo),qe(t),null;case 10:return hf(t.type._context),qe(t),null;case 17:return ut(t.type)&&Ta(),qe(t),null;case 19:if(fe(ye),i=t.memoizedState,i===null)return qe(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)ei(i,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Oa(e),o!==null){for(t.flags|=128,ei(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ce(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Pe()>Ns&&(t.flags|=128,n=!0,ei(i,!1),t.lanes=4194304)}else{if(!n)if(e=Oa(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return qe(t),null}else 2*Pe()-i.renderingStartTime>Ns&&r!==1073741824&&(t.flags|=128,n=!0,ei(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Pe(),t.sibling=null,r=ye.current,ce(ye,n?r&1|2:r&1),t):(qe(t),null);case 22:case 23:return Ef(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(qe(t),t.subtreeFlags&6&&(t.flags|=8192)):qe(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function hk(e,t){switch(cf(t),t.tag){case 1:return ut(t.type)&&Ta(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),fe(ct),fe(Je),yf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vf(t),null;case 13:if(fe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ks()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(ye),null;case 4:return _s(),null;case 10:return hf(t.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var zo=!1,Ye=!1,pk=typeof WeakSet=="function"?WeakSet:Set,$=null;function os(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){je(e,t,n)}else r.current=null}function Yu(e,t,r){try{r()}catch(n){je(e,t,n)}}var Vp=!1;function mk(e,t){if(Mu=_a,e=Z0(),af(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(a=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Au={focusedElem:e,selectionRange:r},_a=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,b=w.memoizedState,v=t.stateNode,g=v.getSnapshotBeforeUpdate(t.elementType===t.type?y:Ot(t.type,y),b);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(S){je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return w=Vp,Vp=!1,w}function bi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yu(t,r,i)}s=s.next}while(s!==n)}}function ml(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ju(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Yv(e){var t=e.alternate;t!==null&&(e.alternate=null,Yv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yt],delete t[Bi],delete t[Lu],delete t[Xj],delete t[Qj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Jv(e){return e.tag===5||e.tag===3||e.tag===4}function Fp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ea));else if(n!==4&&(e=e.child,e!==null))for(Xu(e,t,r),e=e.sibling;e!==null;)Xu(e,t,r),e=e.sibling}function Qu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Qu(e,t,r),e=e.sibling;e!==null;)Qu(e,t,r),e=e.sibling}var Ue=null,zt=!1;function br(e,t,r){for(r=r.child;r!==null;)Xv(e,t,r),r=r.sibling}function Xv(e,t,r){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(al,r)}catch{}switch(r.tag){case 5:Ye||os(r,t);case 6:var n=Ue,s=zt;Ue=null,br(e,t,r),Ue=n,zt=s,Ue!==null&&(zt?(e=Ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(zt?(e=Ue,r=r.stateNode,e.nodeType===8?bc(e.parentNode,r):e.nodeType===1&&bc(e,r),Oi(e)):bc(Ue,r.stateNode));break;case 4:n=Ue,s=zt,Ue=r.stateNode.containerInfo,zt=!0,br(e,t,r),Ue=n,zt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yu(r,t,o),s=s.next}while(s!==n)}br(e,t,r);break;case 1:if(!Ye&&(os(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){je(r,t,a)}br(e,t,r);break;case 21:br(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,br(e,t,r),Ye=n):br(e,t,r);break;default:br(e,t,r)}}function Bp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new pk),t.forEach(function(n){var s=kk.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ue=a.stateNode,zt=!1;break e;case 3:Ue=a.stateNode.containerInfo,zt=!0;break e;case 4:Ue=a.stateNode.containerInfo,zt=!0;break e}a=a.return}if(Ue===null)throw Error(L(160));Xv(i,o,s),Ue=null,zt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qv(t,e),t=t.sibling}function Qv(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Dt(t,e),Wt(e),n&4){try{bi(3,e,e.return),ml(3,e)}catch(y){je(e,e.return,y)}try{bi(5,e,e.return)}catch(y){je(e,e.return,y)}}break;case 1:Dt(t,e),Wt(e),n&512&&r!==null&&os(r,r.return);break;case 5:if(Dt(t,e),Wt(e),n&512&&r!==null&&os(r,r.return),e.flags&32){var s=e.stateNode;try{Ai(s,"")}catch(y){je(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&w0(s,i),Su(a,o);var u=Su(a,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?C0(s,f):d==="dangerouslySetInnerHTML"?j0(s,f):d==="children"?Ai(s,f):qd(s,d,f,u)}switch(a){case"input":vu(s,i);break;case"textarea":b0(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?hs(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?hs(s,!!i.multiple,i.defaultValue,!0):hs(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bi]=i}catch(y){je(e,e.return,y)}}break;case 6:if(Dt(t,e),Wt(e),n&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){je(e,e.return,y)}}break;case 3:if(Dt(t,e),Wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Oi(t.containerInfo)}catch(y){je(e,e.return,y)}break;case 4:Dt(t,e),Wt(e);break;case 13:Dt(t,e),Wt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Pf=Pe())),n&4&&Bp(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||d,Dt(t,e),Ye=u):Dt(t,e),Wt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,m=h.child,h.tag){case 0:case 11:case 14:case 15:bi(4,h,h.return);break;case 1:os(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){je(n,r,y)}}break;case 5:os(h,h.return);break;case 22:if(h.memoizedState!==null){Gp(f);continue}}m!==null?(m.return=h,$=m):Gp(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=k0("display",o))}catch(y){je(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){je(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Dt(t,e),Wt(e),n&4&&Bp(e);break;case 21:break;default:Dt(t,e),Wt(e)}}function Wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Jv(r)){var n=r;break e}r=r.return}throw Error(L(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ai(s,""),n.flags&=-33);var i=Fp(e);Qu(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Fp(e);Xu(e,a,o);break;default:throw Error(L(161))}}catch(c){je(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gk(e,t,r){$=e,Zv(e)}function Zv(e,t,r){for(var n=(e.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||zo;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ye;a=zo;var u=Ye;if(zo=o,(Ye=c)&&!u)for($=s;$!==null;)o=$,c=o.child,o.tag===22&&o.memoizedState!==null?Hp(s):c!==null?(c.return=o,$=c):Hp(s);for(;i!==null;)$=i,Zv(i),i=i.sibling;$=s,zo=a,Ye=u}Up(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):Up(e)}}function Up(e){for(;$!==null;){var t=$;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||ml(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ot(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pp(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Pp(t,o,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Oi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ye||t.flags&512&&Ju(t)}catch(h){je(t,t.return,h)}}if(t===e){$=null;break}if(r=t.sibling,r!==null){r.return=t.return,$=r;break}$=t.return}}function Gp(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$=r;break}$=t.return}}function Hp(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ml(4,t)}catch(c){je(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){je(t,s,c)}}var i=t.return;try{Ju(t)}catch(c){je(t,i,c)}break;case 5:var o=t.return;try{Ju(t)}catch(c){je(t,o,c)}}}catch(c){je(t,t.return,c)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var vk=Math.ceil,Va=xr.ReactCurrentDispatcher,Cf=xr.ReactCurrentOwner,Tt=xr.ReactCurrentBatchConfig,te=0,ze=null,Re=null,Ge=0,gt=0,as=en(0),Ae=0,Ki=null,En=0,gl=0,_f=0,Si=null,ot=null,Pf=0,Ns=1/0,or=null,Fa=!1,Zu=null,Br=null,$o=!1,Dr=null,Ba=0,ji=0,ed=null,pa=-1,ma=0;function tt(){return te&6?Pe():pa!==-1?pa:pa=Pe()}function Ur(e){return e.mode&1?te&2&&Ge!==0?Ge&-Ge:ek.transition!==null?(ma===0&&(ma=O0()),ma):(e=ne,e!==0||(e=window.event,e=e===void 0?16:G0(e.type)),e):1}function Bt(e,t,r,n){if(50<ji)throw ji=0,ed=null,Error(L(185));oo(e,r,n),(!(te&2)||e!==ze)&&(e===ze&&(!(te&2)&&(gl|=r),Ae===4&&Mr(e,Ge)),dt(e,n),r===1&&te===0&&!(t.mode&1)&&(Ns=Pe()+500,fl&&tn()))}function dt(e,t){var r=e.callbackNode;ej(e,t);var n=Ca(e,e===ze?Ge:0);if(n===0)r!==null&&ep(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ep(r),t===1)e.tag===0?Zj(Wp.bind(null,e)):cv(Wp.bind(null,e)),Yj(function(){!(te&6)&&tn()}),r=null;else{switch(z0(n)){case 1:r=Qd;break;case 4:r=D0;break;case 16:r=ka;break;case 536870912:r=L0;break;default:r=ka}r=ay(r,ey.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ey(e,t){if(pa=-1,ma=0,te&6)throw Error(L(327));var r=e.callbackNode;if(ys()&&e.callbackNode!==r)return null;var n=Ca(e,e===ze?Ge:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ua(e,n);else{t=n;var s=te;te|=2;var i=ry();(ze!==e||Ge!==t)&&(or=null,Ns=Pe()+500,kn(e,t));do try{wk();break}catch(a){ty(e,a)}while(1);ff(),Va.current=i,te=s,Re!==null?t=0:(ze=null,Ge=0,t=Ae)}if(t!==0){if(t===2&&(s=Pu(e),s!==0&&(n=s,t=td(e,s))),t===1)throw r=Ki,kn(e,0),Mr(e,n),dt(e,Pe()),r;if(t===6)Mr(e,n);else{if(s=e.current.alternate,!(n&30)&&!yk(s)&&(t=Ua(e,n),t===2&&(i=Pu(e),i!==0&&(n=i,t=td(e,i))),t===1))throw r=Ki,kn(e,0),Mr(e,n),dt(e,Pe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(L(345));case 2:hn(e,ot,or);break;case 3:if(Mr(e,n),(n&130023424)===n&&(t=Pf+500-Pe(),10<t)){if(Ca(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){tt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Du(hn.bind(null,e,ot,or),t);break}hn(e,ot,or);break;case 4:if(Mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ft(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Pe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vk(n/1960))-n,10<n){e.timeoutHandle=Du(hn.bind(null,e,ot,or),n);break}hn(e,ot,or);break;case 5:hn(e,ot,or);break;default:throw Error(L(329))}}}return dt(e,Pe()),e.callbackNode===r?ey.bind(null,e):null}function td(e,t){var r=Si;return e.current.memoizedState.isDehydrated&&(kn(e,t).flags|=256),e=Ua(e,t),e!==2&&(t=ot,ot=r,t!==null&&rd(t)),e}function rd(e){ot===null?ot=e:ot.push.apply(ot,e)}function yk(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~_f,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ft(t),n=1<<r;e[r]=-1,t&=~n}}function Wp(e){if(te&6)throw Error(L(327));ys();var t=Ca(e,0);if(!(t&1))return dt(e,Pe()),null;var r=Ua(e,t);if(e.tag!==0&&r===2){var n=Pu(e);n!==0&&(t=n,r=td(e,n))}if(r===1)throw r=Ki,kn(e,0),Mr(e,t),dt(e,Pe()),r;if(r===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hn(e,ot,or),dt(e,Pe()),null}function Nf(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(Ns=Pe()+500,fl&&tn())}}function Tn(e){Dr!==null&&Dr.tag===0&&!(te&6)&&ys();var t=te;te|=1;var r=Tt.transition,n=ne;try{if(Tt.transition=null,ne=1,e)return e()}finally{ne=n,Tt.transition=r,te=t,!(te&6)&&tn()}}function Ef(){gt=as.current,fe(as)}function kn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Kj(r)),Re!==null)for(r=Re.return;r!==null;){var n=r;switch(cf(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ta();break;case 3:_s(),fe(ct),fe(Je),yf();break;case 5:vf(n);break;case 4:_s();break;case 13:fe(ye);break;case 19:fe(ye);break;case 10:hf(n.type._context);break;case 22:case 23:Ef()}r=r.return}if(ze=e,Re=e=Gr(e.current,null),Ge=gt=t,Ae=0,Ki=null,_f=gl=En=0,ot=Si=null,wn!==null){for(t=0;t<wn.length;t++)if(r=wn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}wn=null}return e}function ty(e,t){do{var r=Re;try{if(ff(),da.current=$a,za){for(var n=we.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}za=!1}if(Nn=0,Le=Me=we=null,wi=!1,Hi=0,Cf.current=null,r===null||r.return===null){Ae=1,Ki=t,Re=null;break}e:{var i=e,o=r.return,a=r,c=t;if(t=Ge,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ap(o);if(m!==null){m.flags&=-257,Ip(m,o,a,i,t),m.mode&1&&Mp(i,u,t),t=m,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Mp(i,u,t),Tf();break e}c=Error(L(426))}}else if(pe&&a.mode&1){var b=Ap(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ip(b,o,a,i,t),uf(Ps(c,a));break e}}i=c=Ps(c,a),Ae!==4&&(Ae=2),Si===null?Si=[i]:Si.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var v=zv(i,c,t);_p(i,v);break e;case 1:a=c;var g=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Br===null||!Br.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=$v(i,a,t);_p(i,S);break e}}i=i.return}while(i!==null)}sy(r)}catch(j){t=j,Re===r&&r!==null&&(Re=r=r.return);continue}break}while(1)}function ry(){var e=Va.current;return Va.current=$a,e===null?$a:e}function Tf(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),ze===null||!(En&268435455)&&!(gl&268435455)||Mr(ze,Ge)}function Ua(e,t){var r=te;te|=2;var n=ry();(ze!==e||Ge!==t)&&(or=null,kn(e,t));do try{xk();break}catch(s){ty(e,s)}while(1);if(ff(),te=r,Va.current=n,Re!==null)throw Error(L(261));return ze=null,Ge=0,Ae}function xk(){for(;Re!==null;)ny(Re)}function wk(){for(;Re!==null&&!HS();)ny(Re)}function ny(e){var t=oy(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?sy(e):Re=t,Cf.current=null}function sy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=hk(r,t),r!==null){r.flags&=32767,Re=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Re=null;return}}else if(r=fk(r,t,gt),r!==null){Re=r;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);Ae===0&&(Ae=5)}function hn(e,t,r){var n=ne,s=Tt.transition;try{Tt.transition=null,ne=1,bk(e,t,r,n)}finally{Tt.transition=s,ne=n}return null}function bk(e,t,r,n){do ys();while(Dr!==null);if(te&6)throw Error(L(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(tj(e,i),e===ze&&(Re=ze=null,Ge=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$o||($o=!0,ay(ka,function(){return ys(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var o=ne;ne=1;var a=te;te|=4,Cf.current=null,mk(e,r),Qv(r,e),Fj(Au),_a=!!Mu,Au=Mu=null,e.current=r,gk(r),WS(),te=a,ne=o,Tt.transition=i}else e.current=r;if($o&&($o=!1,Dr=e,Ba=s),i=e.pendingLanes,i===0&&(Br=null),YS(r.stateNode),dt(e,Pe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Fa)throw Fa=!1,e=Zu,Zu=null,e;return Ba&1&&e.tag!==0&&ys(),i=e.pendingLanes,i&1?e===ed?ji++:(ji=0,ed=e):ji=0,tn(),null}function ys(){if(Dr!==null){var e=z0(Ba),t=Tt.transition,r=ne;try{if(Tt.transition=null,ne=16>e?16:e,Dr===null)var n=!1;else{if(e=Dr,Dr=null,Ba=0,te&6)throw Error(L(331));var s=te;for(te|=4,$=e.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for($=u;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:bi(8,d,i)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,m=d.return;if(Yv(d),d===u){$=null;break}if(h!==null){h.return=m,$=h;break}$=m}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bi(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,$=v;break e}$=i.return}}var g=e.current;for($=g;$!==null;){o=$;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,$=x;else e:for(o=g;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ml(9,a)}}catch(j){je(a,a.return,j)}if(a===o){$=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,$=S;break e}$=a.return}}if(te=s,tn(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(al,e)}catch{}n=!0}return n}finally{ne=r,Tt.transition=t}}return!1}function qp(e,t,r){t=Ps(r,t),t=zv(e,t,1),e=Fr(e,t,1),t=tt(),e!==null&&(oo(e,1,t),dt(e,t))}function je(e,t,r){if(e.tag===3)qp(e,e,r);else for(;t!==null;){if(t.tag===3){qp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Br===null||!Br.has(n))){e=Ps(r,e),e=$v(t,e,1),t=Fr(t,e,1),e=tt(),t!==null&&(oo(t,1,e),dt(t,e));break}}t=t.return}}function Sk(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=tt(),e.pingedLanes|=e.suspendedLanes&r,ze===e&&(Ge&r)===r&&(Ae===4||Ae===3&&(Ge&130023424)===Ge&&500>Pe()-Pf?kn(e,0):_f|=r),dt(e,t)}function iy(e,t){t===0&&(e.mode&1?(t=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):t=1);var r=tt();e=vr(e,t),e!==null&&(oo(e,t,r),dt(e,r))}function jk(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),iy(e,r)}function kk(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(L(314))}n!==null&&n.delete(t),iy(e,r)}var oy;oy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lt=!1,dk(e,t,r);lt=!!(e.flags&131072)}else lt=!1,pe&&t.flags&1048576&&uv(t,Aa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ha(e,t),e=t.pendingProps;var s=js(t,Je.current);vs(t,r),s=wf(null,t,n,e,s,r);var i=bf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(n)?(i=!0,Ra(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mf(t),s.updater=pl,t.stateNode=s,s._reactInternals=t,Bu(t,n,e,r),t=Hu(null,t,n,!0,i,r)):(t.tag=0,pe&&i&&lf(t),et(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=_k(n),e=Ot(n,e),s){case 0:t=Gu(null,t,n,e,r);break e;case 1:t=Op(null,t,n,e,r);break e;case 11:t=Dp(null,t,n,e,r);break e;case 14:t=Lp(null,t,n,Ot(n.type,e),r);break e}throw Error(L(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),Gu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),Op(e,t,n,s,r);case 3:e:{if(Uv(t),e===null)throw Error(L(387));n=t.pendingProps,i=t.memoizedState,s=i.element,gv(e,t),La(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ps(Error(L(423)),t),t=zp(e,t,n,r,s);break e}else if(n!==s){s=Ps(Error(L(424)),t),t=zp(e,t,n,r,s);break e}else for(vt=Vr(t.stateNode.containerInfo.firstChild),yt=t,pe=!0,Vt=null,r=pv(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ks(),n===s){t=yr(e,t,r);break e}et(e,t,n,r)}t=t.child}return t;case 5:return vv(t),e===null&&$u(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Iu(n,s)?o=null:i!==null&&Iu(n,i)&&(t.flags|=32),Bv(e,t),et(e,t,o,r),t.child;case 6:return e===null&&$u(t),null;case 13:return Gv(e,t,r);case 4:return gf(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Cs(t,null,n,r):et(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),Dp(e,t,n,s,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Ia,n._currentValue),n._currentValue=o,i!==null)if(Ut(i.value,o)){if(i.children===s.children&&!ct.current){t=yr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=fr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Vu(i.return,r,t),a.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Vu(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}et(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,vs(t,r),s=Mt(s),n=n(s),t.flags|=1,et(e,t,n,r),t.child;case 14:return n=t.type,s=Ot(n,t.pendingProps),s=Ot(n.type,s),Lp(e,t,n,s,r);case 15:return Vv(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ot(n,s),ha(e,t),t.tag=1,ut(n)?(e=!0,Ra(t)):e=!1,vs(t,r),Ov(t,n,s),Bu(t,n,s,r),Hu(null,t,n,!0,e,r);case 19:return Hv(e,t,r);case 22:return Fv(e,t,r)}throw Error(L(156,t.tag))};function ay(e,t){return I0(e,t)}function Ck(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,r,n){return new Ck(e,t,r,n)}function Rf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _k(e){if(typeof e=="function")return Rf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yd)return 11;if(e===Jd)return 14}return 2}function Gr(e,t){var r=e.alternate;return r===null?(r=Et(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ga(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Rf(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Xn:return Cn(r.children,s,i,t);case Kd:o=8,s|=8;break;case fu:return e=Et(12,r,t,s|2),e.elementType=fu,e.lanes=i,e;case hu:return e=Et(13,r,t,s),e.elementType=hu,e.lanes=i,e;case pu:return e=Et(19,r,t,s),e.elementType=pu,e.lanes=i,e;case v0:return vl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case m0:o=10;break e;case g0:o=9;break e;case Yd:o=11;break e;case Jd:o=14;break e;case Pr:o=16,n=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Et(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Cn(e,t,r,n){return e=Et(7,e,n,t),e.lanes=r,e}function vl(e,t,r,n){return e=Et(22,e,n,t),e.elementType=v0,e.lanes=r,e.stateNode={isHidden:!1},e}function Ec(e,t,r){return e=Et(6,e,null,t),e.lanes=r,e}function Tc(e,t,r){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Pk(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uc(0),this.expirationTimes=uc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Mf(e,t,r,n,s,i,o,a,c){return e=new Pk(e,t,r,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Et(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mf(i),e}function Nk(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ly(e){if(!e)return Jr;e=e._reactInternals;e:{if(In(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var r=e.type;if(ut(r))return lv(e,r,t)}return t}function cy(e,t,r,n,s,i,o,a,c){return e=Mf(r,n,!0,e,s,i,o,a,c),e.context=ly(null),r=e.current,n=tt(),s=Ur(r),i=fr(n,s),i.callback=t??null,Fr(r,i,s),e.current.lanes=s,oo(e,s,n),dt(e,n),e}function yl(e,t,r,n){var s=t.current,i=tt(),o=Ur(s);return r=ly(r),t.context===null?t.context=r:t.pendingContext=r,t=fr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fr(s,t,o),e!==null&&(Bt(e,s,o,i),ua(e,s,o)),o}function Ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Kp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Af(e,t){Kp(e,t),(e=e.alternate)&&Kp(e,t)}function Ek(){return null}var uy=typeof reportError=="function"?reportError:function(e){console.error(e)};function If(e){this._internalRoot=e}xl.prototype.render=If.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));yl(e,t,null,null)};xl.prototype.unmount=If.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){yl(null,e,null,null)}),t[gr]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=F0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rr.length&&t!==0&&t<Rr[r].priority;r++);Rr.splice(r,0,e),r===0&&U0(e)}};function Df(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yp(){}function Tk(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ga(o);i.call(u)}}var o=cy(t,n,e,0,null,!1,!1,"",Yp);return e._reactRootContainer=o,e[gr]=o.current,Vi(e.nodeType===8?e.parentNode:e),Tn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Ga(c);a.call(u)}}var c=Mf(e,0,!1,null,null,!1,!1,"",Yp);return e._reactRootContainer=c,e[gr]=c.current,Vi(e.nodeType===8?e.parentNode:e),Tn(function(){yl(t,c,r,n)}),c}function bl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Ga(o);a.call(c)}}yl(t,o,e,s)}else o=Tk(r,t,e,s,n);return Ga(o)}$0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ui(t.pendingLanes);r!==0&&(Zd(t,r|1),dt(t,Pe()),!(te&6)&&(Ns=Pe()+500,tn()))}break;case 13:Tn(function(){var n=vr(e,1);if(n!==null){var s=tt();Bt(n,e,1,s)}}),Af(e,1)}};ef=function(e){if(e.tag===13){var t=vr(e,134217728);if(t!==null){var r=tt();Bt(t,e,134217728,r)}Af(e,134217728)}};V0=function(e){if(e.tag===13){var t=Ur(e),r=vr(e,t);if(r!==null){var n=tt();Bt(r,e,t,n)}Af(e,t)}};F0=function(){return ne};B0=function(e,t){var r=ne;try{return ne=e,t()}finally{ne=r}};ku=function(e,t,r){switch(t){case"input":if(vu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=dl(n);if(!s)throw Error(L(90));x0(n),vu(n,s)}}}break;case"textarea":b0(e,r);break;case"select":t=r.value,t!=null&&hs(e,!!r.multiple,t,!1)}};N0=Nf;E0=Tn;var Rk={usingClientEntryPoint:!1,Events:[lo,ts,dl,_0,P0,Nf]},ti={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mk={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=M0(e),e===null?null:e.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||Ek,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vo.isDisabled&&Vo.supportsFiber)try{al=Vo.inject(Mk),Xt=Vo}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rk;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(t))throw Error(L(200));return Nk(e,t,null,r)};bt.createRoot=function(e,t){if(!Df(e))throw Error(L(299));var r=!1,n="",s=uy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Mf(e,1,!1,null,null,r,!1,n,s),e[gr]=t.current,Vi(e.nodeType===8?e.parentNode:e),new If(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=M0(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Tn(e)};bt.hydrate=function(e,t,r){if(!wl(t))throw Error(L(200));return bl(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!Df(e))throw Error(L(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=uy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=cy(t,null,e,1,r??null,s,!1,i,o),e[gr]=t.current,Vi(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new xl(t)};bt.render=function(e,t,r){if(!wl(t))throw Error(L(200));return bl(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!wl(e))throw Error(L(40));return e._reactRootContainer?(Tn(function(){bl(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1};bt.unstable_batchedUpdates=Nf;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!wl(r))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return bl(e,t,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function dy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dy)}catch(e){console.error(e)}}dy(),d0.exports=bt;var Sl=d0.exports;const Ak=Zg(Sl);var Jp=Sl;uu.createRoot=Jp.createRoot,uu.hydrateRoot=Jp.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yi(){return Yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yi.apply(this,arguments)}var Lr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Lr||(Lr={}));const Xp="popstate";function Ik(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:a}=n.location;return nd("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ha(s)}return Lk(t,r,null,e)}function Ne(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dk(){return Math.random().toString(36).substr(2,8)}function Qp(e,t){return{usr:e.state,key:e.key,idx:t}}function nd(e,t,r,n){return r===void 0&&(r=null),Yi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$s(t):t,{state:r,key:t&&t.key||n||Dk()})}function Ha(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function $s(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Lk(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=Lr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Yi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Lr.Pop;let b=d(),v=b==null?null:b-u;u=b,c&&c({action:a,location:y.location,delta:v})}function h(b,v){a=Lr.Push;let g=nd(y.location,b,v);r&&r(g,b),u=d()+1;let x=Qp(g,u),S=y.createHref(g);try{o.pushState(x,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}i&&c&&c({action:a,location:y.location,delta:1})}function m(b,v){a=Lr.Replace;let g=nd(y.location,b,v);r&&r(g,b),u=d();let x=Qp(g,u),S=y.createHref(g);o.replaceState(x,"",S),i&&c&&c({action:a,location:y.location,delta:0})}function w(b){let v=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:Ha(b);return g=g.replace(/ $/,"%20"),Ne(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let y={get action(){return a},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Xp,f),c=b,()=>{s.removeEventListener(Xp,f),c=null}},createHref(b){return t(s,b)},createURL:w,encodeLocation(b){let v=w(b);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(b){return o.go(b)}};return y}var Zp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Zp||(Zp={}));function Ok(e,t,r){return r===void 0&&(r="/"),zk(e,t,r,!1)}function zk(e,t,r,n){let s=typeof t=="string"?$s(t):t,i=Lf(s.pathname||"/",r);if(i==null)return null;let o=hy(e);$k(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=Jk(i);a=Kk(o[c],u,n)}return a}function hy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ne(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Hr([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hy(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Wk(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of py(i.path))s(i,o,c)}),t}function py(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=py(n.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function $k(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qk(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Vk=/^:[\w-]+$/,Fk=3,Bk=2,Uk=1,Gk=10,Hk=-2,em=e=>e==="*";function Wk(e,t){let r=e.split("/"),n=r.length;return r.some(em)&&(n+=Hk),t&&(n+=Bk),r.filter(s=>!em(s)).reduce((s,i)=>s+(Vk.test(i)?Fk:i===""?Uk:Gk),n)}function qk(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Kk(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,s={},i="/",o=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=tm({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=tm({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Hr([i,f.pathname]),pathnameBase:e2(Hr([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Hr([i,f.pathnameBase]))}return o}function tm(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Yk(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[f];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Yk(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),fy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Jk(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return fy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lf(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Xk(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?$s(e):e;return{pathname:r?r.startsWith("/")?r:Qk(r,t):t,search:t2(n),hash:r2(s)}}function Qk(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Rc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zk(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Of(e,t){let r=Zk(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=$s(e):(s=Yi({},e),Ne(!s.pathname||!s.pathname.includes("?"),Rc("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),Rc("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),Rc("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?t[f]:"/"}let c=Xk(s,a),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Hr=e=>e.join("/").replace(/\/\/+/g,"/"),e2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,r2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function n2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const my=["post","put","patch","delete"];new Set(my);const s2=["get",...my];new Set(s2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(this,arguments)}const $f=p.createContext(null),i2=p.createContext(null),rn=p.createContext(null),jl=p.createContext(null),sr=p.createContext({outlet:null,matches:[],isDataRoute:!1}),gy=p.createContext(null);function o2(e,t){let{relative:r}=t===void 0?{}:t;Vs()||Ne(!1);let{basename:n,navigator:s}=p.useContext(rn),{hash:i,pathname:o,search:a}=yy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Hr([n,o])),s.createHref({pathname:c,search:a,hash:i})}function Vs(){return p.useContext(jl)!=null}function Dn(){return Vs()||Ne(!1),p.useContext(jl).location}function vy(e){p.useContext(rn).static||p.useLayoutEffect(e)}function _e(){let{isDataRoute:e}=p.useContext(sr);return e?b2():a2()}function a2(){Vs()||Ne(!1);let e=p.useContext($f),{basename:t,future:r,navigator:n}=p.useContext(rn),{matches:s}=p.useContext(sr),{pathname:i}=Dn(),o=JSON.stringify(Of(s,r.v7_relativeSplatPath)),a=p.useRef(!1);return vy(()=>{a.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=zf(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Hr([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const l2=p.createContext(null);function c2(e){let t=p.useContext(sr).outlet;return t&&p.createElement(l2.Provider,{value:e},t)}function kl(){let{matches:e}=p.useContext(sr),t=e[e.length-1];return t?t.params:{}}function yy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=p.useContext(rn),{matches:s}=p.useContext(sr),{pathname:i}=Dn(),o=JSON.stringify(Of(s,n.v7_relativeSplatPath));return p.useMemo(()=>zf(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function u2(e,t){return d2(e,t)}function d2(e,t,r,n){Vs()||Ne(!1);let{navigator:s,static:i}=p.useContext(rn),{matches:o}=p.useContext(sr),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let d=Dn(),f;if(t){var h;let v=typeof t=="string"?$s(t):t;u==="/"||(h=v.pathname)!=null&&h.startsWith(u)||Ne(!1),f=v}else f=d;let m=f.pathname||"/",w=m;if(u!=="/"){let v=u.replace(/^\//,"").split("/");w="/"+m.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=!i&&r&&r.matches&&r.matches.length>0?r.matches:Ok(e,{pathname:w}),b=g2(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},c,v.params),pathname:Hr([u,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?u:Hr([u,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),o,r,n);return t&&b?p.createElement(jl.Provider,{value:{location:Ji({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Lr.Pop}},b):b}function f2(){let e=w2(),t=n2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:s},r):null,i)}const h2=p.createElement(f2,null);class p2 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(sr.Provider,{value:this.props.routeContext},p.createElement(gy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function m2(e){let{routeContext:t,match:r,children:n}=e,s=p.useContext($f);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(sr.Provider,{value:t},n)}function g2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Ne(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,w=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||w){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,w=!1,y=null,b=null;r&&(m=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||h2,c&&(u<0&&h===0?(S2("route-fallback",!1),w=!0,b=null):u===h&&(w=!0,b=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),g=()=>{let x;return m?x=y:w?x=b:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,p.createElement(m2,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:x})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(p2,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var xy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xy||{}),Wa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wa||{});function v2(e){let t=p.useContext($f);return t||Ne(!1),t}function y2(e){let t=p.useContext(i2);return t||Ne(!1),t}function x2(e){let t=p.useContext(sr);return t||Ne(!1),t}function wy(e){let t=x2(),r=t.matches[t.matches.length-1];return r.route.id||Ne(!1),r.route.id}function w2(){var e;let t=p.useContext(gy),r=y2(Wa.UseRouteError),n=wy(Wa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function b2(){let{router:e}=v2(xy.UseNavigateStable),t=wy(Wa.UseNavigateStable),r=p.useRef(!1);return vy(()=>{r.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ji({fromRouteId:t},i)))},[e,t])}const rm={};function S2(e,t,r){!t&&!rm[e]&&(rm[e]=!0)}function j2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function mt(e){let{to:t,replace:r,state:n,relative:s}=e;Vs()||Ne(!1);let{future:i,static:o}=p.useContext(rn),{matches:a}=p.useContext(sr),{pathname:c}=Dn(),u=_e(),d=zf(t,Of(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function k2(e){return c2(e.context)}function Se(e){Ne(!1)}function C2(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Lr.Pop,navigator:i,static:o=!1,future:a}=e;Vs()&&Ne(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:Ji({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof n=="string"&&(n=$s(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:w="default"}=n,y=p.useMemo(()=>{let b=Lf(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:w},navigationType:s}},[c,d,f,h,m,w,s]);return y==null?null:p.createElement(rn.Provider,{value:u},p.createElement(jl.Provider,{children:r,value:y}))}function _2(e){let{children:t,location:r}=e;return u2(sd(t),r)}new Promise(()=>{});function sd(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,s)=>{if(!p.isValidElement(n))return;let i=[...t,s];if(n.type===p.Fragment){r.push.apply(r,sd(n.props.children,i));return}n.type!==Se&&Ne(!1),!n.props.index||!n.props.children||Ne(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=sd(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},id.apply(this,arguments)}function P2(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function N2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function E2(e,t){return e.button===0&&(!t||t==="_self")&&!N2(e)}const T2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],R2="6";try{window.__reactRouterVersion=R2}catch{}const M2="startTransition",nm=Gd[M2];function A2(e){let{basename:t,children:r,future:n,window:s}=e,i=p.useRef();i.current==null&&(i.current=Ik({window:s,v5Compat:!0}));let o=i.current,[a,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&nm?nm(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>j2(n),[n]),p.createElement(C2,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const I2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",D2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=p.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=P2(t,T2),{basename:m}=p.useContext(rn),w,y=!1;if(typeof u=="string"&&D2.test(u)&&(w=u,I2))try{let x=new URL(window.location.href),S=u.startsWith("//")?new URL(x.protocol+u):new URL(u),j=Lf(S.pathname,m);S.origin===x.origin&&j!=null?u=j+S.search+S.hash:y=!0}catch{}let b=o2(u,{relative:s}),v=L2(u,{replace:o,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function g(x){n&&n(x),x.defaultPrevented||v(x)}return p.createElement("a",id({},h,{href:w||b,onClick:y||i?n:g,ref:r,target:c}))});var sm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sm||(sm={}));var im;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(im||(im={}));function L2(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=_e(),u=Dn(),d=yy(e,{relative:o});return p.useCallback(f=>{if(E2(f,r)){f.preventDefault();let h=n!==void 0?n:Ha(u)===Ha(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,d,n,s,r,e,i,o,a])}function by(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=by(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Sy(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=by(e))&&(n&&(n+=" "),n+=t);return n}function O2(){for(var e=0,t,r,n="";e<arguments.length;)(t=arguments[e++])&&(r=jy(t))&&(n&&(n+=" "),n+=r);return n}function jy(e){if(typeof e=="string")return e;for(var t,r="",n=0;n<e.length;n++)e[n]&&(t=jy(e[n]))&&(r&&(r+=" "),r+=t);return r}var Vf="-";function z2(e){var t=V2(e),r=e.conflictingClassGroups,n=e.conflictingClassGroupModifiers,s=n===void 0?{}:n;function i(a){var c=a.split(Vf);return c[0]===""&&c.length!==1&&c.shift(),ky(c,t)||$2(a)}function o(a,c){var u=r[a]||[];return c&&s[a]?[].concat(u,s[a]):u}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function ky(e,t){var o;if(e.length===0)return t.classGroupId;var r=e[0],n=t.nextPart.get(r),s=n?ky(e.slice(1),n):void 0;if(s)return s;if(t.validators.length!==0){var i=e.join(Vf);return(o=t.validators.find(function(a){var c=a.validator;return c(i)}))==null?void 0:o.classGroupId}}var om=/^\[(.+)\]$/;function $2(e){if(om.test(e)){var t=om.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}}function V2(e){var t=e.theme,r=e.prefix,n={nextPart:new Map,validators:[]},s=B2(Object.entries(e.classGroups),r);return s.forEach(function(i){var o=i[0],a=i[1];od(a,n,o,t)}),n}function od(e,t,r,n){e.forEach(function(s){if(typeof s=="string"){var i=s===""?t:am(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(F2(s)){od(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(function(o){var a=o[0],c=o[1];od(c,am(t,a),r,n)})})}function am(e,t){var r=e;return t.split(Vf).forEach(function(n){r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r}function F2(e){return e.isThemeGetter}function B2(e,t){return t?e.map(function(r){var n=r[0],s=r[1],i=s.map(function(o){return typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var c=a[0],u=a[1];return[t+c,u]})):o});return[n,i]}):e}function U2(e){if(e<1)return{get:function(){},set:function(){}};var t=0,r=new Map,n=new Map;function s(i,o){r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)}return{get:function(o){var a=r.get(o);if(a!==void 0)return a;if((a=n.get(o))!==void 0)return s(o,a),a},set:function(o,a){r.has(o)?r.set(o,a):s(o,a)}}}var Cy="!";function G2(e){var t=e.separator||":",r=t.length===1,n=t[0],s=t.length;return function(o){for(var a=[],c=0,u=0,d,f=0;f<o.length;f++){var h=o[f];if(c===0){if(h===n&&(r||o.slice(f,f+s)===t)){a.push(o.slice(u,f)),u=f+s;continue}if(h==="/"){d=f;continue}}h==="["?c++:h==="]"&&c--}var m=a.length===0?o:o.substring(u),w=m.startsWith(Cy),y=w?m.substring(1):m,b=d&&d>u?d-u:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:b}}}function H2(e){if(e.length<=1)return e;var t=[],r=[];return e.forEach(function(n){var s=n[0]==="[";s?(t.push.apply(t,r.sort().concat([n])),r=[]):r.push(n)}),t.push.apply(t,r.sort()),t}function W2(e){return{cache:U2(e.cacheSize),splitModifiers:G2(e),...z2(e)}}var q2=/\s+/;function K2(e,t){var r=t.splitModifiers,n=t.getClassGroupId,s=t.getConflictingClassGroupIds,i=new Set;return e.trim().split(q2).map(function(o){var a=r(o),c=a.modifiers,u=a.hasImportantModifier,d=a.baseClassName,f=a.maybePostfixModifierPosition,h=n(f?d.substring(0,f):d),m=!!f;if(!h){if(!f)return{isTailwindClass:!1,originalClassName:o};if(h=n(d),!h)return{isTailwindClass:!1,originalClassName:o};m=!1}var w=H2(c).join(":"),y=u?w+Cy:w;return{isTailwindClass:!0,modifierId:y,classGroupId:h,originalClassName:o,hasPostfixModifier:m}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,c=o.classGroupId,u=o.hasPostfixModifier,d=a+c;return i.has(d)?!1:(i.add(d),s(c,u).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function Y2(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,s,i,o=a;function a(u){var d=t[0],f=t.slice(1),h=f.reduce(function(m,w){return w(m)},d());return n=W2(h),s=n.cache.get,i=n.cache.set,o=c,c(u)}function c(u){var d=s(u);if(d)return d;var f=K2(u,n);return i(u,f),f}return function(){return o(O2.apply(null,arguments))}}function ue(e){var t=function(n){return n[e]||[]};return t.isThemeGetter=!0,t}var _y=/^\[(?:([a-z-]+):)?(.+)\]$/i,J2=/^\d+\/\d+$/,X2=new Set(["px","full","screen"]),Q2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Z2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eC=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Lt(e){return Sn(e)||X2.has(e)||J2.test(e)||ad(e)}function ad(e){return Ln(e,"length",oC)}function tC(e){return Ln(e,"size",Py)}function rC(e){return Ln(e,"position",Py)}function nC(e){return Ln(e,"url",aC)}function Fo(e){return Ln(e,"number",Sn)}function Sn(e){return!Number.isNaN(Number(e))}function sC(e){return e.endsWith("%")&&Sn(e.slice(0,-1))}function ri(e){return lm(e)||Ln(e,"number",lm)}function Z(e){return _y.test(e)}function ni(){return!0}function Sr(e){return Q2.test(e)}function iC(e){return Ln(e,"",lC)}function Ln(e,t,r){var n=_y.exec(e);return n?n[1]?n[1]===t:r(n[2]):!1}function oC(e){return Z2.test(e)}function Py(){return!1}function aC(e){return e.startsWith("url(")}function lm(e){return Number.isInteger(Number(e))}function lC(e){return eC.test(e)}function cC(){var e=ue("colors"),t=ue("spacing"),r=ue("blur"),n=ue("brightness"),s=ue("borderColor"),i=ue("borderRadius"),o=ue("borderSpacing"),a=ue("borderWidth"),c=ue("contrast"),u=ue("grayscale"),d=ue("hueRotate"),f=ue("invert"),h=ue("gap"),m=ue("gradientColorStops"),w=ue("gradientColorStopPositions"),y=ue("inset"),b=ue("margin"),v=ue("opacity"),g=ue("padding"),x=ue("saturate"),S=ue("scale"),j=ue("sepia"),P=ue("skew"),k=ue("space"),C=ue("translate"),E=function(){return["auto","contain","none"]},_=function(){return["auto","hidden","clip","visible","scroll"]},R=function(){return["auto",Z,t]},T=function(){return[Z,t]},O=function(){return["",Lt]},N=function(){return["auto",Sn,Z]},I=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},A=function(){return["solid","dashed","dotted","double","none"]},H=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},M=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",Z]},B=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},F=function(){return[Sn,Fo]},U=function(){return[Sn,Z]};return{cacheSize:500,theme:{colors:[ni],spacing:[Lt],blur:["none","",Sr,Z],brightness:F(),borderColor:[e],borderRadius:["none","","full",Sr,Z],borderSpacing:T(),borderWidth:O(),contrast:F(),grayscale:z(),hueRotate:U(),invert:z(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[sC,ad],inset:R(),margin:R(),opacity:F(),padding:T(),saturate:F(),scale:F(),sepia:z(),skew:U(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[Sr]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(I(),[Z])}],overflow:[{overflow:_()}],"overflow-x":[{"overflow-x":_()}],"overflow-y":[{"overflow-y":_()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ri]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ri]}],"grid-cols":[{"grid-cols":[ni]}],"col-start-end":[{col:["auto",{span:["full",ri]},Z]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[ni]}],"row-start-end":[{row:["auto",{span:[ri]},Z]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal"].concat(M())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(M(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(M(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Z,t]}],"min-w":[{"min-w":["min","max","fit",Z,Lt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Sr]},Sr,Z]}],h:[{h:[Z,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Z,Lt]}],"max-h":[{"max-h":[Z,t,"min","max","fit"]}],"font-size":[{text:["base",Sr,ad]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Fo]}],"font-family":[{font:[ni]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",Sn,Fo]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Z,Lt]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(A(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Lt]}],"underline-offset":[{"underline-offset":["auto",Z,Lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(I(),[rC])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",tC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nC]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[].concat(A(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(A())}],"outline-offset":[{"outline-offset":[Z,Lt]}],"outline-w":[{outline:[Lt]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Lt]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Sr,iC]}],"shadow-color":[{shadow:[ni]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":H()}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Sr,Z]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[ri,Z]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Lt,Fo]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var uC=Y2(cC);function W(...e){return uC(Sy(e))}function oe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function cm(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dC(...e){return t=>{let r=!1;const n=e.map(s=>{const i=cm(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():cm(e[s],null)}}}}function Ce(...e){return p.useCallback(dC(...e),e)}function fC(e,t){const r=p.createContext(t),n=i=>{const{children:o,...a}=i,c=p.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=p.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function On(e,t=[]){let r=[];function n(i,o){const a=p.createContext(o),c=r.length;r=[...r,o];const u=f=>{var v;const{scope:h,children:m,...w}=f,y=((v=h==null?void 0:h[e])==null?void 0:v[c])||a,b=p.useMemo(()=>w,Object.values(w));return l.jsx(y.Provider,{value:b,children:m})};u.displayName=i+"Provider";function d(f,h){var y;const m=((y=h==null?void 0:h[e])==null?void 0:y[c])||a,w=p.useContext(m);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>p.createContext(o));return function(a){const c=(a==null?void 0:a[e])||i;return p.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,hC(s,...t)]}function hC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Xi(e){const t=mC(e),r=p.forwardRef((n,s)=>{const{children:i,...o}=n,a=p.Children.toArray(i),c=a.find(vC);if(c){const u=c.props.children,d=a.map(f=>f===c?p.Children.count(u)>1?p.Children.only(null):p.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...o,ref:s,children:p.isValidElement(u)?p.cloneElement(u,void 0,d):null})}return l.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var pC=Xi("Slot");function mC(e){const t=p.forwardRef((r,n)=>{const{children:s,...i}=r,o=p.isValidElement(s)?xC(s):void 0,a=Ce(o,n);if(p.isValidElement(s)){const c=yC(i,s.props);return s.type!==p.Fragment&&(c.ref=a),p.cloneElement(s,c)}return p.Children.count(s)>1?p.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ny=Symbol("radix.slottable");function gC(e){const t=({children:r})=>l.jsx(l.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Ny,t}function vC(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ny}function yC(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function xC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ey(e){const t=e+"CollectionProvider",[r,n]=On(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:b,children:v}=y,g=Y.useRef(null),x=Y.useRef(new Map).current;return l.jsx(s,{scope:b,itemMap:x,collectionRef:g,children:v})};o.displayName=t;const a=e+"CollectionSlot",c=Xi(a),u=Y.forwardRef((y,b)=>{const{scope:v,children:g}=y,x=i(a,v),S=Ce(b,x.collectionRef);return l.jsx(c,{ref:S,children:g})});u.displayName=a;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=Xi(d),m=Y.forwardRef((y,b)=>{const{scope:v,children:g,...x}=y,S=Y.useRef(null),j=Ce(b,S),P=i(d,v);return Y.useEffect(()=>(P.itemMap.set(S,{ref:S,...x}),()=>void P.itemMap.delete(S))),l.jsx(h,{[f]:"",ref:j,children:g})});m.displayName=d;function w(y){const b=i(e+"CollectionConsumer",y);return Y.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const x=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((P,k)=>x.indexOf(P.ref.current)-x.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},w,n]}var wC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=wC.reduce((e,t)=>{const r=Xi(`Primitive.${t}`),n=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Ty(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}function tr(e){const t=p.useRef(e);return p.useEffect(()=>{t.current=e}),p.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function bC(e,t=globalThis==null?void 0:globalThis.document){const r=tr(e);p.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var SC="DismissableLayer",ld="dismissableLayer.update",jC="dismissableLayer.pointerDownOutside",kC="dismissableLayer.focusOutside",um,Ry=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ff=p.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=e,u=p.useContext(Ry),[d,f]=p.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=p.useState({}),w=Ce(t,k=>f(k)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=y.indexOf(b),g=d?y.indexOf(d):-1,x=u.layersWithOutsidePointerEventsDisabled.size>0,S=g>=v,j=_C(k=>{const C=k.target,E=[...u.branches].some(_=>_.contains(C));!S||E||(s==null||s(k),o==null||o(k),k.defaultPrevented||a==null||a())},h),P=PC(k=>{const C=k.target;[...u.branches].some(_=>_.contains(C))||(i==null||i(k),o==null||o(k),k.defaultPrevented||a==null||a())},h);return bC(k=>{g===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},h),p.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(um=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),dm(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=um)}},[d,h,r,u]),p.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),dm())},[d,u]),p.useEffect(()=>{const k=()=>m({});return document.addEventListener(ld,k),()=>document.removeEventListener(ld,k)},[]),l.jsx(ie.div,{...c,ref:w,style:{pointerEvents:x?S?"auto":"none":void 0,...e.style},onFocusCapture:oe(e.onFocusCapture,P.onFocusCapture),onBlurCapture:oe(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:oe(e.onPointerDownCapture,j.onPointerDownCapture)})});Ff.displayName=SC;var CC="DismissableLayerBranch",My=p.forwardRef((e,t)=>{const r=p.useContext(Ry),n=p.useRef(null),s=Ce(t,n);return p.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),l.jsx(ie.div,{...e,ref:s})});My.displayName=CC;function _C(e,t=globalThis==null?void 0:globalThis.document){const r=tr(e),n=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!n.current){let c=function(){Ay(jC,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function PC(e,t=globalThis==null?void 0:globalThis.document){const r=tr(e),n=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!n.current&&Ay(kC,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function dm(){const e=new CustomEvent(ld);document.dispatchEvent(e)}function Ay(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ty(s,i):s.dispatchEvent(i)}var NC=Ff,EC=My,rr=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},TC="Portal",Bf=p.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,i]=p.useState(!1);rr(()=>i(!0),[]);const o=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Ak.createPortal(l.jsx(ie.div,{...n,ref:t}),o):null});Bf.displayName=TC;function RC(e,t){return p.useReducer((r,n)=>t[r][n]??r,e)}var Fs=e=>{const{present:t,children:r}=e,n=MC(t),s=typeof r=="function"?r({present:n.isPresent}):p.Children.only(r),i=Ce(n.ref,AC(s));return typeof r=="function"||n.isPresent?p.cloneElement(s,{ref:i}):null};Fs.displayName="Presence";function MC(e){const[t,r]=p.useState(),n=p.useRef(null),s=p.useRef(e),i=p.useRef("none"),o=e?"mounted":"unmounted",[a,c]=RC(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const u=Bo(n.current);i.current=a==="mounted"?u:"none"},[a]),rr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Bo(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),rr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const y=Bo(n.current).includes(m.animationName);if(m.target===t&&y&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},h=m=>{m.target===t&&(i.current=Bo(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Bo(e){return(e==null?void 0:e.animationName)||"none"}function AC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var IC=Gd[" useInsertionEffect ".trim().toString()]||rr;function Cl({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=DC({defaultProp:t,onChange:r}),a=e!==void 0,c=a?e:s;{const d=p.useRef(e!==void 0);p.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,n])}const u=p.useCallback(d=>{var f;if(a){const h=LC(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[a,e,i,o]);return[c,u]}function DC({defaultProp:e,onChange:t}){const[r,n]=p.useState(e),s=p.useRef(r),i=p.useRef(t);return IC(()=>{i.current=t},[t]),p.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function LC(e){return typeof e=="function"}var OC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zC="VisuallyHidden",Uf=p.forwardRef((e,t)=>l.jsx(ie.span,{...e,ref:t,style:{...OC,...e.style}}));Uf.displayName=zC;var Gf="ToastProvider",[Hf,$C,VC]=Ey("Toast"),[Iy,U3]=On("Toast",[VC]),[FC,_l]=Iy(Gf),Dy=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[a,c]=p.useState(null),[u,d]=p.useState(0),f=p.useRef(!1),h=p.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gf}\`. Expected non-empty \`string\`.`),l.jsx(Hf.Provider,{scope:t,children:l.jsx(FC,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:p.useCallback(()=>d(m=>m+1),[]),onToastRemove:p.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:o})})};Dy.displayName=Gf;var Ly="ToastViewport",BC=["F8"],cd="toast.viewportPause",ud="toast.viewportResume",Oy=p.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=BC,label:s="Notifications ({hotkey})",...i}=e,o=_l(Ly,r),a=$C(r),c=p.useRef(null),u=p.useRef(null),d=p.useRef(null),f=p.useRef(null),h=Ce(t,f,o.onViewportChange),m=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const b=v=>{var x;n.length!==0&&n.every(S=>v[S]||v.code===S)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[n]),p.useEffect(()=>{const b=c.current,v=f.current;if(w&&b&&v){const g=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(cd);v.dispatchEvent(P),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(ud);v.dispatchEvent(P),o.isClosePausedRef.current=!1}},S=P=>{!b.contains(P.relatedTarget)&&x()},j=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",g),b.addEventListener("focusout",S),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",j),window.addEventListener("blur",g),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",S),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",j),window.removeEventListener("blur",g),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:b})=>{const g=a().map(x=>{const S=x.ref.current,j=[S,...t_(S)];return b==="forwards"?j:j.reverse()});return(b==="forwards"?g.reverse():g).flat()},[a]);return p.useEffect(()=>{const b=f.current;if(b){const v=g=>{var j,P,k;const x=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!x){const C=document.activeElement,E=g.shiftKey;if(g.target===b&&E){(j=u.current)==null||j.focus();return}const T=y({tabbingDirection:E?"backwards":"forwards"}),O=T.findIndex(N=>N===C);Mc(T.slice(O+1))?g.preventDefault():E?(P=u.current)==null||P.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",v),()=>b.removeEventListener("keydown",v)}},[a,y]),l.jsxs(EC,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&l.jsx(dd,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});Mc(b)}}),l.jsx(Hf.Slot,{scope:r,children:l.jsx(ie.ol,{tabIndex:-1,...i,ref:h})}),w&&l.jsx(dd,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});Mc(b)}})]})});Oy.displayName=Ly;var zy="ToastFocusProxy",dd=p.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,i=_l(zy,r);return l.jsx(Uf,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&n()}})});dd.displayName=zy;var uo="Toast",UC="toast.swipeStart",GC="toast.swipeMove",HC="toast.swipeCancel",WC="toast.swipeEnd",$y=p.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:i,...o}=e,[a,c]=Cl({prop:n,defaultProp:s??!0,onChange:i,caller:uo});return l.jsx(Fs,{present:r||a,children:l.jsx(YC,{open:a,...o,ref:t,onClose:()=>c(!1),onPause:tr(e.onPause),onResume:tr(e.onResume),onSwipeStart:oe(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:oe(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:oe(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:oe(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});$y.displayName=uo;var[qC,KC]=Iy(uo,{onClose(){}}),YC=p.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...w}=e,y=_l(uo,r),[b,v]=p.useState(null),g=Ce(t,N=>v(N)),x=p.useRef(null),S=p.useRef(null),j=s||y.duration,P=p.useRef(0),k=p.useRef(j),C=p.useRef(0),{onToastAdd:E,onToastRemove:_}=y,R=tr(()=>{var I;(b==null?void 0:b.contains(document.activeElement))&&((I=y.viewport)==null||I.focus()),o()}),T=p.useCallback(N=>{!N||N===1/0||(window.clearTimeout(C.current),P.current=new Date().getTime(),C.current=window.setTimeout(R,N))},[R]);p.useEffect(()=>{const N=y.viewport;if(N){const I=()=>{T(k.current),u==null||u()},A=()=>{const H=new Date().getTime()-P.current;k.current=k.current-H,window.clearTimeout(C.current),c==null||c()};return N.addEventListener(cd,A),N.addEventListener(ud,I),()=>{N.removeEventListener(cd,A),N.removeEventListener(ud,I)}}},[y.viewport,j,c,u,T]),p.useEffect(()=>{i&&!y.isClosePausedRef.current&&T(j)},[i,j,y.isClosePausedRef,T]),p.useEffect(()=>(E(),()=>_()),[E,_]);const O=p.useMemo(()=>b?Wy(b):null,[b]);return y.viewport?l.jsxs(l.Fragment,{children:[O&&l.jsx(JC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),l.jsx(qC,{scope:r,onClose:R,children:Sl.createPortal(l.jsx(Hf.ItemSlot,{scope:r,children:l.jsx(NC,{asChild:!0,onEscapeKeyDown:oe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||R(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ie.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:oe(e.onKeyDown,N=>{N.key==="Escape"&&(a==null||a(N.nativeEvent),N.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:oe(e.onPointerDown,N=>{N.button===0&&(x.current={x:N.clientX,y:N.clientY})}),onPointerMove:oe(e.onPointerMove,N=>{if(!x.current)return;const I=N.clientX-x.current.x,A=N.clientY-x.current.y,H=!!S.current,M=["left","right"].includes(y.swipeDirection),z=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,B=M?z(0,I):0,F=M?0:z(0,A),U=N.pointerType==="touch"?10:2,X={x:B,y:F},ge={originalEvent:N,delta:X};H?(S.current=X,Uo(GC,f,ge,{discrete:!1})):fm(X,y.swipeDirection,U)?(S.current=X,Uo(UC,d,ge,{discrete:!1}),N.target.setPointerCapture(N.pointerId)):(Math.abs(I)>U||Math.abs(A)>U)&&(x.current=null)}),onPointerUp:oe(e.onPointerUp,N=>{const I=S.current,A=N.target;if(A.hasPointerCapture(N.pointerId)&&A.releasePointerCapture(N.pointerId),S.current=null,x.current=null,I){const H=N.currentTarget,M={originalEvent:N,delta:I};fm(I,y.swipeDirection,y.swipeThreshold)?Uo(WC,m,M,{discrete:!0}):Uo(HC,h,M,{discrete:!0}),H.addEventListener("click",z=>z.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),JC=e=>{const{__scopeToast:t,children:r,...n}=e,s=_l(uo,t),[i,o]=p.useState(!1),[a,c]=p.useState(!1);return ZC(()=>o(!0)),p.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(Bf,{asChild:!0,children:l.jsx(Uf,{...n,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},XC="ToastTitle",Vy=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ie.div,{...n,ref:t})});Vy.displayName=XC;var QC="ToastDescription",Fy=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(ie.div,{...n,ref:t})});Fy.displayName=QC;var By="ToastAction",Uy=p.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(Hy,{altText:r,asChild:!0,children:l.jsx(Wf,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${By}\`. Expected non-empty \`string\`.`),null)});Uy.displayName=By;var Gy="ToastClose",Wf=p.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=KC(Gy,r);return l.jsx(Hy,{asChild:!0,children:l.jsx(ie.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,s.onClose)})})});Wf.displayName=Gy;var Hy=p.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(ie.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function Wy(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),e_(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",i=n.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...Wy(n))}}),t}function Uo(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ty(s,i):s.dispatchEvent(i)}var fm=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),i=n>s;return t==="left"||t==="right"?i&&n>r:!i&&s>r};function ZC(e=()=>{}){const t=tr(e);rr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function e_(e){return e.nodeType===e.ELEMENT_NODE}function t_(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Mc(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var r_=Dy,qy=Oy,Ky=$y,Yy=Vy,Jy=Fy,Xy=Uy,Qy=Wf;const hm=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,pm=Sy,Pl=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return pm(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=hm(d)||hm(f);return s[u][h]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(w=>{let[y,b]=w;return Array.isArray(b)?b.includes({...i,...a}[y]):{...i,...a}[y]===b})?[...u,f,h]:u},[]);return pm(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)};var n_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s_=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),G=(e,t)=>{const r=p.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...c},u)=>p.createElement("svg",{ref:u,...n_,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${s_(e)}`,...c},[...t.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return r.displayName=`${e}`,r},Zy=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),i_=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),o_=G("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),a_=G("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),Nl=G("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),El=G("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l_=G("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Zt=G("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),c_=G("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),u_=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ex=G("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Qi=G("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Tl=G("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Zi=G("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d_=G("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]),f_=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),tx=G("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]),fo=G("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),h_=G("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),p_=G("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),m_=G("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Es=G("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),rx=G("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Gt=G("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),nx=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sx=G("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ix=G("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),g_=G("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Rl=G("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),v_=G("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),ox=G("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),y_=G("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),ax=G("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),lx=G("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),x_=G("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),qf=G("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),w_=G("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),cx=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),qa=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ml=G("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),ux=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),b_=G("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),Ka=G("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),S_=G("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),j_=G("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Ts=G("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Kf=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),dx=G("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),k_=G("Undo",[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]]),fx=G("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),C_=G("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),hx=G("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),__=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Yf=G("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),px=G("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]),Jf=G("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ho=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),eo=G("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),P_=r_,mx=Y.forwardRef(({className:e,...t},r)=>l.jsx(qy,{ref:r,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));mx.displayName=qy.displayName;const N_=Pl("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),gx=Y.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(Ky,{ref:n,className:W(N_({variant:t}),e),...r}));gx.displayName=Ky.displayName;const E_=Y.forwardRef(({className:e,...t},r)=>l.jsx(Xy,{ref:r,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));E_.displayName=Xy.displayName;const vx=Y.forwardRef(({className:e,...t},r)=>l.jsx(Qy,{ref:r,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(ho,{className:"h-4 w-4"})}));vx.displayName=Qy.displayName;const yx=Y.forwardRef(({className:e,...t},r)=>l.jsx(Yy,{ref:r,className:W("text-sm font-semibold",e),...t}));yx.displayName=Yy.displayName;const xx=Y.forwardRef(({className:e,...t},r)=>l.jsx(Jy,{ref:r,className:W("text-sm opacity-90",e),...t}));xx.displayName=Jy.displayName;const T_=1;let Ac=0;function R_(){return Ac=(Ac+1)%Number.MAX_VALUE,Ac.toString()}const Qe={state:{toasts:[]},listeners:[],getState:()=>Qe.state,setState:e=>{typeof e=="function"?Qe.state=e(Qe.state):Qe.state={...Qe.state,...e},Qe.listeners.forEach(t=>t(Qe.state))},subscribe:e=>(Qe.listeners.push(e),()=>{Qe.listeners=Qe.listeners.filter(t=>t!==e)})},M_=({...e})=>{const t=R_(),r=s=>Qe.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===t?{...o,...s}:o)})),n=()=>Qe.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==t)}));return Qe.setState(s=>({...s,toasts:[{...e,id:t,dismiss:n},...s.toasts].slice(0,T_)})),{id:t,dismiss:n,update:r}};function Ee(){const[e,t]=p.useState(Qe.getState());return p.useEffect(()=>Qe.subscribe(n=>{t(n)}),[]),p.useEffect(()=>{const r=[];return e.toasts.forEach(n=>{if(n.duration===1/0)return;const s=setTimeout(()=>{n.dismiss()},n.duration||5e3);r.push(s)}),()=>{r.forEach(n=>clearTimeout(n))}},[e.toasts]),{toast:M_,toasts:e.toasts}}function A_(){const{toasts:e}=Ee();return l.jsxs(P_,{children:[e.map(({id:t,title:r,description:n,action:s,...i})=>l.jsxs(gx,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(yx,{children:r}),n&&l.jsx(xx,{children:n})]}),s,l.jsx(vx,{})]},t)),l.jsx(mx,{})]})}const Xf=Pl("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),D=Y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?pC:"button";return l.jsx(o,{className:W(Xf({variant:t,size:r,className:e})),ref:i,...s})});D.displayName="Button";const Qf=p.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Al=p.createContext({}),Il=p.createContext(null),Dl=typeof document<"u",po=Dl?p.useLayoutEffect:p.useEffect,wx=p.createContext({strict:!1}),Zf=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),I_="framerAppearId",bx="data-"+Zf(I_);function D_(e,t,r,n){const{visualElement:s}=p.useContext(Al),i=p.useContext(wx),o=p.useContext(Il),a=p.useContext(Qf).reducedMotion,c=p.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(r,o)});const d=p.useRef(!!(r[bx]&&!window.HandoffComplete));return po(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ls(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function L_(e,t,r){return p.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ls(r)&&(r.current=n))},[t])}function to(e){return typeof e=="string"||Array.isArray(e)}function Ll(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const eh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],th=["initial",...eh];function Ol(e){return Ll(e.animate)||th.some(t=>to(e[t]))}function Sx(e){return!!(Ol(e)||e.variants)}function O_(e,t){if(Ol(e)){const{initial:r,animate:n}=e;return{initial:r===!1||to(r)?r:void 0,animate:to(n)?n:void 0}}return e.inherit!==!1?t:{}}function z_(e){const{initial:t,animate:r}=O_(e,p.useContext(Al));return p.useMemo(()=>({initial:t,animate:r}),[mm(t),mm(r)])}function mm(e){return Array.isArray(e)?e.join(" "):e}const gm={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ro={};for(const e in gm)ro[e]={isEnabled:t=>gm[e].some(r=>!!t[r])};function $_(e){for(const t in e)ro[t]={...ro[t],...e[t]}}const rh=p.createContext({}),jx=p.createContext({}),V_=Symbol.for("motionComponentSymbol");function F_({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&$_(e);function i(a,c){let u;const d={...p.useContext(Qf),...a,layoutId:B_(a)},{isStatic:f}=d,h=z_(a),m=n(a,f);if(!f&&Dl){h.visualElement=D_(s,m,d,t);const w=p.useContext(jx),y=p.useContext(wx).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,y,e,w))}return p.createElement(Al.Provider,{value:h},u&&h.visualElement?p.createElement(u,{visualElement:h.visualElement,...d}):null,r(s,a,L_(m,h.visualElement,c),m,f,h.visualElement))}const o=p.forwardRef(i);return o[V_]=s,o}function B_({layoutId:e}){const t=p.useContext(rh).id;return t&&e!==void 0?t+"-"+e:e}function U_(e){function t(n,s={}){return F_(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const G_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nh(e){return typeof e!="string"||e.includes("-")?!1:!!(G_.indexOf(e)>-1||/[A-Z]/.test(e))}const Ya={};function H_(e){Object.assign(Ya,e)}const mo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zn=new Set(mo);function kx(e,{layout:t,layoutId:r}){return zn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ya[e]||e==="opacity")}const ht=e=>!!(e&&e.getVelocity),W_={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q_=mo.length;function K_(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let o=0;o<q_;o++){const a=mo[o];if(e[a]!==void 0){const c=W_[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const Cx=e=>t=>typeof t=="string"&&t.startsWith(e),_x=Cx("--"),fd=Cx("var(--"),Y_=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,J_=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xr=(e,t,r)=>Math.min(Math.max(r,e),t),$n={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ki={...$n,transform:e=>Xr(0,1,e)},Go={...$n,default:1},Ci=e=>Math.round(e*1e5)/1e5,zl=/(-)?([\d]*\.?[\d])+/g,Px=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,X_=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function go(e){return typeof e=="string"}const vo=e=>({test:t=>go(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),jr=vo("deg"),er=vo("%"),K=vo("px"),Q_=vo("vh"),Z_=vo("vw"),vm={...er,parse:e=>er.parse(e)/100,transform:e=>er.transform(e*100)},ym={...$n,transform:Math.round},Nx={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,size:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:Go,scaleX:Go,scaleY:Go,scaleZ:Go,skew:jr,skewX:jr,skewY:jr,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:ki,originX:vm,originY:vm,originZ:K,zIndex:ym,fillOpacity:ki,strokeOpacity:ki,numOctaves:ym};function sh(e,t,r,n){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(_x(f)){i[f]=h;continue}const m=Nx[f],w=J_(h,m);if(zn.has(f)){if(c=!0,o[f]=w,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=w):s[f]=w}if(t.transform||(c||n?s.transform=K_(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=a;s.transformOrigin=`${f} ${h} ${m}`}}const ih=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ex(e,t,r){for(const n in t)!ht(t[n])&&!kx(n,r)&&(e[n]=t[n])}function eP({transformTemplate:e},t,r){return p.useMemo(()=>{const n=ih();return sh(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function tP(e,t,r){const n=e.style||{},s={};return Ex(s,n,e),Object.assign(s,eP(e,t,r)),e.transformValues?e.transformValues(s):s}function rP(e,t,r){const n={},s=tP(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const nP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ja(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||nP.has(e)}let Tx=e=>!Ja(e);function sP(e){e&&(Tx=t=>t.startsWith("on")?!Ja(t):e(t))}try{sP(require("@emotion/is-prop-valid").default)}catch{}function iP(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Tx(s)||r===!0&&Ja(s)||!t&&!Ja(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function xm(e,t,r){return typeof e=="string"?e:K.transform(t+r*e)}function oP(e,t,r){const n=xm(t,e.x,e.width),s=xm(r,e.y,e.height);return`${n} ${s}`}const aP={offset:"stroke-dashoffset",array:"stroke-dasharray"},lP={offset:"strokeDashoffset",array:"strokeDasharray"};function cP(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?aP:lP;e[i.offset]=K.transform(-n);const o=K.transform(t),a=K.transform(r);e[i.array]=`${o} ${a}`}function oh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},d,f,h){if(sh(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:w,dimensions:y}=e;m.transform&&(y&&(w.transform=m.transform),delete m.transform),y&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=oP(y,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),o!==void 0&&cP(m,o,a,c,!1)}const Rx=()=>({...ih(),attrs:{}}),ah=e=>typeof e=="string"&&e.toLowerCase()==="svg";function uP(e,t,r,n){const s=p.useMemo(()=>{const i=Rx();return oh(i,t,{enableHardwareAcceleration:!1},ah(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Ex(i,e.style,e),s.style={...i,...s.style}}return s}function dP(e=!1){return(r,n,s,{latestValues:i},o)=>{const c=(nh(r)?uP:rP)(n,i,o,r),d={...iP(n,typeof r=="string",e),...c,ref:s},{children:f}=n,h=p.useMemo(()=>ht(f)?f.get():f,[f]);return p.createElement(r,{...d,children:h})}}function Mx(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const Ax=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ix(e,t,r,n){Mx(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(Ax.has(s)?s:Zf(s),t.attrs[s])}function lh(e,t){const{style:r}=e,n={};for(const s in r)(ht(r[s])||t.style&&ht(t.style[s])||kx(s,e))&&(n[s]=r[s]);return n}function Dx(e,t){const r=lh(e,t);for(const n in e)if(ht(e[n])||ht(t[n])){const s=mo.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function ch(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Bs(e){const t=p.useRef(null);return t.current===null&&(t.current=e()),t.current}const Xa=e=>Array.isArray(e),fP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),hP=e=>Xa(e)?e[e.length-1]||0:e;function va(e){const t=ht(e)?e.get():e;return fP(t)?t.toValue():t}function pP({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const o={latestValues:mP(n,s,i,e),renderState:t()};return r&&(o.mount=a=>r(n,a,o)),o}const Lx=e=>(t,r)=>{const n=p.useContext(Al),s=p.useContext(Il),i=()=>pP(e,t,n,s);return r?i():Bs(i)};function mP(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=va(i[h]);let{initial:o,animate:a}=e;const c=Ol(e),u=Sx(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!Ll(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const w=ch(e,m);if(!w)return;const{transitionEnd:y,transition:b,...v}=w;for(const g in v){let x=v[g];if(Array.isArray(x)){const S=d?x.length-1:0;x=x[S]}x!==null&&(s[g]=x)}for(const g in y)s[g]=y[g]}),s}const ke=e=>e;class wm{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function gP(e){let t=new wm,r=new wm,n=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&s,h=f?t:r;return u&&o.add(c),h.add(c)&&f&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),o.has(d)&&(a.schedule(d),e())}s=!1,i&&(i=!1,a.process(c))}};return a}const Ho=["prepare","read","update","preRender","render","postRender"],vP=40;function yP(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ho.reduce((f,h)=>(f[h]=gP(()=>r=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(f-s.timestamp,vP),1),s.timestamp=f,s.isProcessing=!0,Ho.forEach(o),s.isProcessing=!1,r&&t&&(n=!1,e(a))},c=()=>{r=!0,n=!0,s.isProcessing||e(a)};return{schedule:Ho.reduce((f,h)=>{const m=i[h];return f[h]=(w,y=!1,b=!1)=>(r||c(),m.schedule(w,y,b)),f},{}),cancel:f=>Ho.forEach(h=>i[h].cancel(f)),state:s,steps:i}}const{schedule:ae,cancel:nr,state:Ke,steps:Ic}=yP(typeof requestAnimationFrame<"u"?requestAnimationFrame:ke,!0),xP={useVisualState:Lx({scrapeMotionValuesFromProps:Dx,createRenderState:Rx,onMount:(e,t,{renderState:r,latestValues:n})=>{ae.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),ae.render(()=>{oh(r,n,{enableHardwareAcceleration:!1},ah(t.tagName),e.transformTemplate),Ix(t,r)})}})},wP={useVisualState:Lx({scrapeMotionValuesFromProps:lh,createRenderState:ih})};function bP(e,{forwardMotionProps:t=!1},r,n){return{...nh(e)?xP:wP,preloadedFeatures:r,useRender:dP(t),createVisualElement:n,Component:e}}function dr(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Ox=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function $l(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const SP=e=>t=>Ox(t)&&e(t,$l(t));function hr(e,t,r,n){return dr(e,t,SP(r),n)}const jP=(e,t)=>r=>t(e(r)),Wr=(...e)=>e.reduce(jP);function zx(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const bm=zx("dragHorizontal"),Sm=zx("dragVertical");function $x(e){let t=!1;if(e==="y")t=Sm();else if(e==="x")t=bm();else{const r=bm(),n=Sm();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function Vx(){const e=$x(!0);return e?(e(),!1):!0}class nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function jm(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||Vx())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[n]&&ae.update(()=>a[n](i,o))};return hr(e.current,r,s,{passive:!e.getProps()[n]})}class kP extends nn{mount(){this.unmount=Wr(jm(this.node,!0),jm(this.node,!1))}unmount(){}}class CP extends nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wr(dr(this.node.current,"focus",()=>this.onFocus()),dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Fx=(e,t)=>t?e===t?!0:Fx(e,t.parentElement):!1;function Dc(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,$l(r))}class _P extends nn{constructor(){super(...arguments),this.removeStartListeners=ke,this.removeEndListeners=ke,this.removeAccessibleListeners=ke,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=hr(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();ae.update(()=>{!f&&!Fx(this.node.current,a.target)?d&&d(a,c):u&&u(a,c)})},{passive:!(n.onTap||n.onPointerUp)}),o=hr(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Wr(i,o),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Dc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&ae.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=dr(this.node.current,"keyup",o),Dc("down",(a,c)=>{this.startPress(a,c)})},r=dr(this.node.current,"keydown",t),n=()=>{this.isPressing&&Dc("cancel",(i,o)=>this.cancelPress(i,o))},s=dr(this.node.current,"blur",n);this.removeAccessibleListeners=Wr(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&ae.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Vx()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&ae.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=hr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=dr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Wr(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const hd=new WeakMap,Lc=new WeakMap,PP=e=>{const t=hd.get(e.target);t&&t(e)},NP=e=>{e.forEach(PP)};function EP({root:e,...t}){const r=e||document;Lc.has(r)||Lc.set(r,{});const n=Lc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(NP,{root:e,...t})),n[s]}function TP(e,t,r){const n=EP(t);return hd.set(e,r),n.observe(e),()=>{hd.delete(e),n.unobserve(e)}}const RP={some:0,all:1};class MP extends nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:RP[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return TP(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(AP(t,r))&&this.startObserver()}unmount(){}}function AP({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const IP={inView:{Feature:MP},tap:{Feature:_P},focus:{Feature:CP},hover:{Feature:kP}};function Bx(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function DP(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function LP(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function Vl(e,t,r){const n=e.getProps();return ch(n,t,r!==void 0?r:n.custom,DP(e),LP(e))}let OP=ke,uh=ke;const qr=e=>e*1e3,pr=e=>e/1e3,zP={current:!1},Ux=e=>Array.isArray(e)&&typeof e[0]=="number";function Gx(e){return!!(!e||typeof e=="string"&&Hx[e]||Ux(e)||Array.isArray(e)&&e.every(Gx))}const fi=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Hx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fi([0,.65,.55,1]),circOut:fi([.55,0,1,.45]),backIn:fi([.31,.01,.66,-.59]),backOut:fi([.33,1.53,.69,.99])};function Wx(e){if(e)return Ux(e)?fi(e):Array.isArray(e)?e.map(Wx):Hx[e]}function $P(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Wx(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function VP(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const qx=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,FP=1e-7,BP=12;function UP(e,t,r,n,s){let i,o,a=0;do o=t+(r-t)/2,i=qx(o,n,s)-e,i>0?r=o:t=o;while(Math.abs(i)>FP&&++a<BP);return o}function yo(e,t,r,n){if(e===t&&r===n)return ke;const s=i=>UP(i,0,1,e,r);return i=>i===0||i===1?i:qx(s(i),t,n)}const GP=yo(.42,0,1,1),HP=yo(0,0,.58,1),Kx=yo(.42,0,.58,1),WP=e=>Array.isArray(e)&&typeof e[0]!="number",Yx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jx=e=>t=>1-e(1-t),dh=e=>1-Math.sin(Math.acos(e)),Xx=Jx(dh),qP=Yx(dh),Qx=yo(.33,1.53,.69,.99),fh=Jx(Qx),KP=Yx(fh),YP=e=>(e*=2)<1?.5*fh(e):.5*(2-Math.pow(2,-10*(e-1))),JP={linear:ke,easeIn:GP,easeInOut:Kx,easeOut:HP,circIn:dh,circInOut:qP,circOut:Xx,backIn:fh,backInOut:KP,backOut:Qx,anticipate:YP},km=e=>{if(Array.isArray(e)){uh(e.length===4);const[t,r,n,s]=e;return yo(t,r,n,s)}else if(typeof e=="string")return JP[e];return e},hh=(e,t)=>r=>!!(go(r)&&X_.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),Zx=(e,t,r)=>n=>{if(!go(n))return n;const[s,i,o,a]=n.match(zl);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},XP=e=>Xr(0,255,e),Oc={...$n,transform:e=>Math.round(XP(e))},jn={test:hh("rgb","red"),parse:Zx("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Oc.transform(e)+", "+Oc.transform(t)+", "+Oc.transform(r)+", "+Ci(ki.transform(n))+")"};function QP(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const pd={test:hh("#"),parse:QP,transform:jn.transform},cs={test:hh("hsl","hue"),parse:Zx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+er.transform(Ci(t))+", "+er.transform(Ci(r))+", "+Ci(ki.transform(n))+")"},Ze={test:e=>jn.test(e)||pd.test(e)||cs.test(e),parse:e=>jn.test(e)?jn.parse(e):cs.test(e)?cs.parse(e):pd.parse(e),transform:e=>go(e)?e:e.hasOwnProperty("red")?jn.transform(e):cs.transform(e)},xe=(e,t,r)=>-r*e+r*t+e;function zc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function ZP({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const a=r<.5?r*(1+t):r+t-r*t,c=2*r-a;s=zc(c,a,e+1/3),i=zc(c,a,e),o=zc(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}const $c=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},eN=[pd,jn,cs],tN=e=>eN.find(t=>t.test(e));function Cm(e){const t=tN(e);let r=t.parse(e);return t===cs&&(r=ZP(r)),r}const e1=(e,t)=>{const r=Cm(e),n=Cm(t),s={...r};return i=>(s.red=$c(r.red,n.red,i),s.green=$c(r.green,n.green,i),s.blue=$c(r.blue,n.blue,i),s.alpha=xe(r.alpha,n.alpha,i),jn.transform(s))};function rN(e){var t,r;return isNaN(e)&&go(e)&&(((t=e.match(zl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Px))===null||r===void 0?void 0:r.length)||0)>0}const t1={regex:Y_,countKey:"Vars",token:"${v}",parse:ke},r1={regex:Px,countKey:"Colors",token:"${c}",parse:Ze.parse},n1={regex:zl,countKey:"Numbers",token:"${n}",parse:$n.parse};function Vc(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function Qa(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Vc(r,t1),Vc(r,r1),Vc(r,n1),r}function s1(e){return Qa(e).values}function i1(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Qa(e),i=t.length;return o=>{let a=s;for(let c=0;c<i;c++)c<n?a=a.replace(t1.token,o[c]):c<n+r?a=a.replace(r1.token,Ze.transform(o[c])):a=a.replace(n1.token,Ci(o[c]));return a}}const nN=e=>typeof e=="number"?0:e;function sN(e){const t=s1(e);return i1(e)(t.map(nN))}const Qr={test:rN,parse:s1,createTransformer:i1,getAnimatableNone:sN},o1=(e,t)=>r=>`${r>0?t:e}`;function a1(e,t){return typeof e=="number"?r=>xe(e,t,r):Ze.test(e)?e1(e,t):e.startsWith("var(")?o1(e,t):c1(e,t)}const l1=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,o)=>a1(i,t[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}},iN=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=a1(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},c1=(e,t)=>{const r=Qr.createTransformer(t),n=Qa(e),s=Qa(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?Wr(l1(n.values,s.values),r):o1(e,t)},no=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},_m=(e,t)=>r=>xe(e,t,r);function oN(e){return typeof e=="number"?_m:typeof e=="string"?Ze.test(e)?e1:c1:Array.isArray(e)?l1:typeof e=="object"?iN:_m}function aN(e,t,r){const n=[],s=r||oN(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ke:t;a=Wr(c,a)}n.push(a)}return n}function ph(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(uh(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=aN(t,n,s),a=o.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=no(e[d],e[d+1],u);return o[d](f)};return r?u=>c(Xr(e[0],e[i-1],u)):c}function lN(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=no(0,t,n);e.push(xe(r,1,s))}}function cN(e){const t=[0];return lN(t,e.length-1),t}function uN(e,t){return e.map(r=>r*t)}function dN(e,t){return e.map(()=>t||Kx).splice(0,e.length-1)}function Za({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=WP(n)?n.map(km):km(n),i={done:!1,value:t[0]},o=uN(r&&r.length===t.length?r:cN(t),e),a=ph(o,t,{ease:Array.isArray(s)?s:dN(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function u1(e,t){return t?e*(1e3/t):0}const fN=5;function d1(e,t,r){const n=Math.max(t-fN,0);return u1(r-e(n),t-n)}const Fc=.001,hN=.01,Pm=10,pN=.05,mN=1;function gN({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i;OP(e<=qr(Pm));let o=1-t;o=Xr(pN,mN,o),e=Xr(hN,Pm,pr(e)),o<1?(s=u=>{const d=u*o,f=d*e,h=d-r,m=md(u,o),w=Math.exp(-f);return Fc-h/m*w},i=u=>{const f=u*o*e,h=f*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,w=Math.exp(-f),y=md(Math.pow(u,2),o);return(-s(u)+Fc>0?-1:1)*((h-m)*w)/y}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Fc+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const a=5/e,c=yN(s,i,a);if(e=qr(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const vN=12;function yN(e,t,r){let n=r;for(let s=1;s<vN;s++)n=n-e(n)/t(n);return n}function md(e,t){return e*Math.sqrt(1-t*t)}const xN=["duration","bounce"],wN=["stiffness","damping","mass"];function Nm(e,t){return t.some(r=>e[r]!==void 0)}function bN(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Nm(e,wN)&&Nm(e,xN)){const r=gN(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function f1({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=bN({...n,velocity:-pr(n.velocity||0)}),m=f||0,w=c/(2*Math.sqrt(a*u)),y=i-s,b=pr(Math.sqrt(a/u)),v=Math.abs(y)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let g;if(w<1){const x=md(b,w);g=S=>{const j=Math.exp(-w*b*S);return i-j*((m+w*b*y)/x*Math.sin(x*S)+y*Math.cos(x*S))}}else if(w===1)g=x=>i-Math.exp(-b*x)*(y+(m+b*y)*x);else{const x=b*Math.sqrt(w*w-1);g=S=>{const j=Math.exp(-w*b*S),P=Math.min(x*S,300);return i-j*((m+w*b*y)*Math.sinh(P)+x*y*Math.cosh(P))/x}}return{calculatedDuration:h&&d||null,next:x=>{const S=g(x);if(h)o.done=x>=d;else{let j=m;x!==0&&(w<1?j=d1(g,x,S):j=0);const P=Math.abs(j)<=r,k=Math.abs(i-S)<=t;o.done=P&&k}return o.value=o.done?i:S,o}}}function Em({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=C=>a!==void 0&&C<a||c!==void 0&&C>c,w=C=>a===void 0?c:c===void 0||Math.abs(a-C)<Math.abs(c-C)?a:c;let y=r*t;const b=f+y,v=o===void 0?b:o(b);v!==b&&(y=v-f);const g=C=>-y*Math.exp(-C/n),x=C=>v+g(C),S=C=>{const E=g(C),_=x(C);h.done=Math.abs(E)<=u,h.value=h.done?v:_};let j,P;const k=C=>{m(h.value)&&(j=C,P=f1({keyframes:[h.value,w(h.value)],velocity:d1(x,C,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:C=>{let E=!1;return!P&&j===void 0&&(E=!0,S(C),k(C)),j!==void 0&&C>j?P.next(C-j):(!E&&S(C),h)}}}const SN=e=>{const t=({timestamp:r})=>e(r);return{start:()=>ae.update(t,!0),stop:()=>nr(t),now:()=>Ke.isProcessing?Ke.timestamp:performance.now()}},Tm=2e4;function Rm(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Tm;)t+=r,n=e.next(t);return t>=Tm?1/0:t}const jN={decay:Em,inertia:Em,tween:Za,keyframes:Za,spring:f1};function el({autoplay:e=!0,delay:t=0,driver:r=SN,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,w=!1,y,b;const v=()=>{b=new Promise(F=>{y=F})};v();let g;const x=jN[s]||Za;let S;x!==Za&&typeof n[0]!="number"&&(S=ph([0,100],n,{clamp:!1}),n=[0,100]);const j=x({...h,keyframes:n});let P;a==="mirror"&&(P=x({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let k="idle",C=null,E=null,_=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=Rm(j));const{calculatedDuration:R}=j;let T=1/0,O=1/0;R!==null&&(T=R+o,O=T*(i+1)-o);let N=0;const I=F=>{if(E===null)return;m>0&&(E=Math.min(E,F)),m<0&&(E=Math.min(F-O/m,E)),C!==null?N=C:N=Math.round(F-E)*m;const U=N-t*(m>=0?1:-1),X=m>=0?U<0:U>O;N=Math.max(U,0),k==="finished"&&C===null&&(N=O);let ge=N,Ve=j;if(i){const V=Math.min(N,O)/T;let re=Math.floor(V),ve=V%1;!ve&&V>=1&&(ve=1),ve===1&&re--,re=Math.min(re,i+1),!!(re%2)&&(a==="reverse"?(ve=1-ve,o&&(ve-=o/T)):a==="mirror"&&(Ve=P)),ge=Xr(0,1,ve)*T}const Ie=X?{done:!1,value:n[0]}:Ve.next(ge);S&&(Ie.value=S(Ie.value));let{done:st}=Ie;!X&&R!==null&&(st=m>=0?N>=O:N<=0);const qs=C===null&&(k==="finished"||k==="running"&&st);return f&&f(Ie.value),qs&&M(),Ie},A=()=>{g&&g.stop(),g=void 0},H=()=>{k="idle",A(),y(),v(),E=_=null},M=()=>{k="finished",d&&d(),A(),y()},z=()=>{if(w)return;g||(g=r(I));const F=g.now();c&&c(),C!==null?E=F-C:(!E||k==="finished")&&(E=F),k==="finished"&&v(),_=E,C=null,k="running",g.start()};e&&z();const B={then(F,U){return b.then(F,U)},get time(){return pr(N)},set time(F){F=qr(F),N=F,C!==null||!g||m===0?C=F:E=g.now()-F/m},get duration(){const F=j.calculatedDuration===null?Rm(j):j.calculatedDuration;return pr(F)},get speed(){return m},set speed(F){F===m||!g||(m=F,B.time=pr(N))},get state(){return k},play:z,pause:()=>{k="paused",C=N},stop:()=>{w=!0,k!=="idle"&&(k="idle",u&&u(),H())},cancel:()=>{_!==null&&I(_),H()},complete:()=>{k="finished"},sample:F=>(E=0,I(F))};return B}function kN(e){let t;return()=>(t===void 0&&(t=e()),t)}const CN=kN(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),_N=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wo=10,PN=2e4,NN=(e,t)=>t.type==="spring"||e==="backgroundColor"||!Gx(t.ease);function EN(e,t,{onUpdate:r,onComplete:n,...s}){if(!(CN()&&_N.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,u=!1;const d=()=>{c=new Promise(x=>{a=x})};d();let{keyframes:f,duration:h=300,ease:m,times:w}=s;if(NN(t,s)){const x=el({...s,repeat:0,delay:0});let S={done:!1,value:f[0]};const j=[];let P=0;for(;!S.done&&P<PN;)S=x.sample(P),j.push(S.value),P+=Wo;w=void 0,f=j,h=P-Wo,m="linear"}const y=$P(e.owner.current,t,f,{...s,duration:h,ease:m,times:w}),b=()=>{u=!1,y.cancel()},v=()=>{u=!0,ae.update(b),a(),d()};return y.onfinish=()=>{u||(e.set(VP(f,s)),n&&n(),v())},{then(x,S){return c.then(x,S)},attachTimeline(x){return y.timeline=x,y.onfinish=null,ke},get time(){return pr(y.currentTime||0)},set time(x){y.currentTime=qr(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return pr(h)},play:()=>{o||(y.play(),nr(b))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const S=el({...s,autoplay:!1});e.setWithVelocity(S.sample(x-Wo).value,S.sample(x).value,Wo)}v()},complete:()=>{u||y.finish()},cancel:v}}function TN({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:ke,pause:ke,stop:ke,then:i=>(i(),Promise.resolve()),cancel:ke,complete:ke});return t?el({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const RN={type:"spring",stiffness:500,damping:25,restSpeed:10},MN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),AN={type:"keyframes",duration:.8},IN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},DN=(e,{keyframes:t})=>t.length>2?AN:zn.has(e)?e.startsWith("scale")?MN(t[1]):RN:IN,gd=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Qr.test(t)||t==="0")&&!t.startsWith("url(")),LN=new Set(["brightness","contrast","saturate","opacity"]);function ON(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(zl)||[];if(!n)return e;const s=r.replace(n,"");let i=LN.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const zN=/([a-z-]*)\(.*?\)/g,vd={...Qr,getAnimatableNone:e=>{const t=e.match(zN);return t?t.map(ON).join(" "):e}},$N={...Nx,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:vd,WebkitFilter:vd},mh=e=>$N[e];function h1(e,t){let r=mh(e);return r!==vd&&(r=Qr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const p1=e=>/^0[^.\s]+$/.test(e);function VN(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||p1(e)}function FN(e,t,r,n){const s=gd(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const o=n.from!==void 0?n.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),VN(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=h1(t,a)}return i}function BN({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function gh(e,t){return e[t]||e.default||e}const UN={skipAnimations:!1},vh=(e,t,r,n={})=>s=>{const i=gh(n,e)||{},o=i.delay||n.delay||0;let{elapsed:a=0}=n;a=a-qr(o);const c=FN(t,e,r,i),u=c[0],d=c[c.length-1],f=gd(e,u),h=gd(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(BN(i)||(m={...m,...DN(e,m)}),m.duration&&(m.duration=qr(m.duration)),m.repeatDelay&&(m.repeatDelay=qr(m.repeatDelay)),!f||!h||zP.current||i.type===!1||UN.skipAnimations)return TN(m);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=EN(t,e,m);if(w)return w}return el(m)};function tl(e){return!!(ht(e)&&e.add)}const m1=e=>/^\-?\d*\.?\d+$/.test(e);function yh(e,t){e.indexOf(t)===-1&&e.push(t)}function xh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class wh{constructor(){this.subscriptions=[]}add(t){return yh(this.subscriptions,t),()=>xh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const GN=e=>!isNaN(parseFloat(e)),_i={current:void 0};class HN{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Ke;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=GN(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new wh);const n=this.events[t].add(r);return t==="change"?()=>{n(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return _i.current&&_i.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?u1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rn(e,t){return new HN(e,t)}const g1=e=>t=>t.test(e),WN={test:e=>e==="auto",parse:e=>e},v1=[$n,K,er,jr,Z_,Q_,WN],si=e=>v1.find(g1(e)),qN=[...v1,Ze,Qr],KN=e=>qN.find(g1(e));function YN(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Rn(r))}function bh(e,t){const r=Vl(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const o in i){const a=hP(i[o]);YN(e,o,a)}}function yd(e,t){[...t].reverse().forEach(n=>{const s=e.getVariant(n);s&&bh(e,s),e.variantChildren&&e.variantChildren.forEach(i=>{yd(i,t)})})}function JN(e,t){if(Array.isArray(t))return yd(e,t);if(typeof t=="string")return yd(e,[t]);bh(e,t)}function XN(e,t,r){var n,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(m1(d)||p1(d))?d=parseFloat(d):!KN(d)&&Qr.test(u)&&(d=h1(c,u)),e.addValue(c,Rn(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function QN(e,t){return t?(t[e]||t.default||t).from:void 0}function ZN(e,t,r){const n={};for(const s in e){const i=QN(s,t);if(i!==void 0)n[s]=i;else{const o=r.getValue(s);o&&(n[s]=o.get())}}return n}function eE({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function tE(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function y1(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const f in a){const h=e.getValue(f),m=a[f];if(!h||m===void 0||d&&eE(d,f))continue;const w={delay:r,elapsed:0,...gh(i||{},f)};if(window.HandoffAppearAnimations){const v=e.getProps()[bx];if(v){const g=window.HandoffAppearAnimations(v,f,h,ae);g!==null&&(w.elapsed=g,w.isHandoff=!0)}}let y=!w.isHandoff&&!tE(h,m);if(w.type==="spring"&&(h.getVelocity()||w.velocity)&&(y=!1),h.animation&&(y=!1),y)continue;h.start(vh(f,h,m,e.shouldReduceMotion&&zn.has(f)?{type:!1}:w));const b=h.animation;tl(c)&&(c.add(f),b.then(()=>c.remove(f))),u.push(b)}return o&&Promise.all(u).then(()=>{o&&bh(e,o)}),u}function xd(e,t,r={}){const n=Vl(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(y1(e,n,r)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=s;return rE(e,t,u+c,d,f,r)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(r.delay)])}function rE(e,t,r=0,n=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>a-u*n;return Array.from(e.variantChildren).sort(nE).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(xd(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function nE(e,t){return e.sortNodePosition(t)}function x1(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>xd(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=xd(e,t,r);else{const s=typeof t=="function"?Vl(e,t,r.custom):t;n=Promise.all(y1(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const sE=[...eh].reverse(),iE=eh.length;function oE(e){return t=>Promise.all(t.map(({animation:r,options:n})=>x1(e,r,n)))}function aE(e){let t=oE(e);const r=cE();let n=!0;const s=(c,u)=>{const d=Vl(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function i(c){t=c(e)}function o(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let w={},y=1/0;for(let v=0;v<iE;v++){const g=sE[v],x=r[g],S=d[g]!==void 0?d[g]:f[g],j=to(S),P=g===u?x.isActive:null;P===!1&&(y=v);let k=S===f[g]&&S!==d[g]&&j;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),x.protectedKeys={...w},!x.isActive&&P===null||!S&&!x.prevProp||Ll(S)||typeof S=="boolean")continue;let E=lE(x.prevProp,S)||g===u&&x.isActive&&!k&&j||v>y&&j,_=!1;const R=Array.isArray(S)?S:[S];let T=R.reduce(s,{});P===!1&&(T={});const{prevResolvedValues:O={}}=x,N={...O,...T},I=A=>{E=!0,m.has(A)&&(_=!0,m.delete(A)),x.needsAnimating[A]=!0};for(const A in N){const H=T[A],M=O[A];if(w.hasOwnProperty(A))continue;let z=!1;Xa(H)&&Xa(M)?z=!Bx(H,M):z=H!==M,z?H!==void 0?I(A):m.add(A):H!==void 0&&m.has(A)?I(A):x.protectedKeys[A]=!0}x.prevProp=S,x.prevResolvedValues=T,x.isActive&&(w={...w,...T}),n&&e.blockInitialAnimation&&(E=!1),E&&(!k||_)&&h.push(...R.map(A=>({animation:A,options:{type:g,...c}})))}if(m.size){const v={};m.forEach(g=>{const x=e.getBaseTarget(g);x!==void 0&&(v[g]=x)}),h.push({animation:v})}let b=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function a(c,u,d){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var w;return(w=m.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),r[c].isActive=u;const h=o(d,c);for(const m in r)r[m].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>r}}function lE(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Bx(t,e):!1}function cn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cE(){return{animate:cn(!0),whileInView:cn(),whileHover:cn(),whileTap:cn(),whileDrag:cn(),whileFocus:cn(),exit:cn()}}class uE extends nn{constructor(t){super(t),t.animationState||(t.animationState=aE(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Ll(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let dE=0;class fE extends nn{constructor(){super(...arguments),this.id=dE++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const hE={animation:{Feature:uE},exit:{Feature:fE}},Mm=(e,t)=>Math.abs(e-t);function pE(e,t){const r=Mm(e.x,t.x),n=Mm(e.y,t.y);return Math.sqrt(r**2+n**2)}class w1{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Uc(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=pE(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:w}=f,{timestamp:y}=Ke;this.history.push({...w,timestamp:y});const{onStart:b,onMove:v}=this.handlers;h||(b&&b(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Bc(h,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Uc(f.type==="pointercancel"?this.lastMoveEventInfo:Bc(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,b),w&&w(f,b)},!Ox(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=$l(t),a=Bc(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Ke;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,Uc(a,this.history)),this.removeListeners=Wr(hr(this.contextWindow,"pointermove",this.handlePointerMove),hr(this.contextWindow,"pointerup",this.handlePointerUp),hr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function Bc(e,t){return t?{point:t(e.point)}:e}function Am(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Uc({point:e},t){return{point:e,delta:Am(e,b1(t)),offset:Am(e,mE(t)),velocity:gE(t,.1)}}function mE(e){return e[0]}function b1(e){return e[e.length-1]}function gE(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=b1(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>qr(t)));)r--;if(!n)return{x:0,y:0};const i=pr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function wt(e){return e.max-e.min}function wd(e,t=0,r=.01){return Math.abs(e-t)<=r}function Im(e,t,r,n=.5){e.origin=n,e.originPoint=xe(t.min,t.max,e.origin),e.scale=wt(r)/wt(t),(wd(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=xe(r.min,r.max,e.origin)-e.originPoint,(wd(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Pi(e,t,r,n){Im(e.x,t.x,r.x,n?n.originX:void 0),Im(e.y,t.y,r.y,n?n.originY:void 0)}function Dm(e,t,r){e.min=r.min+t.min,e.max=e.min+wt(t)}function vE(e,t,r){Dm(e.x,t.x,r.x),Dm(e.y,t.y,r.y)}function Lm(e,t,r){e.min=t.min-r.min,e.max=e.min+wt(t)}function Ni(e,t,r){Lm(e.x,t.x,r.x),Lm(e.y,t.y,r.y)}function yE(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?xe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?xe(r,e,n.max):Math.min(e,r)),e}function Om(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function xE(e,{top:t,left:r,bottom:n,right:s}){return{x:Om(e.x,r,s),y:Om(e.y,t,n)}}function zm(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function wE(e,t){return{x:zm(e.x,t.x),y:zm(e.y,t.y)}}function bE(e,t){let r=.5;const n=wt(e),s=wt(t);return s>n?r=no(t.min,t.max-n,e.min):n>s&&(r=no(e.min,e.max-s,t.min)),Xr(0,1,r)}function SE(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const bd=.35;function jE(e=bd){return e===!1?e=0:e===!0&&(e=bd),{x:$m(e,"left","right"),y:$m(e,"top","bottom")}}function $m(e,t,r){return{min:Vm(e,t),max:Vm(e,r)}}function Vm(e,t){return typeof e=="number"?e:e[t]||0}const Fm=()=>({translate:0,scale:1,origin:0,originPoint:0}),us=()=>({x:Fm(),y:Fm()}),Bm=()=>({min:0,max:0}),Te=()=>({x:Bm(),y:Bm()});function _t(e){return[e("x"),e("y")]}function S1({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function kE({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CE(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Gc(e){return e===void 0||e===1}function Sd({scale:e,scaleX:t,scaleY:r}){return!Gc(e)||!Gc(t)||!Gc(r)}function pn(e){return Sd(e)||j1(e)||e.z||e.rotate||e.rotateX||e.rotateY}function j1(e){return Um(e.x)||Um(e.y)}function Um(e){return e&&e!=="0%"}function rl(e,t,r){const n=e-r,s=t*n;return r+s}function Gm(e,t,r,n,s){return s!==void 0&&(e=rl(e,s,n)),rl(e,r,n)+t}function jd(e,t=0,r=1,n,s){e.min=Gm(e.min,t,r,n,s),e.max=Gm(e.max,t,r,n,s)}function k1(e,{x:t,y:r}){jd(e.x,t.translate,t.scale,t.originPoint),jd(e.y,r.translate,r.scale,r.originPoint)}function _E(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=r[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ds(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,k1(e,o)),n&&pn(i.latestValues)&&ds(e,i.latestValues))}t.x=Hm(t.x),t.y=Hm(t.y)}function Hm(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Er(e,t){e.min=e.min+t,e.max=e.max+t}function Wm(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,o=xe(e.min,e.max,i);jd(e,t[r],t[n],o,t.scale)}const PE=["x","scaleX","originX"],NE=["y","scaleY","originY"];function ds(e,t){Wm(e.x,t,PE),Wm(e.y,t,NE)}function C1(e,t){return S1(CE(e.getBoundingClientRect(),t))}function EE(e,t,r){const n=C1(e,r),{scroll:s}=t;return s&&(Er(n.x,s.offset.x),Er(n.y,s.offset.y)),n}const _1=({current:e})=>e?e.ownerDocument.defaultView:null,TE=new WeakMap;class RE{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor($l(d,"page").point)},i=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:w}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=$x(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_t(b=>{let v=this.getAxisMotionValue(b).get()||0;if(er.test(v)){const{projection:g}=this.visualElement;if(g&&g.layout){const x=g.layout.layoutBox[b];x&&(v=wt(x)*(parseFloat(v)/100))}}this.originPoint[b]=v}),w&&ae.update(()=>w(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:w,onDrag:y}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=f;if(m&&this.currentDirection===null){this.currentDirection=ME(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,b),this.updateAxis("y",f.point,b),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),c=()=>_t(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new w1(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:_1(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ae.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!qo(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=yE(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&ls(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=xE(s.layoutBox,r):this.constraints=!1,this.elastic=jE(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_t(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=SE(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ls(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=EE(n,s.root,this.visualElement.getTransformPagePoint());let o=wE(s.layout.layoutBox,i);if(r){const a=r(kE(o));this.hasMutatedConstraints=!!a,a&&(o=S1(a))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=_t(d=>{if(!qo(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,w={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(a)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(vh(t,n,0,r))}stopAnimation(){_t(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_t(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){_t(r=>{const{drag:n}=this.getProps();if(!qo(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[r];i.set(t[r]-xe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ls(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};_t(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=bE({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),_t(o=>{if(!qo(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(xe(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;TE.set(this.visualElement,this);const t=this.visualElement.current,r=hr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ls(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const o=dr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(_t(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=bd,dragMomentum:a=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function qo(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ME(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class AE extends nn{constructor(t){super(t),this.removeGroupControls=ke,this.removeListeners=ke,this.controls=new RE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ke}unmount(){this.removeGroupControls(),this.removeListeners()}}const qm=e=>(t,r)=>{e&&ae.update(()=>e(t,r))};class IE extends nn{constructor(){super(...arguments),this.removePointerDownListener=ke}onPointerDown(t){this.session=new w1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:qm(t),onStart:qm(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ae.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=hr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function DE(){const e=p.useContext(Il);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=p.useId();return p.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const ya={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Km(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const ii={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const r=Km(e,t.target.x),n=Km(e,t.target.y);return`${r}% ${n}%`}},LE={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=Qr.parse(e);if(s.length>5)return n;const i=Qr.createTransformer(e),o=typeof s[0]!="number"?1:0,a=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=xe(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class OE extends Y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;H_(zE),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ya.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,o=n.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ae.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function P1(e){const[t,r]=DE(),n=p.useContext(rh);return Y.createElement(OE,{...e,layoutGroup:n,switchLayoutGroup:p.useContext(jx),isPresent:t,safeToRemove:r})}const zE={borderRadius:{...ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ii,borderTopRightRadius:ii,borderBottomLeftRadius:ii,borderBottomRightRadius:ii,boxShadow:LE},N1=["TopLeft","TopRight","BottomLeft","BottomRight"],$E=N1.length,Ym=e=>typeof e=="string"?parseFloat(e):e,Jm=e=>typeof e=="number"||K.test(e);function VE(e,t,r,n,s,i){s?(e.opacity=xe(0,r.opacity!==void 0?r.opacity:1,FE(n)),e.opacityExit=xe(t.opacity!==void 0?t.opacity:1,0,BE(n))):i&&(e.opacity=xe(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<$E;o++){const a=`border${N1[o]}Radius`;let c=Xm(t,a),u=Xm(r,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Jm(c)===Jm(u)?(e[a]=Math.max(xe(Ym(c),Ym(u),n),0),(er.test(u)||er.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||r.rotate)&&(e.rotate=xe(t.rotate||0,r.rotate||0,n))}function Xm(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const FE=E1(0,.5,Xx),BE=E1(.5,.95,ke);function E1(e,t,r){return n=>n<e?0:n>t?1:r(no(e,t,n))}function Qm(e,t){e.min=t.min,e.max=t.max}function kt(e,t){Qm(e.x,t.x),Qm(e.y,t.y)}function Zm(e,t,r,n,s){return e-=t,e=rl(e,1/r,n),s!==void 0&&(e=rl(e,1/s,n)),e}function UE(e,t=0,r=1,n=.5,s,i=e,o=e){if(er.test(t)&&(t=parseFloat(t),t=xe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=xe(i.min,i.max,n);e===i&&(a-=t),e.min=Zm(e.min,t,r,a,s),e.max=Zm(e.max,t,r,a,s)}function eg(e,t,[r,n,s],i,o){UE(e,t[r],t[n],t[s],t.scale,i,o)}const GE=["x","scaleX","originX"],HE=["y","scaleY","originY"];function tg(e,t,r,n){eg(e.x,t,GE,r?r.x:void 0,n?n.x:void 0),eg(e.y,t,HE,r?r.y:void 0,n?n.y:void 0)}function rg(e){return e.translate===0&&e.scale===1}function T1(e){return rg(e.x)&&rg(e.y)}function WE(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function R1(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function ng(e){return wt(e.x)/wt(e.y)}class qE{constructor(){this.members=[]}add(t){yh(this.members,t),t.scheduleRender()}remove(t){if(xh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sg(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const KE=(e,t)=>e.depth-t.depth;class YE{constructor(){this.children=[],this.isDirty=!1}add(t){yh(this.children,t),this.isDirty=!0}remove(t){xh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(KE),this.isDirty=!1,this.children.forEach(t)}}function JE(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(nr(n),e(i-t))};return ae.read(n,!0),()=>nr(n)}function XE(e){window.MotionDebug&&window.MotionDebug.record(e)}function QE(e){return e instanceof SVGElement&&e.tagName!=="svg"}function ZE(e,t,r){const n=ht(e)?e:Rn(e);return n.start(vh("",n,t,r)),n.animation}const ig=["","X","Y","Z"],eT={visibility:"hidden"},og=1e3;let tT=0;const mn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=tT++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mn.totalNodes=mn.resolvedTargetDeltas=mn.recalculatedProjection=0,this.nodes.forEach(sT),this.nodes.forEach(cT),this.nodes.forEach(uT),this.nodes.forEach(iT),XE(mn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new YE)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new wh),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QE(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=JE(h,250),ya.hasAnimatedSinceResize&&(ya.hasAnimatedSinceResize=!1,this.nodes.forEach(lg))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||mT,{onLayoutAnimationStart:b,onLayoutAnimationComplete:v}=d.getProps(),g=!this.targetLayout||!R1(this.targetLayout,w)||m,x=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const S={...gh(y,"layout"),onPlay:b,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else h||lg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dT),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ag);return}this.isUpdating||this.nodes.forEach(aT),this.isUpdating=!1,this.nodes.forEach(lT),this.nodes.forEach(rT),this.nodes.forEach(nT),this.clearAllSnapshots();const a=performance.now();Ke.delta=Xr(0,1e3/60,a-Ke.timestamp),Ke.timestamp=a,Ke.isProcessing=!0,Ic.update.process(Ke),Ic.preRender.process(Ke),Ic.render.process(Ke),Ke.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(oT),this.sharedNodes.forEach(fT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!T1(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(a||pn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),gT(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Te();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(Er(a.x,c.offset.x),Er(a.y,c.offset.y)),a}removeElementScroll(o){const a=Te();kt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){kt(a,o);const{scroll:h}=this.root;h&&(Er(a.x,-h.offset.x),Er(a.y,-h.offset.y))}Er(a.x,d.offset.x),Er(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const c=Te();kt(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ds(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),pn(d.latestValues)&&ds(c,d.latestValues)}return pn(this.latestValues)&&ds(c,this.latestValues),c}removeTransform(o){const a=Te();kt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!pn(u.latestValues))continue;Sd(u.latestValues)&&u.updateSnapshot();const d=Te(),f=u.measurePageBox();kt(d,f),tg(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return pn(this.latestValues)&&tg(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ke.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=Ke.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Ni(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kt(this.target,this.layout.layoutBox),k1(this.target,this.targetDelta)):kt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Ni(this.relativeTargetOrigin,this.target,m.target),kt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Sd(this.parent.latestValues)||j1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ke.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;kt(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;_E(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=us(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=us(),this.projectionDeltaWithTransform=us());const y=this.projectionTransform;Pi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=sg(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),mn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Te(),m=c?c.source:void 0,w=this.layout?this.layout.source:void 0,y=m!==w,b=this.getStack(),v=!b||b.members.length<=1,g=!!(y&&!v&&this.options.crossfade===!0&&!this.path.some(pT));this.animationProgress=0;let x;this.mixTargetDelta=S=>{const j=S/1e3;cg(f.x,o.x,j),cg(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ni(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),hT(this.relativeTarget,this.relativeTargetOrigin,h,j),x&&WE(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Te()),kt(x,this.relativeTarget)),y&&(this.animationValues=d,VE(d,u,this.latestValues,j,g,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{ya.hasAnimatedSinceResize=!0,this.currentAnimation=ZE(0,og,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(og),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&A1(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Te();const f=wt(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const h=wt(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}kt(a,c),ds(a,d),Pi(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new qE),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<ig.length;d++){const f="rotate"+ig[d];c[f]&&(u[f]=c[f],o.setStaticValue(f,0))}o.render();for(const d in u)o.setStaticValue(d,u[d]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eT;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=va(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=va(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!pn(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=sg(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:w}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${w.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const y in Ya){if(h[y]===void 0)continue;const{correct:b,applyTo:v}=Ya[y],g=u.transform==="none"?h[y]:b(h[y],f);if(v){const x=v.length;for(let S=0;S<x;S++)u[v[S]]=g}else u[y]=g}return this.options.layoutId&&(u.pointerEvents=f===this?va(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ag),this.root.sharedNodes.clear()}}}function rT(e){e.updateLayout()}function nT(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?_t(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=wt(h);h.min=n[f].min,h.max=h.min+m}):A1(i,r.layoutBox,n)&&_t(f=>{const h=o?r.measuredBox[f]:r.layoutBox[f],m=wt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=us();Pi(a,n,r.layoutBox);const c=us();o?Pi(c,e.applyTransform(s,!0),r.measuredBox):Pi(c,n,r.layoutBox);const u=!T1(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const w=Te();Ni(w,r.layoutBox,h.layoutBox);const y=Te();Ni(y,n,m.layoutBox),R1(w,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=w,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function sT(e){mn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function iT(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oT(e){e.clearSnapshot()}function ag(e){e.clearMeasurements()}function aT(e){e.isLayoutDirty=!1}function lT(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lg(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function cT(e){e.resolveTargetDelta()}function uT(e){e.calcProjection()}function dT(e){e.resetRotation()}function fT(e){e.removeLeadSnapshot()}function cg(e,t,r){e.translate=xe(t.translate,0,r),e.scale=xe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ug(e,t,r,n){e.min=xe(t.min,r.min,n),e.max=xe(t.max,r.max,n)}function hT(e,t,r,n){ug(e.x,t.x,r.x,n),ug(e.y,t.y,r.y,n)}function pT(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mT={duration:.45,ease:[.4,0,.1,1]},dg=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),fg=dg("applewebkit/")&&!dg("chrome/")?Math.round:ke;function hg(e){e.min=fg(e.min),e.max=fg(e.max)}function gT(e){hg(e.x),hg(e.y)}function A1(e,t,r){return e==="position"||e==="preserve-aspect"&&!wd(ng(t),ng(r),.2)}const vT=M1({attachResizeListener:(e,t)=>dr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hc={current:void 0},I1=M1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Hc.current){const e=new vT({});e.mount(window),e.setOptions({layoutScroll:!0}),Hc.current=e}return Hc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),yT={pan:{Feature:IE},drag:{Feature:AE,ProjectionNode:I1,MeasureLayout:P1}},xT=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function wT(e){const t=xT.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function kd(e,t,r=1){const[n,s]=wT(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const o=i.trim();return m1(o)?parseFloat(o):o}else return fd(s)?kd(s,t,r+1):s}function bT(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!fd(i))return;const o=kd(i,n);o&&s.set(o)});for(const s in t){const i=t[s];if(!fd(i))continue;const o=kd(i,n);o&&(t[s]=o,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const ST=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),D1=e=>ST.has(e),jT=e=>Object.keys(e).some(D1),pg=e=>e===$n||e===K,mg=(e,t)=>parseFloat(e.split(", ")[t]),gg=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return mg(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?mg(i[1],e):0}},kT=new Set(["x","y","z"]),CT=mo.filter(e=>!kT.has(e));function _T(e){const t=[];return CT.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Rs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:gg(4,13),y:gg(5,14)};Rs.translateX=Rs.x;Rs.translateY=Rs.y;const PT=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{a[u]=Rs[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Rs[u](c,i)}),e},NT=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(D1);let i=[],o=!1;const a=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],f=si(d);const h=t[c];let m;if(Xa(h)){const w=h.length,y=h[0]===null?1:0;d=h[y],f=si(d);for(let b=y;b<w&&h[b]!==null;b++)m?uh(si(h[b])===m):m=si(h[b])}else m=si(h);if(f!==m)if(pg(f)&&pg(m)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===K&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(o||(i=_T(e),o=!0),a.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(h))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=PT(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Dl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function ET(e,t,r,n){return jT(t)?NT(e,t,r,n):{target:t,transitionEnd:n}}const TT=(e,t,r,n)=>{const s=bT(e,t,n);return t=s.target,n=s.transitionEnd,ET(e,t,r,n)},Cd={current:null},L1={current:!1};function RT(){if(L1.current=!0,!!Dl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cd.current=e.matches;e.addListener(t),t()}else Cd.current=!1}function MT(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],o=r[s];if(ht(i))e.addValue(s,i),tl(n)&&n.add(s);else if(ht(o))e.addValue(s,Rn(i,{owner:e})),tl(n)&&n.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Rn(a!==void 0?a:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const vg=new WeakMap,O1=Object.keys(ro),AT=O1.length,yg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],IT=th.length;class DT{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ae.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=Ol(r),this.isVariantNode=Sx(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const f in d){const h=d[f];a[f]!==void 0&&ht(h)&&(h.set(a[f],!1),tl(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,vg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),L1.current||RT(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){vg.delete(this.current),this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=zn.has(t),s=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ae.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let o,a;for(let c=0;c<AT;c++){const u=O1[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=ro[u];h&&(o=h),d(r)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&ls(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<yg.length;n++){const s=yg[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=MT(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<IT;n++){const s=th[n],i=this.props[s];(to(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Rn(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=ch(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ht(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new wh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class z1 extends DT{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let o=ZN(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),o&&(o=s(o))),i){XN(this,n,o);const a=TT(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:t,transitionEnd:r,...n}}}function LT(e){return window.getComputedStyle(e)}class OT extends z1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(zn.has(r)){const n=mh(r);return n&&n.default||0}else{const n=LT(t),s=(_x(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return C1(t,r)}build(t,r,n,s){sh(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return lh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ht(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){Mx(t,r,n,s)}}class zT extends z1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(zn.has(r)){const n=mh(r);return n&&n.default||0}return r=Ax.has(r)?r:Zf(r),t.getAttribute(r)}measureInstanceViewportBox(){return Te()}scrapeMotionValuesFromProps(t,r){return Dx(t,r)}build(t,r,n,s){oh(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){Ix(t,r,n,s)}mount(t){this.isSVGTag=ah(t.tagName),super.mount(t)}}const $T=(e,t)=>nh(e)?new zT(t,{enableHardwareAcceleration:!1}):new OT(t,{enableHardwareAcceleration:!0}),VT={layout:{ProjectionNode:I1,MeasureLayout:P1}},FT={...hE,...IP,...yT,...VT},q=U_((e,t)=>bP(e,t,FT,$T));function $1(){const e=p.useRef(!1);return po(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function BT(){const e=$1(),[t,r]=p.useState(0),n=p.useCallback(()=>{e.current&&r(t+1)},[t]);return[p.useCallback(()=>ae.postRender(n),[n]),t]}class UT extends p.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function GT({children:e,isPresent:t}){const r=p.useId(),n=p.useRef(null),s=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(t||!n.current||!i||!o)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),p.createElement(UT,{isPresent:t,childRef:n,sizeRef:s},p.cloneElement(e,{ref:n}))}const Wc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=Bs(HT),c=p.useId(),u=p.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;n&&n()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[r]);return p.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[r]),p.useEffect(()=>{!r&&!a.size&&n&&n()},[r]),o==="popLayout"&&(e=p.createElement(GT,{isPresent:r},e)),p.createElement(Il.Provider,{value:u},e)};function HT(){return new Map}function WT(e){return p.useEffect(()=>()=>e(),[])}const gn=e=>e.key||"";function qT(e,t){e.forEach(r=>{const n=gn(r);t.set(n,r)})}function KT(e){const t=[];return p.Children.forEach(e,r=>{p.isValidElement(r)&&t.push(r)}),t}const Ms=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=p.useContext(rh).forceRender||BT()[0],c=$1(),u=KT(e);let d=u;const f=p.useRef(new Map).current,h=p.useRef(d),m=p.useRef(new Map).current,w=p.useRef(!0);if(po(()=>{w.current=!1,qT(u,m),h.current=d}),WT(()=>{w.current=!0,m.clear(),f.clear()}),w.current)return p.createElement(p.Fragment,null,d.map(g=>p.createElement(Wc,{key:gn(g),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:o},g)));d=[...d];const y=h.current.map(gn),b=u.map(gn),v=y.length;for(let g=0;g<v;g++){const x=y[g];b.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(d=[]),f.forEach((g,x)=>{if(b.indexOf(x)!==-1)return;const S=m.get(x);if(!S)return;const j=y.indexOf(x);let P=g;if(!P){const k=()=>{f.delete(x);const C=Array.from(m.keys()).filter(E=>!b.includes(E));if(C.forEach(E=>m.delete(E)),h.current=u.filter(E=>{const _=gn(E);return _===x||C.includes(_)}),!f.size){if(c.current===!1)return;a(),n&&n()}};P=p.createElement(Wc,{key:gn(S),isPresent:!1,onExitComplete:k,custom:t,presenceAffectsLayout:i,mode:o},S),f.set(x,P)}d.splice(j,0,P)}),d=d.map(g=>{const x=g.key;return f.has(x)?g:p.createElement(Wc,{key:gn(g),isPresent:!0,presenceAffectsLayout:i,mode:o},g)}),p.createElement(p.Fragment,null,f.size?d:d.map(g=>p.cloneElement(g)))};function _d(e){const t=Bs(()=>Rn(e)),{isStatic:r}=p.useContext(Qf);if(r){const[,n]=p.useState(e);p.useEffect(()=>t.on("change",n),[])}return t}const YT=e=>e&&typeof e=="object"&&e.mix,JT=e=>YT(e)?e.mix:void 0;function XT(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],o=e[3+r],a=ph(s,i,{mixer:JT(i[0]),...o});return t?a(n):a}function V1(e,t){const r=_d(t()),n=()=>r.set(t());return n(),po(()=>{const s=()=>ae.update(n,!1,!0),i=e.map(o=>o.on("change",s));return()=>{i.forEach(o=>o()),nr(n)}}),r}function QT(e){_i.current=[],e();const t=V1(_i.current,e);return _i.current=void 0,t}function fs(e,t,r,n){if(typeof e=="function")return QT(e);const s=typeof t=="function"?t:XT(t,r,n);return Array.isArray(e)?xg(e,s):xg([e],([i])=>s(i))}function xg(e,t){const r=Bs(()=>[]);return V1(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}function ZT(e){e.values.forEach(t=>t.stop())}function eR(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,n){const s=[];return e.forEach(i=>{s.push(x1(i,r,{transitionOverride:n}))}),Promise.all(s)},set(r){return e.forEach(n=>{JN(n,r)})},stop(){e.forEach(r=>{ZT(r)})},mount(){return()=>{t.stop()}}};return t}function tR(){const e=Bs(eR);return po(e.mount,[]),e}const rR=tR;class nR{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,r){this.componentControls.forEach(n=>{n.start(t.nativeEvent||t,r)})}}const sR=()=>new nR;function iR(){return Bs(sR)}const qc=({icon:e,title:t,description:r,delay:n})=>l.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n},className:"bg-white/10 backdrop-blur-md p-3 rounded-xl shadow-lg text-center h-full flex flex-col justify-start items-center",children:[l.jsx(e,{className:"w-8 h-8 text-primary mx-auto mb-2"}),l.jsx("h3",{className:"text-base font-semibold text-white mb-1",children:t}),l.jsx("p",{className:"text-gray-200 text-[11px] leading-snug",children:r})]}),oR=()=>l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-pink-700 via-red-600 to-yellow-500 p-4 text-white overflow-hidden",children:[l.jsxs("div",{className:"w-full max-w-xs flex flex-col items-center justify-center flex-grow",children:[l.jsxs(q.header,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-6",children:[l.jsx("img",{src:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/5138cf96bf2e5ed01f731b2cf8cec2c1.png",alt:"Heresse Logo",className:"w-28 h-28 mx-auto mb-2 rounded-full shadow-lg border-2 border-white/50"}),l.jsx("h1",{className:"text-4xl font-extrabold tracking-tight text-shadow-lg",children:"Heresse"}),l.jsx("p",{className:"mt-1 text-sm text-gray-200 max-w-xs mx-auto text-shadow-sm",children:"L'application de rencontre la plus sexy du web"})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-6 w-full",children:[l.jsx(qc,{icon:Nl,title:"Éphémère",description:"Médias éphémères supprimés après ouverture",delay:.2}),l.jsx(qc,{icon:Gt,title:"Privé",description:"Galeries exclusives à votre prix.",delay:.4}),l.jsx(qc,{icon:dx,title:"Monétisé",description:"Revenus via médias & lives.",delay:.6})]}),l.jsxs(q.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},className:"flex flex-col gap-3 w-full",children:[l.jsx(D,{asChild:!0,className:"w-full text-base py-2.5 bg-white text-pink-600 hover:bg-gray-100 shadow-xl rounded-full font-semibold",children:l.jsx(ft,{to:"/signup",children:"Créer un compte"})}),l.jsx(D,{asChild:!0,variant:"outline",className:"w-full text-base py-2.5 text-white border-white hover:bg-white/10 shadow-xl rounded-full font-semibold",children:l.jsx(ft,{to:"/login",children:"Se connecter"})})]})]}),l.jsx(q.footer,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1},className:"py-3 text-center text-gray-300 text-xs",children:l.jsxs("p",{children:["© ",new Date().getFullYear()," Heresse. Tous droits réservés."]})})]}),me=Y.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));me.displayName="Input";var aR="Label",F1=p.forwardRef((e,t)=>l.jsx(ie.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));F1.displayName=aR;var B1=F1;const lR=Pl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=Y.forwardRef(({className:e,...t},r)=>l.jsx(B1,{ref:r,className:W(lR(),e),...t}));se.displayName=B1.displayName;const cR=({onLogin:e})=>{const[t,r]=p.useState("email"),[n,s]=p.useState(""),[i,o]=p.useState(""),[a,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),{toast:m}=Ee(),w=_e(),y=g=>{if(g.preventDefault(),!n||!i){m({title:"Erreur",description:"Veuillez remplir tous les champs.",variant:"destructive"});return}setTimeout(()=>{m({title:"Connexion réussie!",description:"Bienvenue de retour!"}),e()},1e3)},b=g=>{if(g.preventDefault(),f){if(!u||u.length<4){m({title:"Erreur",description:"Veuillez entrer un code valide.",variant:"destructive"});return}setTimeout(()=>{m({title:"Connexion réussie!",description:"Bienvenue de retour!"}),e()},1e3)}else{if(!a){m({title:"Erreur",description:"Veuillez entrer votre numéro de téléphone.",variant:"destructive"});return}h(!0),m({title:"Code SMS envoyé (simulation)",description:"Un code a été envoyé à votre numéro."})}},v=()=>{w("/signup")};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-pink-700 via-red-600 to-yellow-500 p-4 overflow-hidden",children:l.jsxs(q.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-xs bg-white/10 backdrop-blur-lg shadow-2xl rounded-xl p-5 space-y-5",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/5138cf96bf2e5ed01f731b2cf8cec2c1.png",alt:"Heresse Logo",className:"w-16 h-16 mx-auto mb-2 rounded-full shadow-md border-white/30 border"}),l.jsx("h2",{className:"text-2xl font-extrabold text-white tracking-tight",children:"Connectez-vous"}),l.jsxs("p",{className:"mt-1 text-center text-[11px] text-gray-200",children:["Pas encore de compte?"," ",l.jsx(D,{variant:"link",onClick:v,className:"font-medium text-pink-300 hover:text-pink-200",children:"Inscrivez-vous"})]})]}),l.jsxs("div",{className:"flex border border-white/20 rounded-full p-0.5 bg-black/10",children:[l.jsx(D,{onClick:()=>{r("email"),h(!1)},className:`flex-1 text-xs rounded-full py-1.5 h-auto ${t==="email"?"bg-primary text-white shadow-md":"bg-transparent text-gray-300 hover:text-white"}`,children:"Email"}),l.jsx(D,{onClick:()=>{r("sms"),s(""),o("")},className:`flex-1 text-xs rounded-full py-1.5 h-auto ${t==="sms"?"bg-primary text-white shadow-md":"bg-transparent text-gray-300 hover:text-white"}`,children:"Téléphone"})]}),t==="email"&&l.jsxs("form",{onSubmit:y,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"email-login",className:"block text-[11px] font-medium text-gray-200",children:"Adresse e-mail"}),l.jsxs("div",{className:"mt-0.5 relative",children:[l.jsx(sx,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"}),l.jsx(me,{id:"email-login",type:"email",value:n,onChange:g=>s(g.target.value),required:!0,placeholder:"vous@exemple.com",className:"bg-white/20 text-white pl-8 text-xs h-9"})]})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"password-login",className:"block text-[11px] font-medium text-gray-200",children:"Mot de passe"}),l.jsxs("div",{className:"mt-0.5 relative",children:[l.jsx(Gt,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"}),l.jsx(me,{id:"password-login",type:"password",value:i,onChange:g=>o(g.target.value),required:!0,placeholder:"••••••••",className:"bg-white/20 text-white pl-8 text-xs h-9"})]}),l.jsx("div",{className:"text-right mt-1",children:l.jsx(ft,{to:"#",className:"text-[10px] font-medium text-pink-300 hover:text-pink-200",children:"Mot de passe oublié?"})})]}),l.jsx(q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsx(D,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-red-600 hover:from-pink-600 hover:to-red-700 text-sm py-2 rounded-full",children:"Se connecter"})})]}),t==="sms"&&l.jsxs("form",{onSubmit:b,className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"phone-login",className:"block text-[11px] font-medium text-gray-200",children:"Numéro de téléphone"}),l.jsxs("div",{className:"mt-0.5 relative",children:[l.jsx(lx,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"}),l.jsx(me,{id:"phone-login",type:"tel",value:a,onChange:g=>c(g.target.value),required:!0,placeholder:"+33 6 12 34 56 78",className:"bg-white/20 text-white pl-8 text-xs h-9",disabled:f})]})]}),f&&l.jsxs("div",{children:[l.jsx(se,{htmlFor:"sms-code-login",className:"block text-[11px] font-medium text-gray-200",children:"Code SMS"}),l.jsxs("div",{className:"mt-0.5 relative",children:[l.jsx(Gt,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"}),l.jsx(me,{id:"sms-code-login",type:"text",value:u,onChange:g=>d(g.target.value),required:!0,placeholder:"••••",className:"bg-white/20 text-white pl-8 text-xs h-9"})]})]}),l.jsx(q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:l.jsx(D,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-red-600 hover:from-pink-600 hover:to-red-700 text-sm py-2 rounded-full",children:f?"Vérifier le code":"Envoyer le code"})}),f&&l.jsx(D,{variant:"link",onClick:()=>h(!1),className:"text-pink-300 hover:text-pink-200 text-xs p-0 h-auto w-full",children:"Modifier numéro"})]})]})})};function U1(e){const t=p.useRef({value:e,previous:e});return p.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function G1(e){const[t,r]=p.useState(void 0);return rr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=e.offsetWidth,a=e.offsetHeight;r({width:o,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Fl="Checkbox",[uR,H3]=On(Fl),[dR,Sh]=uR(Fl);function fR(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=e,[h,m]=Cl({prop:r,defaultProp:s??!1,onChange:c,caller:Fl}),[w,y]=p.useState(null),[b,v]=p.useState(null),g=p.useRef(!1),x=w?!!o||!!w.closest("form"):!0,S={checked:h,disabled:i,setChecked:m,control:w,setControl:y,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:Kr(s)?!1:s,isFormControl:x,bubbleInput:b,setBubbleInput:v};return l.jsx(dR,{scope:t,...S,children:hR(f)?f(S):n})}var H1="CheckboxTrigger",W1=p.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},s)=>{const{control:i,value:o,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:w}=Sh(H1,e),y=Ce(s,d),b=p.useRef(c);return p.useEffect(()=>{const v=i==null?void 0:i.form;if(v){const g=()=>f(b.current);return v.addEventListener("reset",g),()=>v.removeEventListener("reset",g)}},[i,f]),l.jsx(ie.button,{type:"button",role:"checkbox","aria-checked":Kr(c)?"mixed":c,"aria-required":u,"data-state":X1(c),"data-disabled":a?"":void 0,disabled:a,value:o,...n,ref:y,onKeyDown:oe(t,v=>{v.key==="Enter"&&v.preventDefault()}),onClick:oe(r,v=>{f(g=>Kr(g)?!0:!g),w&&m&&(h.current=v.isPropagationStopped(),h.current||v.stopPropagation())})})});W1.displayName=H1;var jh=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:i,required:o,disabled:a,value:c,onCheckedChange:u,form:d,...f}=e;return l.jsx(fR,{__scopeCheckbox:r,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>l.jsxs(l.Fragment,{children:[l.jsx(W1,{...f,ref:t,__scopeCheckbox:r}),h&&l.jsx(J1,{__scopeCheckbox:r})]})})});jh.displayName=Fl;var q1="CheckboxIndicator",K1=p.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,i=Sh(q1,r);return l.jsx(Fs,{present:n||Kr(i.checked)||i.checked===!0,children:l.jsx(ie.span,{"data-state":X1(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});K1.displayName=q1;var Y1="CheckboxBubbleInput",J1=p.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=Sh(Y1,e),w=Ce(r,m),y=U1(i),b=G1(n);p.useEffect(()=>{const g=h;if(!g)return;const x=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(x,"checked").set,P=!s.current;if(y!==i&&j){const k=new Event("click",{bubbles:P});g.indeterminate=Kr(i),j.call(g,Kr(i)?!1:i),g.dispatchEvent(k)}},[h,y,i,s]);const v=p.useRef(Kr(i)?!1:i);return l.jsx(ie.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??v.current,required:a,disabled:c,name:u,value:d,form:f,...t,tabIndex:-1,ref:w,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});J1.displayName=Y1;function hR(e){return typeof e=="function"}function Kr(e){return e==="indeterminate"}function X1(e){return Kr(e)?"indeterminate":e?"checked":"unchecked"}const nl=Y.forwardRef(({className:e,...t},r)=>l.jsx(jh,{ref:r,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(K1,{className:W("flex items-center justify-center text-current"),children:l.jsx(l_,{className:"h-4 w-4"})})}));nl.displayName=jh.displayName;const pR=({onSignup:e})=>{const[t,r]=p.useState(""),[n,s]=p.useState(""),[i,o]=p.useState(""),[a,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState(!1),{toast:m}=Ee(),w=()=>{if(!a)return!1;const b=new Date,v=new Date(a);let g=b.getFullYear()-v.getFullYear();const x=b.getMonth()-v.getMonth();return(x<0||x===0&&b.getDate()<v.getDate())&&g--,g>=18},y=b=>{if(b.preventDefault(),n!==i){m({title:"Erreur",description:"Les mots de passe ne correspondent pas.",variant:"destructive"});return}if(!f){m({title:"Erreur",description:"Vous devez accepter les termes et conditions.",variant:"destructive"});return}if(!w()){m({title:"Erreur",description:"Vous devez avoir au moins 18 ans pour vous inscrire.",variant:"destructive"});return}setTimeout(()=>{m({title:"Inscription Initiée!",description:"Veuillez compléter la vérification KYC."}),e()},1e3)};return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-pink-700 via-red-600 to-yellow-500 p-4 overflow-hidden",children:l.jsxs(q.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-xs bg-white/10 backdrop-blur-lg shadow-2xl rounded-xl p-5 space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("img",{src:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/5138cf96bf2e5ed01f731b2cf8cec2c1.png",alt:"Heresse Logo",className:"w-16 h-16 mx-auto mb-2 rounded-full shadow-md border-white/30 border"}),l.jsx("h2",{className:"text-2xl font-extrabold text-white tracking-tight",children:"Créez votre compte"}),l.jsxs("p",{className:"mt-1 text-center text-[11px] text-gray-200",children:[" Déjà un compte?"," "," ",l.jsx(ft,{to:"/login",className:"font-medium text-pink-300 hover:text-pink-200",children:" Connectez-vous "})," "]})]}),l.jsxs("form",{onSubmit:y,className:"space-y-3",children:[l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"email-signup",className:"block text-[11px] font-medium text-gray-200",children:"Adresse e-mail"})," ",l.jsxs("div",{className:"mt-0.5 relative",children:[" ",l.jsx(sx,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"})," ",l.jsx(me,{id:"email-signup",type:"email",value:t,onChange:b=>r(b.target.value),required:!0,placeholder:"vous@exemple.com",className:"bg-white/20 text-white pl-8 text-xs h-9"})," "]})," "]}),l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"phone-signup",className:"block text-[11px] font-medium text-gray-200",children:"Numéro de téléphone (Optionnel)"})," ",l.jsxs("div",{className:"mt-0.5 relative",children:[" ",l.jsx(lx,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"})," ",l.jsx(me,{id:"phone-signup",type:"tel",value:u,onChange:b=>d(b.target.value),placeholder:"+33 6 12 34 56 78",className:"bg-white/20 text-white pl-8 text-xs h-9"})," "]})," "]}),l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"birthdate-signup",className:"block text-[11px] font-medium text-gray-200",children:"Date de naissance"})," ",l.jsxs("div",{className:"mt-0.5 relative",children:[" ",l.jsx(a_,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"})," ",l.jsx(me,{id:"birthdate-signup",type:"date",value:a,onChange:b=>c(b.target.value),required:!0,className:"bg-white/20 text-white pl-8 appearance-none text-xs h-9"})," "]})," ",l.jsx("p",{className:"mt-0.5 text-[10px] text-gray-300",children:"Vous devez avoir au moins 18 ans."})," "]}),l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"password-signup",className:"block text-[11px] font-medium text-gray-200",children:"Mot de passe"})," ",l.jsxs("div",{className:"mt-0.5 relative",children:[" ",l.jsx(Gt,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"})," ",l.jsx(me,{id:"password-signup",type:"password",value:n,onChange:b=>s(b.target.value),required:!0,placeholder:"••••••••",className:"bg-white/20 text-white pl-8 text-xs h-9"})," "]})," "]}),l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"confirm-password-signup",className:"block text-[11px] font-medium text-gray-200",children:"Confirmer le mot de passe"})," ",l.jsxs("div",{className:"mt-0.5 relative",children:[" ",l.jsx(Gt,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-gray-400"})," ",l.jsx(me,{id:"confirm-password-signup",type:"password",value:i,onChange:b=>o(b.target.value),required:!0,placeholder:"••••••••",className:"bg-white/20 text-white pl-8 text-xs h-9"})," "]})," "]}),l.jsxs("div",{className:"flex items-center space-x-1.5 pt-1",children:[" ",l.jsx(nl,{id:"terms-signup",checked:f,onCheckedChange:h,className:"border-gray-400 data-[state=checked]:bg-pink-500 data-[state=checked]:border-pink-500 h-3.5 w-3.5"})," ",l.jsxs(se,{htmlFor:"terms-signup",className:"text-[11px] text-gray-200",children:[" J'accepte les ",l.jsx("a",{href:"#",className:"underline text-pink-300 hover:text-pink-200",children:"termes et conditions"}),". "]})," "]}),l.jsxs(q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"pt-1",children:[" ",l.jsx(D,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-red-600 hover:from-pink-600 hover:to-red-700 text-sm py-2 rounded-full",children:" Suivant "})," "]})]})]})})},mR="modulepreload",gR=function(e){return"/"+e},wg={},As=function(t,r,n){if(!r||r.length===0)return t();const s=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=gR(i),i in wg)return;wg[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let d=s.length-1;d>=0;d--){const f=s[d];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":mR,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},vR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>As(()=>Promise.resolve().then(()=>Us),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class kh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yR extends kh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xR extends kh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wR extends kh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Pd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Pd||(Pd={}));var bR=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class SR{constructor(t,{headers:r={},customFetch:n,region:s=Pd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=vR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return bR(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(w=>{throw new yR(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new xR(d);if(!d.ok)throw new wR(d);let h=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield d.json():h==="application/octet-stream"?m=yield d.blob():h==="text/event-stream"?m=d:h==="multipart/form-data"?m=yield d.formData():m=yield d.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var at={},Ch={},Bl={},xo={},Ul={},Gl={},jR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Is=jR();const kR=Is.fetch,Q1=Is.fetch.bind(Is),Z1=Is.Headers,CR=Is.Request,_R=Is.Response,Us=Object.freeze(Object.defineProperty({__proto__:null,Headers:Z1,Request:CR,Response:_R,default:Q1,fetch:kR},Symbol.toStringTag,{value:"Module"})),PR=aS(Us);var Hl={};Object.defineProperty(Hl,"__esModule",{value:!0});let NR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Hl.default=NR;var ew=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gl,"__esModule",{value:!0});const ER=ew(PR),TR=ew(Hl);let RR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ER.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const v=await i.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const y=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");y&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await i.text();try{u=JSON.parse(y),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new TR.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Gl.default=RR;var MR=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ul,"__esModule",{value:!0});const AR=MR(Gl);let IR=class extends AR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ul.default=IR;var DR=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xo,"__esModule",{value:!0});const LR=DR(Ul);let OR=class extends LR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};xo.default=OR;var zR=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bl,"__esModule",{value:!0});const oi=zR(xo);let $R=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new oi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new oi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new oi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new oi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bl.default=$R;var Wl={},ql={};Object.defineProperty(ql,"__esModule",{value:!0});ql.version=void 0;ql.version="0.0.0-automated";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.DEFAULT_HEADERS=void 0;const VR=ql;Wl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${VR.version}`};var tw=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ch,"__esModule",{value:!0});const FR=tw(Bl),BR=tw(xo),UR=Wl;let GR=class rw{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},UR.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new FR.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new rw(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new BR.default({method:o,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ch.default=GR;var Gs=Rt&&Rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(at,"__esModule",{value:!0});at.PostgrestError=at.PostgrestBuilder=at.PostgrestTransformBuilder=at.PostgrestFilterBuilder=at.PostgrestQueryBuilder=at.PostgrestClient=void 0;const nw=Gs(Ch);at.PostgrestClient=nw.default;const sw=Gs(Bl);at.PostgrestQueryBuilder=sw.default;const iw=Gs(xo);at.PostgrestFilterBuilder=iw.default;const ow=Gs(Ul);at.PostgrestTransformBuilder=ow.default;const aw=Gs(Gl);at.PostgrestBuilder=aw.default;const lw=Gs(Hl);at.PostgrestError=lw.default;var HR=at.default={PostgrestClient:nw.default,PostgrestQueryBuilder:sw.default,PostgrestFilterBuilder:iw.default,PostgrestTransformBuilder:ow.default,PostgrestBuilder:aw.default,PostgrestError:lw.default};const{PostgrestClient:WR,PostgrestQueryBuilder:X3,PostgrestFilterBuilder:Q3,PostgrestTransformBuilder:Z3,PostgrestBuilder:eI,PostgrestError:tI}=HR,qR="2.11.2",KR={"X-Client-Info":`realtime-js/${qR}`},YR="1.0.0",cw=1e4,JR=1e3;var xs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(xs||(xs={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var $t;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})($t||($t={}));var Nd;(function(e){e.websocket="websocket"})(Nd||(Nd={}));var yn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yn||(yn={}));class XR{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class uw{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const bg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=QR(o,e,t,s),i),{})},QR=(e,t,r,n)=>{const s=t.find(a=>a.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?dw(i,o):Ed(o)},dw=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return rM(t,r)}switch(e){case le.bool:return ZR(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return eM(t);case le.json:case le.jsonb:return tM(t);case le.timestamp:return nM(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return Ed(t);default:return Ed(t)}},Ed=e=>e,ZR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},eM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},tM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},rM=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>dw(t,a))}return e},nM=e=>typeof e=="string"?e.replace(" ","T"):e,fw=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Kc{constructor(t,r,n={},s=cw){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Sg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Sg||(Sg={}));class Ei{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ei.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Ei.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ei.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),a={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),w=d.filter(b=>m.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);w.length>0&&(a[u]=w),y.length>0&&(c[u]=y)}else a[u]=d}),this.syncDiff(i,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[a].unshift(...h)}n(a,d,c)}),this.map(o,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jg||(jg={}));var kg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kg||(kg={}));var ar;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ar||(ar={}));class _h{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kc(this,$t.join,this.params,this.timeout),this.rejoinTimer=new uw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on($t.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ei(this),this.broadcastEndpointURL=fw(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>t==null?void 0:t(ar.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ar.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ar.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let y=0;y<m;y++){const b=h[y],{filter:{event:v,schema:g,table:x,filter:S}}=b,j=d&&d[y];if(j&&j.event===v&&j.schema===g&&j.table===x&&j.filter===S)w.push(Object.assign(Object.assign({},b),{id:j.id}));else{this.unsubscribe(),t==null||t(ar.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ar.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(ar.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ar.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger($t.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Kc(this,$t.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Kc(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=$t;if(n&&[a,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var w,y,b;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var w,y,b,v,g,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,j=(w=m.filter)===null||w===void 0?void 0:w.event;return S&&((y=r.ids)===null||y===void 0?void 0:y.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(g=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return S==="*"||S===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:y,table:b,commit_timestamp:v,type:g,errors:x}=w;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:v,eventType:g,new:{},old:{},errors:x}),this._getPayloadRecords(w))}m.callback(h,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&_h.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on($t.close,{},t)}_onError(t){this._on($t.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bg(t.columns,t.old_record)),r}}const sM=()=>{},iM=typeof WebSocket<"u",oM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aM{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=KR,this.params={},this.timeout=cw,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sM,this.conn=null,this.sendBuffer=[],this.serializer=new XR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>As(()=>Promise.resolve().then(()=>Us),void 0).then(({default:c})=>c(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Nd.websocket}`,this.httpEndpoint=fw(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new uw(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(iM){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new lM(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),As(()=>import("./browser-0b0eb2f1.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:YR}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xs.connecting:return yn.Connecting;case xs.open:return yn.Open;case xs.closing:return yn.Closing;default:return yn.Closed}}isConnected(){return this.connectionState()===yn.Open}channel(t,r={config:{}}){const n=new _h(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push($t.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(JR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger($t.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lM{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=xs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class Ph extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function De(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class cM extends Ph{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Td extends Ph{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var uM=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const hw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>As(()=>Promise.resolve().then(()=>Us),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dM=()=>uM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield As(()=>Promise.resolve().then(()=>Us),void 0)).Response:Response}),Rd=e=>{if(Array.isArray(e))return e.map(r=>Rd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Rd(n)}),t};var Vn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Yc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),fM=(e,t,r)=>Vn(void 0,void 0,void 0,function*(){const n=yield dM();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new cM(Yc(s),e.status||500))}).catch(s=>{t(new Td(Yc(s),s))}):t(new Td(Yc(e),e))}),hM=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function wo(e,t,r,n,s,i){return Vn(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(r,hM(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>fM(c,a,n))})})}function sl(e,t,r,n){return Vn(this,void 0,void 0,function*(){return wo(e,"GET",t,r,n)})}function Tr(e,t,r,n,s){return Vn(this,void 0,void 0,function*(){return wo(e,"POST",t,n,s,r)})}function pM(e,t,r,n,s){return Vn(this,void 0,void 0,function*(){return wo(e,"PUT",t,n,s,r)})}function mM(e,t,r,n){return Vn(this,void 0,void 0,function*(){return wo(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function pw(e,t,r,n,s){return Vn(this,void 0,void 0,function*(){return wo(e,"DELETE",t,n,s,r)})}var it=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const gM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vM{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=hw(s)}uploadOrUpdate(t,r,n,s){return it(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Cg),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield f.json();return f.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(De(i))return{data:null,error:i};throw i}})}upload(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return it(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Cg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(De(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return it(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Tr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ph("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}update(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}copy(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield Tr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Tr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return it(this,void 0,void 0,function*(){try{const s=yield Tr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}download(t,r){return it(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield sl(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(De(a))return{data:null,error:a};throw a}})}info(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield sl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Rd(n),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}exists(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield mM(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(De(n)&&n instanceof Td){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}list(t,r,n){return it(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},gM),r),{prefix:t||""});return{data:yield Tr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(De(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const yM="2.7.1",xM={"X-Client-Info":`storage-js/${yM}`};var Bn=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class wM{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},xM),r),this.fetch=hw(n)}listBuckets(){return Bn(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(De(t))return{data:null,error:t};throw t}})}getBucket(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield sl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Bn(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Bn(this,void 0,void 0,function*(){try{return{data:yield pM(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield Tr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield pw(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}})}}class bM extends wM{constructor(t,r={},n){super(t,r,n)}from(t){return new vM(this.url,this.headers,t,this.fetch)}}const SM="2.49.8";let hi="";typeof Deno<"u"?hi="deno":typeof document<"u"?hi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hi="react-native":hi="node";const jM={"X-Client-Info":`supabase-js-${hi}/${SM}`},kM={headers:jM},CM={schema:"public"},_M={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PM={};var NM=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const EM=e=>{let t;return e?t=e:typeof fetch>"u"?t=Q1:t=fetch,(...r)=>t(...r)},TM=()=>typeof Headers>"u"?Z1:Headers,RM=(e,t,r)=>{const n=EM(r),s=TM();return(i,o)=>NM(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var MM=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};function AM(e){return e.endsWith("/")?e:e+"/"}function IM(e,t){var r,n;const{db:s,auth:i,realtime:o,global:a}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>MM(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const mw="2.69.1",Yn=30*1e3,Md=3,Jc=Md*Yn,DM="http://localhost:9999",LM="supabase.auth.token",OM={"X-Client-Info":`gotrue-js/${mw}`},Ad="X-Supabase-Api-Version",gw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zM=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$M=6e5;class Nh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class VM extends Nh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function FM(e){return J(e)&&e.name==="AuthApiError"}class vw extends Nh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class sn extends Nh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class kr extends sn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BM(e){return J(e)&&e.name==="AuthSessionMissingError"}class Xc extends sn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ko extends sn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yo extends sn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function UM(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class _g extends sn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Id extends sn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qc(e){return J(e)&&e.name==="AuthRetryableFetchError"}class Pg extends sn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ti extends sn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ng="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eg=` 	
\r=`.split(""),GM=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Eg.length;t+=1)e[Eg[t].charCodeAt(0)]=-2;for(let t=0;t<Ng.length;t+=1)e[Ng[t].charCodeAt(0)]=t;return e})();function yw(e,t,r){const n=GM[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Tg(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qM(o,n,r)};for(let o=0;o<e.length;o+=1)yw(e.charCodeAt(o),s,i);return t.join("")}function HM(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function WM(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}HM(n,t)}}function qM(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function KM(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)yw(e.charCodeAt(s),r,n);return new Uint8Array(t)}function YM(e){const t=[];return WM(e,r=>t.push(r)),new Uint8Array(t)}function JM(e){return Math.round(Date.now()/1e3)+e}function XM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const qt=()=>typeof window<"u"&&typeof document<"u",un={tested:!1,writable:!1},Ri=()=>{if(!qt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(un.tested)return un.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),un.tested=!0,un.writable=!0}catch{un.tested=!0,un.writable=!1}return un.writable};function QM(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const xw=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>As(()=>Promise.resolve().then(()=>Us),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ZM=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ww=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Jo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xo=async(e,t)=>{await e.removeItem(t)};class Kl{constructor(){this.promise=new Kl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kl.promiseConstructor=Promise;function Zc(e){const t=e.split(".");if(t.length!==3)throw new Ti("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zM.test(t[n]))throw new Ti("JWT not in base64url format");return{header:JSON.parse(Tg(t[0])),payload:JSON.parse(Tg(t[1])),signature:KM(t[2]),raw:{header:t[0],payload:t[1]}}}async function eA(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tA(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function rA(e){return("0"+e.toString(16)).substr(-2)}function nA(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,rA).join("")}async function sA(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function iA(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await sA(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Un(e,t,r=!1){const n=nA();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ww(e,`${t}-code-verifier`,s);const i=await iA(n);return[i,n===i?"plain":"s256"]}const oA=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function aA(e){const t=e.headers.get(Ad);if(!t||!t.match(oA))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function lA(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function cA(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var uA=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const vn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),dA=[502,503,504];async function Rg(e){var t;if(!ZM(e))throw new Id(vn(e),0);if(dA.includes(e.status))throw new Id(vn(e),e.status);let r;try{r=await e.json()}catch(i){throw new vw(vn(i),i)}let n;const s=aA(e);if(s&&s.getTime()>=gw["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pg(vn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new kr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Pg(vn(r),e.status,r.weak_password.reasons);throw new VM(vn(r),e.status||500,n)}const fA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ee(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Ad]||(i[Ad]=gw["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await hA(e,t,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function hA(e,t,r,n,s,i){const o=fA(t,n,s,i);let a;try{a=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Id(vn(c),0)}if(a.ok||await Rg(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Rg(c)}}function Cr(e){var t;let r=null;vA(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=JM(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mg(e){const t=Cr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ar(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function pA(e){return{data:e,error:null}}function mA(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=uA(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function gA(e){return e}function vA(e){return e.access_token&&e.refresh_token&&e.expires_in}var yA=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class xA{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=xw(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ar})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yA(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:mA,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ar})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:gA});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(w.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ar})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ar})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ar})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}const wA={getItem:e=>Ri()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ri()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ri()&&globalThis.localStorage.removeItem(e)}};function Ag(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function bA(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gn={debug:!!(globalThis&&Ri()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bw extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class SA extends bw{}async function jA(e,t,r){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new SA(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bA();const kA={url:DM,storageKey:LM,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OM,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ig(e,t,r){return await r()}class so{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=so.nextInstanceID,so.nextInstanceID+=1,this.instanceID>0&&qt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kA),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new xA({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xw(s.fetch),this.lock=s.lock||Ig,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:qt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jA:this.lock=Ig,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ri()?this.storage=wA:(this.memoryStorage={},this.storage=Ag(this.memoryStorage)):(this.memoryStorage={},this.storage=Ag(this.memoryStorage)),qt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${mw}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=QM(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),qt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),UM(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new vw("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cr}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Un(this.storage,this.storageKey)),i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:Cr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cr})}else throw new Ko("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:a}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mg})}else if("phone"in t){const{phone:i,password:o,options:a}=t;r=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Mg})}else throw new Ko("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await Jo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cr});if(await Xo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Xc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,a=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cr}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Un(this.storage,this.storageKey));const{error:f}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ko("You must provide either an email or phone number.")}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Cr});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Un(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:pA})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new kr;const{error:s}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:a}=await ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ko("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ar}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kr}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ar})})}catch(r){if(J(r))return BM(r)&&(await this._removeSession(),await Xo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new kr;const o=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await Un(this.storage,this.storageKey));const{data:u,error:d}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Ar});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Zc(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:a}=r;if(a)throw a;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new kr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!qt())throw new Yo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _g("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _g("No code detected.");const{data:g,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:u}=t;if(!i||!a||!o||!u)throw new Yo("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:y,error:b}=await this._getUser(i);if(b)throw b;const v={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(FM(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Xo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=XM(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Un(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return qt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await tA(async s=>(s>0&&await eA(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cr})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Qc(i)&&Date.now()+o-n<Yn})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),qt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Jo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Jc;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Jc}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Qc(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new kr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Kl;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new kr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),J(i)){const o={session:null,error:i};return Qc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ww(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&qt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Yn}ms, refresh threshold is ${Md} ticks`),s<=Md&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bw)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!qt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Un(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zc(s.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+$M>Date.now()))return n;const{data:s,error:i}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ti("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Ti("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:c}}=Zc(n);if(lA(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const u=cA(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,YM(`${a}.${c}`)))throw new Ti("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}so.nextInstanceID=0;const CA=so;class _A extends CA{constructor(t){super(t)}}var PA=globalThis&&globalThis.__awaiter||function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class NA{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=AM(t),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:CM,realtime:PM,auth:Object.assign(Object.assign({},_M),{storageKey:u}),global:kM},f=IM(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=RM(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new WR(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new SR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new bM(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return PA(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _A({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new aM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const EA=(e,t,r)=>new NA(e,t,r),TA="https://jhdfpxazgplkudfcvuzr.supabase.co",RA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpoZGZweGF6Z3Bsa3VkZmN2dXpyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4MTcyMTAsImV4cCI6MjA2MzM5MzIxMH0.4Yno-gKtiFJTkie8FtAvTlcDyOuBnqgDUvnaOnPE7-s",Oe=EA(TA,RA);let Qo;const MA=new Uint8Array(16);function AA(){if(!Qo&&(Qo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Qo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qo(MA)}const Be=[];for(let e=0;e<256;++e)Be.push((e+256).toString(16).slice(1));function IA(e,t=0){return Be[e[t+0]]+Be[e[t+1]]+Be[e[t+2]]+Be[e[t+3]]+"-"+Be[e[t+4]]+Be[e[t+5]]+"-"+Be[e[t+6]]+Be[e[t+7]]+"-"+Be[e[t+8]]+Be[e[t+9]]+"-"+Be[e[t+10]]+Be[e[t+11]]+Be[e[t+12]]+Be[e[t+13]]+Be[e[t+14]]+Be[e[t+15]]}const DA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Dg={randomUUID:DA};function Ct(e,t,r){if(Dg.randomUUID&&!t&&!e)return Dg.randomUUID();e=e||{};const n=e.random||(e.rng||AA)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return IA(n)}const ir=[{id:"pf_verified",url:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8d29tYW58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=300&q=60",alt:"Photo de profil vérifiée",isVerified:!0},{id:"pf2",url:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8d29tYW58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=300&q=60",alt:"Photo de profil 2",isVerified:!1}],Zo=[{id:"pg1",url:"https://images.unsplash.com/photo-1517841905240-472988babdf9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bW9kZWx8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=300&q=60",alt:"Média privé 1",price:2,type:"photo"},{id:"pg2",url:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fG1vZGVsfGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",alt:"Média privé 2",price:3,type:"photo"},{id:"pg_claudia_screen",url:"https://jhdfpxazgplkudfcvuzr.supabase.co/storage/v1/object/sign/rsp/Galerie%20privee%20Claudia/Screen%20claudia.jpg?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6InN0b3JhZ2UtdXJsLXNpZ25pbmcta2V5XzAxNTZiMmUwLWFiZDAtNDdjMC1hNjM4LTcxZTQ4ODIzNDg5MiJ9.eyJ1cmwiOiJyc3AvR2FsZXJpZSBwcml2ZWUgQ2xhdWRpYS9TY3JlZW4gY2xhdWRpYS5qcGciLCJpYXQiOjE3NDc4MzQ3MDQsImV4cCI6MTc1MDQyNjcwNH0.vj1E6mN5XVWXKPWl9xHLqhXfU-v3aVS27gcYXn_OFiA",alt:"Média privé de Claudia (exemple)",price:4,type:"photo"}],dn=[{id:Ct(),userId:"currentUserHerese",userName:"Moi",url:"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8bWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-18e5},{id:Ct(),userId:"user_lea",userName:"Léa",url:"https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8d29tYW58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-2e6},{id:Ct(),userId:"user_lea",userName:"Léa",url:"https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8OXx8d29tYW58ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-19e5},{id:Ct(),userId:"user_hugo",userName:"Hugo",url:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8NHx8bWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-22e5},{id:Ct(),userId:"user_claudia",userName:"Claudia",url:"https://images.unsplash.com/photo-1558531027-76e86744oe4f?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wyNjI5NjF8MHwxfHNlYXJjaHwxfHxwb3J0cmFpdCUyMHdvbWFufGVufDB8MHx8fDE3MTYyODY2ODZ8MA&ixlib=rb-4.0.3&q=80&w=400",type:"image",duration:5e3,seen:!0,timestamp:Date.now()-25e5},{id:Ct(),userId:"user_claudia",userName:"Claudia",url:"https://images.unsplash.com/photo-1532074205216-d0e1f4b87368?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTZ8fHdvbWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-24e5},{id:Ct(),userId:"user_claudia",userName:"Claudia",url:"https://images.unsplash.com/photo-1525879000488-bff128319cbf?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjB8fHdvbWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-23e5},{id:Ct(),userId:"user_theo",userName:"Théo",url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Nnx8bWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-3e6},{id:Ct(),userId:"user_emma",userName:"Emma",url:"https://images.unsplash.com/photo-1593104547489-5cfb3839a3b5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MjN8fHdvbWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-32e5},{id:Ct(),userId:"user_emma",userName:"Emma",url:"https://images.unsplash.com/photo-1492681290082-e932832941e6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mjd8fHdvbWFufGVufDB8fDB8fHww&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!1,timestamp:Date.now()-31e5},{id:Ct(),userId:"user_lucas",userName:"Lucas",url:"https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fG1hbnxlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=300&q=60",type:"image",duration:5e3,seen:!0,timestamp:Date.now()-35e5}],LA=(e,t,r)=>{if(e.profilePhotos.length>=Pw)return!1;const n={...r,id:`pf${Date.now()}`,isVerified:!1};return t(s=>({...s,profilePhotos:[...s.profilePhotos,n]})),!0},OA=(e,t,r)=>{const n=e.profilePhotos.find(s=>s.id===r);return n&&n.isVerified||e.profilePhotos.length<=Nw?!1:(t(s=>({...s,profilePhotos:s.profilePhotos.filter(i=>i.id!==r)})),!0)},zA=(e,t,r)=>{const n=e.profilePhotos.findIndex(o=>o.id===r);if(n===-1||n===0)return!1;const s=[...e.profilePhotos],i=s.splice(n,1)[0];return s.unshift(i),t(o=>({...o,profilePhotos:s,profilePicture:i.url})),!0},Sw=async(e,t,r)=>{if(e(n=>{var o;const s=n.privateGalleries.findIndex(a=>a.id===t.id);let i;if(s>-1)i=n.privateGalleries.map((a,c)=>{var u;return c===s?{...a,...t,itemCount:((u=t.items)==null?void 0:u.length)??a.items.length}:a});else{const a={id:t.id||`pg_${n.id}_${Date.now()}`,name:t.name||"Ma galerie privée",coverImage:t.coverImage||(n.profilePhotos.length>0?n.profilePhotos[0].url:"https://source.unsplash.com/random/800x600/?abstract"),price:t.price||5,items:t.items||[],itemCount:((o=t.items)==null?void 0:o.length)||0};i=[...n.privateGalleries,a]}return{...n,privateGalleries:i}}),r&&t.id){const{error:n}=await Oe.from("user_galleries").upsert({id:t.id,user_id:r,name:t.name,cover_image_url:t.coverImage,price:t.price,updated_at:new Date().toISOString()},{onConflict:"id"});n&&console.error("Error upserting gallery settings to Supabase:",n)}},jw=async(e,t,r,n)=>{const s={...t,id:t.id||Ct()};if(e(i=>{let o,a=[...i.privateGalleries];return n?o=a.find(c=>c.id===n):a.length>0&&(o=a[0]),o||(o={id:n||`pg_${i.id}_${Date.now()}`,name:"Ma galerie privée",coverImage:i.profilePhotos.length>0?i.profilePhotos[0].url:"https://source.unsplash.com/random/800x600/?abstract",price:5,items:[],itemCount:0},a.push(o)),o.items.length>=Ew?(console.warn("Max gallery items reached"),i):(o.items=[...o.items,s],o.itemCount=o.items.length,{...i,privateGalleries:a.map(c=>c.id===o.id?o:c)})}),r&&n){const{error:i}=await Oe.from("private_gallery_media").insert({id:s.id,user_id:r,gallery_id:n,url:s.url,alt_text:s.alt||"Média privé",price:s.price,media_type:s.type||"photo"});i&&console.error("Error adding gallery item to Supabase:",i)}},kw=async(e,t,r,n)=>{if(e(s=>{if(!n)return s;const i=s.privateGalleries.findIndex(c=>c.id===n);if(i===-1)return s;const o={...s.privateGalleries[i],items:s.privateGalleries[i].items.filter(c=>c.id!==t)};o.itemCount=o.items.length;const a=[...s.privateGalleries];return a[i]=o,{...s,privateGalleries:a}}),r&&t){const{error:s}=await Oe.from("private_gallery_media").delete().match({id:t,user_id:r});s&&console.error("Error deleting gallery item from Supabase:",s)}},Cw=async(e,t,r,n,s)=>{if(e(i=>{if(!s)return i;const o=i.privateGalleries.findIndex(d=>d.id===s);if(o===-1)return i;const a=i.privateGalleries[o].items.map(d=>d.id===t?{...d,price:r}:d),c={...i.privateGalleries[o],items:a},u=[...i.privateGalleries];return u[o]=c,{...i,privateGalleries:u}}),n&&t){const{error:i}=await Oe.from("private_gallery_media").update({price:r,updated_at:new Date().toISOString()}).match({id:t,user_id:n});i&&console.error("Error updating gallery item price in Supabase:",i)}},$A=(e,t,r,n)=>{const s={...n,id:`story_${Date.now()}`,userId:e.id,userName:e.name.split(" ")[0],timestamp:Date.now(),seen:!1};t(i=>[s,...i.filter(o=>o.userId!==e.id||o.id!==s.id)].sort((o,a)=>a.timestamp-o.timestamp)),r(i=>({...i,stories:[s,...i.stories.filter(o=>o.userId!==e.id||o.id!==s.id)].sort((o,a)=>a.timestamp-o.timestamp)}))},VA=(e,t,r)=>{e(n=>n.map(s=>s.id===r?{...s,seen:!0}:s)),t(n=>({...n,stories:n.stories.map(s=>s.id===r?{...s,seen:!0}:s)}))},_w=p.createContext(null),$e=()=>p.useContext(_w),Pw=10,Nw=1,Ew=25,FA=({children:e})=>{const[t,r]=p.useState({id:"currentUserHerese",name:"Robin Testeur",email:"robin.testeur@example.com",profilePicture:ir[0].url,bio:`Passionné par la tech et les voyages. Toujours prêt pour une nouvelle aventure ! 🚀
Cherche des connexions authentiques.`,walletBalance:150.75,profilePhotos:ir,privateGalleries:[{id:"pg_currentUserHerese_default",name:"Ma galerie privée",coverImage:ir.length>0?ir[0].url:"https://source.unsplash.com/random/800x600/?abstract",price:5,items:Zo,itemCount:Zo.length}],stories:dn.filter(_=>_.userId==="currentUserHerese"),premiumStatus:{subscriptionType:null,incognitoMode:!1,canRewind:!1,canSuperlike:!0,canBoost:!1},settings:{notifications:!0,theme:"dark",minLiveCallDuration:1},stats:{profileViews:1024,matches:42,photosSold:15,revenueGenerated:75.5,averageRating:4.2},photoRatings:{},newMatchesCount:5,totalUnreadMessagesCount:3,unlockedGalleries:[],unlockedMedia:[]}),[n,s]=p.useState(dn),[i,o]=p.useState(!0),a=p.useCallback(async _=>{const{data:R,error:T}=await Oe.from("profiles").select(`
            *,
            profile_photos:profile_photos_user_profile_photos (id, url, is_main, is_verified, created_at),
            user_galleries (
              id, name, cover_image_url, price,
              items:private_gallery_media (id, url, alt_text, price, media_type)
            ),
            stories:user_stories (id, user_id, url, type, created_at, duration, seen_by)
          `).eq("id",_).single();if(T)return console.error("Error fetching user profile from Supabase:",T),null;const{data:O,error:N}=await Oe.auth.getUser();if(N||!(O!=null&&O.user))return console.error("Error fetching auth user for unlocked galleries:",N),{...R,unlocked_galleries_ids:[]};const{data:I,error:A}=await Oe.from("users").select("unlocked_galleries").eq("id",O.user.id).single();return A&&console.error("Error fetching unlocked galleries for user:",A),{...R,unlocked_galleries_ids:(I==null?void 0:I.unlocked_galleries)||[]}},[]),c=_=>{var O,N,I,A,H,M,z,B,F;if(!_)return{};const R=((O=_.profile_photos)==null?void 0:O.map(U=>({id:U.id,url:U.url,main:U.is_main,verified:U.is_verified,timestamp:U.created_at})))||ir,T=((N=R.find(U=>U.main))==null?void 0:N.url)||((I=ir[0])==null?void 0:I.url);return{id:_.id,name:_.full_name||((A=_.raw_user_meta_data)==null?void 0:A.full_name)||((H=_.raw_user_meta_data)==null?void 0:H.name)||"Utilisateur",email:_.email,profilePicture:_.profile_picture_url||((M=_.raw_user_meta_data)==null?void 0:M.avatar_url)||T,bio:_.bio||((z=_.raw_user_meta_data)==null?void 0:z.bio)||"Bio non définie.",walletBalance:_.wallet_balance||0,profilePhotos:R,privateGalleries:((B=_.user_galleries)==null?void 0:B.map(U=>{var X,ge;return{id:U.id,name:U.name,coverImage:U.cover_image_url||T,price:U.price,items:((X=U.items)==null?void 0:X.map(Ve=>({id:Ve.id,url:Ve.url,alt:Ve.alt_text,type:Ve.media_type,price:Ve.price})))||[],itemCount:((ge=U.items)==null?void 0:ge.length)||0}}))||[],stories:((F=_.stories)==null?void 0:F.map(U=>{var X;return{...U,timestamp:U.created_at,seen:(X=U.seen_by)==null?void 0:X.includes(t==null?void 0:t.id)}}))||[],unlockedGalleries:_.unlocked_galleries_ids||[],unlockedMedia:_.unlocked_media||[],rawUserData:_}};p.useEffect(()=>{(async()=>{o(!0);const{data:{session:T}}=await Oe.auth.getSession();let O="currentUserHerese",N={...t};if(T!=null&&T.user){O=T.user.id;const I=await a(O);I?(N={...t,...c(I)},N.stories=dn.filter(A=>A.userId===N.id||A.userId==="currentUserHerese")):(console.warn(`Supabase profile not found for ${O}, using local defaults with ID override.`),N.id=O)}else console.warn("No active Supabase session, using local default 'currentUserHerese'."),N.stories=dn.filter(I=>I.userId==="currentUserHerese");r(N),o(!1)})();const{data:R}=Oe.auth.onAuthStateChange(async(T,O)=>{if(o(!0),T==="SIGNED_IN"&&(O!=null&&O.user)){const N=await a(O.user.id);if(N){const I=c(N);r(A=>({...A,...I,stories:dn.filter(H=>H.userId===I.id||H.userId==="currentUserHerese")}))}else r(I=>({...I,id:O.user.id,email:O.user.email,stories:dn.filter(A=>A.userId===O.user.id||A.userId==="currentUserHerese")}))}else if(T==="SIGNED_OUT"){const N={id:"currentUserHerese",name:"Robin Testeur",email:"robin.testeur@example.com",profilePicture:ir[0].url,bio:"Passionné...",walletBalance:150.75,profilePhotos:ir,privateGalleries:[{id:"pg_currentUserHerese_default",name:"Ma galerie privée",coverImage:ir[0].url,price:5,items:Zo,itemCount:Zo.length}],stories:dn.filter(I=>I.userId==="currentUserHerese"),premiumStatus:{subscriptionType:null,incognitoMode:!1,canRewind:!1,canSuperlike:!0,canBoost:!1},settings:{notifications:!0,theme:"dark",minLiveCallDuration:1},stats:{profileViews:1024,matches:42,photosSold:15,revenueGenerated:75.5,averageRating:4.2},photoRatings:{},newMatchesCount:5,totalUnreadMessagesCount:3,unlockedGalleries:[],unlockedMedia:[]};r(N)}o(!1)});return()=>{var T;(T=R==null?void 0:R.subscription)==null||T.unsubscribe()}},[a]);const u=_=>{r(R=>({...R,walletBalance:Math.max(0,R.walletBalance+_)}))},d=_=>{r(R=>{const T=[...new Set([...R.unlockedGalleries||[],_])];return{...R,unlockedGalleries:T}})},f=_=>{r(R=>({...R,unlockedMedia:[...new Set([...R.unlockedMedia||[],_])]}))},h=(_,R)=>{r(T=>({...T,premiumStatus:{...T.premiumStatus,[_]:R}}))},m=_=>{r(R=>({...R,stats:{...R.stats,..._}}))},w=(_,R)=>{r(T=>{const N=[...T.photoRatings[_]||[],R],I=N.reduce((A,H)=>A+H,0)/N.length;return{...T,photoRatings:{...T.photoRatings,[_]:N},stats:{...T.stats,averageRating:I}}})},y=_=>LA(t,r,_),b=_=>OA(t,r,_),v=_=>zA(t,r,_),g=_=>Sw(r,_,t.id),x=(_,R)=>jw(r,_,t.id,R),S=(_,R)=>kw(r,_,t.id,R),j=(_,R,T)=>Cw(r,_,R,t.id,T),P=_=>$A(t,s,r,_),k=_=>VA(s,r,_),C=_=>{r(R=>({...R,bio:_}))},E={currentUser:t,updateWalletBalance:u,addUnlockedGallery:d,unlockedGalleries:t.unlockedGalleries,addUnlockedMediaItem:f,unlockedMedia:t.unlockedMedia,updatePremiumStatus:h,updateStats:m,updatePhotoRating:w,addProfilePhoto:y,deleteProfilePhoto:b,setMainProfilePicture:v,createOrUpdatePrivateGallery:g,addPrivateGalleryItem:x,deletePrivateGalleryItem:S,updatePrivateGalleryItemPrice:j,stories:n,addStory:P,markStoryAsSeen:k,updateBio:C,setCurrentUser:r,supabase:Oe,loading:i,MAX_PROFILE_PHOTOS:Pw,MIN_PROFILE_PHOTOS:Nw,MAX_PRIVATE_GALLERY_ITEMS:Ew};return l.jsx(_w.Provider,{value:E,children:e})},Tw=Y.forwardRef(({children:e,controls:t,onDragStart:r,onDrag:n,onDragEnd:s,isTopCard:i,...o},a)=>{const c=(f,h)=>{r&&r(f,h)},u=(f,h)=>{n&&n(f,h)},d=(f,h)=>{s&&s(f,h)};return l.jsx(q.div,{ref:a,drag:!!i,dragElastic:.5,onDragStart:c,onDrag:u,onDragEnd:d,animate:t,style:{...o.style,touchAction:i?"pan-y":"auto"},className:W("absolute w-full h-full select-none",i?"cursor-grab active:cursor-grabbing":"cursor-default"),...o,children:e})});Tw.displayName="CardWrapper";const Rw=Y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Rw.displayName="Card";const Mw=Y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("flex flex-col space-y-1.5 p-6",e),...t}));Mw.displayName="CardHeader";const BA=Y.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));BA.displayName="CardTitle";const UA=Y.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:W("text-sm text-muted-foreground",e),...t}));UA.displayName="CardDescription";const GA=Y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("p-6 pt-0",e),...t}));GA.displayName="CardContent";const HA=Y.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:W("flex items-center p-6 pt-0",e),...t}));HA.displayName="CardFooter";const WA=Pl("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Aw({className:e,variant:t,...r}){return l.jsx("div",{className:W(WA({variant:t}),e),...r})}const qA=({profile:e,isTopCard:t,onSwipe:r,isSwiping:n})=>{const[s,i]=p.useState(0),o=d=>{d.stopPropagation(),i(f=>(f+1)%e.photos.length)},a=d=>{d.stopPropagation(),i(f=>(f-1+e.photos.length)%e.photos.length)},c=d=>{d.stopPropagation();const h=d.target.getBoundingClientRect(),m=d.clientX-h.left;m<h.width/3?a(d):m>h.width*2/3&&o(d)},u=e.mediaSoldRating||0;return l.jsx(Rw,{className:"w-full h-full rounded-xl overflow-hidden shadow-xl bg-slate-900 border-slate-700 flex flex-col select-none",children:l.jsxs(Mw,{className:"p-0 relative flex-grow cursor-default",onClick:n?void 0:c,children:[l.jsx(Ms,{initial:!1,mode:"wait",children:l.jsx(q.img,{src:e.photos[s],alt:`${e.name}'s photo ${s+1}`,className:"absolute inset-0 w-full h-full object-cover",initial:{opacity:.8,scale:1.02},animate:{opacity:1,scale:1},exit:{opacity:.8,scale:1.02},transition:{duration:.2}},e.id+"-"+s)}),l.jsx("div",{className:"absolute top-2 left-2 right-2 flex space-x-1 pointer-events-none z-10",children:e.photos.map((d,f)=>l.jsx("div",{className:"h-1 flex-1 rounded-full bg-black/20 overflow-hidden",children:l.jsx(q.div,{className:"h-full bg-white/80",initial:{width:"0%"},animate:{width:f===s?"100%":"0%"},transition:{duration:f===s?.2:0,ease:"linear"}})},f))}),l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 pt-16 bg-gradient-to-t from-black/90 via-black/60 to-transparent text-white pointer-events-none",children:[l.jsx("div",{className:"flex items-center justify-between mb-1.5",children:l.jsx(ft,{to:`/profile/${e.id}`,onClick:d=>{d.stopPropagation(),r&&r("info")},className:"pointer-events-auto focus:outline-none focus:ring-2 focus:ring-primary rounded",children:l.jsxs("h2",{className:"text-3xl font-bold drop-shadow-md",children:[e.name," ",l.jsx("span",{className:"font-light text-2xl",children:e.age})]})})}),l.jsxs("div",{className:"flex items-center text-sm text-gray-300 mb-1 drop-shadow-sm",children:[l.jsx(ix,{size:14,className:"mr-1.5"})," ",e.city," (",e.distance,")"]}),s===e.referencePhotoIndex&&l.jsxs(Aw,{variant:"secondary",className:"mb-1.5 bg-gradient-to-r from-green-500/80 to-emerald-600/80 text-white text-[10px] px-2 py-0.5 shadow-md backdrop-blur-sm border-none",children:[l.jsx(Ka,{size:11,className:"mr-1"}),"Photo Vérifiée"]}),u>0&&l.jsxs("div",{className:"flex items-center text-sm text-gray-300 mb-1.5 drop-shadow-sm",children:[l.jsx(Ts,{size:14,className:"mr-1.5 fill-yellow-400 text-yellow-400"})," ",u.toFixed(1)," ",l.jsx("span",{className:"ml-1",children:"Note Média"})]}),l.jsx("p",{className:"text-sm text-gray-200 line-clamp-2 leading-relaxed drop-shadow-sm",children:e.bio})]})]})})},KA=({currentUserData:e,matchedUserData:t,onClose:r,onSendMessage:n})=>(p.useEffect(()=>{const s=setTimeout(()=>{r()},8e3);return()=>clearTimeout(s)},[r]),!e||!t?null:l.jsxs(q.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8,transition:{duration:.3}},transition:{type:"spring",stiffness:260,damping:20},className:"fixed inset-0 bg-black/80 backdrop-blur-lg flex flex-col items-center justify-center z-50 p-4",onClick:s=>{s.stopPropagation(),r()},children:[l.jsx(q.h1,{className:"text-5xl font-extrabold mb-8 text-transparent bg-clip-text bg-gradient-to-r from-pink-500 via-red-500 to-yellow-500",initial:{y:-50,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2,duration:.5}},children:"C'est un Match !"}),l.jsxs("div",{className:"flex items-center justify-center space-x-[-20px] sm:space-x-[-40px] mb-10",children:[l.jsx(q.img,{src:e.profilePicture||`https://ui-avatars.com/api/?name=${e.name}&background=random&color=fff`,alt:e.name,className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full border-4 border-pink-500 shadow-2xl object-cover",initial:{scale:0,rotate:-15},animate:{scale:1,rotate:0,transition:{delay:.4,type:"spring",stiffness:150}}}),l.jsx(q.img,{src:t.photos[0],alt:t.name,className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full border-4 border-yellow-500 shadow-2xl object-cover",initial:{scale:0,rotate:15},animate:{scale:1,rotate:0,transition:{delay:.5,type:"spring",stiffness:150}}})]}),l.jsxs(q.p,{className:"text-xl text-center text-gray-200 mb-8",initial:{y:50,opacity:0},animate:{y:0,opacity:1,transition:{delay:.7,duration:.5}},children:["Vous et ",l.jsx("span",{className:"font-bold text-white",children:t.name})," vous êtes mutuellement plu !"]}),l.jsxs(q.div,{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1,transition:{delay:.9,type:"spring"}},children:[l.jsxs(D,{onClick:s=>{s.stopPropagation(),n()},className:"bg-gradient-to-r from-primary to-secondary text-white font-semibold py-3 px-6 rounded-full shadow-lg text-lg",children:["Envoyer un message ",l.jsx(Rl,{size:20,className:"ml-2"})]}),l.jsxs(D,{onClick:s=>{s.stopPropagation(),r()},variant:"outline",className:"border-gray-400 text-gray-300 hover:bg-white/10 hover:text-white font-semibold py-3 px-6 rounded-full shadow-lg text-lg",children:["Continuer de swiper ",l.jsx(j_,{size:20,className:"ml-2"})]})]})]})),eu=({icon:e,onClick:t,disabled:r,className:n,motionStyle:s,ariaLabel:i})=>l.jsx(q.div,{style:s,children:l.jsx(D,{variant:"outline",size:"icon",className:n,onClick:t,disabled:r,"aria-label":i,children:l.jsx(e,{size:24})})}),YA=({onRewind:e,onSwipe:t,onBoost:r,canRewind:n,canBoost:s,isSwiping:i,historyLength:o,motionX:a})=>{const[c,u]=p.useState(!1),[d,f]=p.useState(!1),{toast:h}=Ee();fs(a,[-80,0],[1,.7]),fs(a,[-80,0],[1.15,1]);const m=fs(a,[0,80],[.7,1]),w=fs(a,[0,80],[1,1.15]),y=()=>{c?f(!0):u(!0)},b=v=>{v&&u(!1),f(!1)};return l.jsxs("div",{className:"absolute bottom-0 left-0 right-0 flex justify-evenly items-center py-4 px-3 bg-gradient-to-t from-black/70 via-black/40 to-transparent z-10",children:[l.jsx(eu,{icon:k_,onClick:e,disabled:!n||o===0||i,className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white/10 hover:bg-white/20 border-yellow-500/80 text-yellow-500 hover:text-yellow-400 shadow-xl backdrop-blur-sm",ariaLabel:"Rewind last swipe"}),l.jsx(eu,{icon:fo,onClick:()=>t("right"),disabled:i&&a.get()<0,className:"w-16 h-16 sm:w-[70px] sm:h-[70px] rounded-full bg-gradient-to-br from-emerald-500/80 to-green-600/80 hover:from-emerald-500 hover:to-green-600 border-2 border-emerald-400/70 text-white shadow-2xl backdrop-blur-md transition-all duration-150 ease-out hover:shadow-emerald-500/40 active:scale-95",motionStyle:{opacity:i?m:1,scale:i?w:1},ariaLabel:"Like profile"}),l.jsxs(q.div,{children:[l.jsx(D,{onClick:y,className:`${c?"bg-blue-500":"bg-gray-600"} hover:${c?"bg-blue-600":"bg-gray-700"} text-white p-4 rounded-full shadow-lg`,children:l.jsx(Tl,{size:24})}),d&&l.jsx(Ms,{children:l.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-16 left-0 right-0 mx-auto bg-white p-3 rounded shadow-md",children:[l.jsx("p",{className:"text-black mb-2",children:"Êtes-vous sûr(e) de vouloir désactiver le mode incognito ?"}),l.jsxs("div",{className:"flex justify-around",children:[l.jsx(D,{onClick:()=>b(!0),className:"bg-red-500 hover:bg-red-600 text-white p-2 w-1/3 rounded",children:"Oui"}),l.jsx(D,{onClick:()=>b(!1),className:"bg-gray-300 hover:bg-gray-400 p-2 w-1/3 rounded",children:"Non"})]})]})})]}),l.jsx(eu,{icon:eo,onClick:()=>{r(),h({title:"Boost (Non implémenté)"})},disabled:!s||i,className:"w-12 h-12 sm:w-14 sm:h-14 rounded-full bg-white/10 hover:bg-white/20 border-purple-500/80 text-purple-500 hover:text-purple-400 shadow-xl backdrop-blur-sm",ariaLabel:"Boost profile"})]})},JA=({isIncognito:e,onToggleIncognito:t,onOpenFilters:r})=>l.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-2.5 z-10 absolute top-0 left-0 right-0 bg-gradient-to-b from-black/40 via-black/20 to-transparent",children:[l.jsx(D,{variant:e?"default":"outline",size:"icon",onClick:t,className:W("w-9 h-9 rounded-full shadow-md border-none",e?"bg-gradient-to-r from-purple-500 to-pink-500 text-white":"text-gray-300 bg-black/30 hover:bg-black/50 backdrop-blur-sm"),"aria-label":e?"Désactiver Incognito":"Activer Incognito",children:l.jsx(Tl,{className:"w-4 h-4"})}),l.jsx(D,{variant:"outline",size:"icon",onClick:r,className:"text-gray-300 bg-black/30 hover:bg-black/50 backdrop-blur-sm w-9 h-9 rounded-full shadow-md border-none","aria-label":"Ouvrir les filtres",children:l.jsx(f_,{className:"w-4 h-4"})})]}),Dd=[{id:"user1",name:"Sophie",age:27,city:"Bordeaux",distance:"5 km",bio:"Passionnée de photographie et de couchers de soleil. Toujours prête pour une nouvelle aventure. 📸🌅✨",photos:["https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/f3b3925c38b54e471d82f737eca893be.png","https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/379676ff7c593c92be5317da1f20b2e3.png"],referencePhotoIndex:0,mediaSoldRating:4.7,avatar:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/f3b3925c38b54e471d82f737eca893be.png"},{id:"user2",name:"Julien",age:31,city:"Nice",distance:"1 km",bio:"Amoureux de la nature et des voyages. J'aime découvrir de nouvelles cultures et saveurs. 🌍🍜🏞️",photos:["https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/b10a4463d7fc54fff9bea958ff754f0e.png","https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/5d7b77f640b0cb1214aa00a2a4ef65d4.png"],referencePhotoIndex:0,mediaSoldRating:4.3,avatar:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/b10a4463d7fc54fff9bea958ff754f0e.png"},{id:"user3",name:"Alex",age:29,city:"Strasbourg",distance:"10 km",bio:"Fan de musique, de concerts et de voitures anciennes. Un bon livre et un café, c'est mon bonheur. 🎶🚗📖",photos:["https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/614c16b89dbdfe2e6f964b79d5b5ae71.png","https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/8f4d30f5e1f32699e8c061a1c15d20bf.png"],referencePhotoIndex:1,mediaSoldRating:4.9,avatar:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/8f4d30f5e1f32699e8c061a1c15d20bf.png"},{id:"user4",name:"Chloé",age:25,city:"Lille",distance:"3 km",bio:"Chef cuisinière en herbe, j'adore expérimenter de nouvelles recettes. Le sport et les animaux sont mes autres passions. 🍳🏋️‍♀️🐶",photos:["https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/579be2811fe4cf73dd182c8843a9fabf.png","https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/e8a0992928b0584c40cb6e682184d7f7.png"],referencePhotoIndex:0,mediaSoldRating:4.5,avatar:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/579be2811fe4cf73dd182c8843a9fabf.png"},{id:"user_claudia",name:"Claudia",age:28,city:"Paris",distance:"2 km",bio:"Modèle photo et artiste. J'explore la beauté sous toutes ses formes. Mon contenu privé est exclusif. 🎨✨ lingerie & charme.",photos:["https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/1904836b101e618de54727eb481a5fbd.jpg","https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/5635ef37f4f6e4b70576bc0f29b522bb.jpg","https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/a8ec0310c40df5166adf19fe36e96bcf.jpg"],referencePhotoIndex:0,mediaSoldRating:5,avatar:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/1904836b101e618de54727eb481a5fbd.jpg"}],XA=Dd,QA=()=>{const[e,t]=p.useState([...Dd]),[r,n]=p.useState(0),[s,i]=p.useState([]),o=rR(),{currentUser:a,updatePremiumStatus:c}=$e(),{toast:u}=Ee(),d=_e(),f=p.useRef(!0),[h,m]=p.useState(!1),[w,y]=p.useState(!1),[b,v]=p.useState(null),g=_d(0),x=_d(0),S=fs(g,[-200,0,200],[-25,0,25]),j=fs([g,x],([N,I])=>{const A=Math.sqrt(N**2+I**2);return Math.max(1-A/1e3,.9)});p.useEffect(()=>(f.current=!0,()=>{f.current=!1}),[]);const P=()=>{f.current&&m(!0)},k=p.useCallback(N=>{if(!f.current||r>=e.length)return;const I=e[r];i(A=>[...A,{profile:I,direction:N}]),N==="right"?(v(I),y(!0)):N==="left"?u({title:"Non merci !",description:`Profil de ${I.name} passé.`,duration:2e3,className:"bg-gradient-to-r from-rose-600 to-red-700 border-red-700 text-white shadow-lg"}):N==="superlike"&&u({title:"Superlike !",description:`Vous avez envoyé un Superlike à ${I.name} !`,duration:2e3,className:"bg-gradient-to-r from-blue-500 to-sky-600 border-blue-600 text-white shadow-lg"}),n(A=>A+1),f.current&&(o.set({x:0,y:0,opacity:1,rotate:0,scale:1}),g.set(0),x.set(0))},[r,e,o,u,f,y,v,i,g,x]),C=p.useCallback((N,I)=>{if(!f.current)return;m(!1);const A=80,H=60,M=.3,z=I.offset.x,B=I.offset.y,F=I.velocity.x;if(Math.abs(z)>A&&Math.abs(B)<H&&Math.abs(F)>M){const U=z>0?"right":"left",X=U==="right"?"150%":"-150%",ge=U==="right"?25:-25;o.start({x:X,y:B,opacity:0,rotate:ge,transition:{duration:.3,ease:"easeOut"}}).then(()=>{f.current&&k(U)})}else o.start({x:0,y:0,rotate:0,scale:1,transition:{type:"spring",stiffness:500,damping:30}}),g.set(0),x.set(0)},[o,k,f,g,x]),E=p.useCallback(N=>{if(!f.current||e.length===0||r>=e.length)return;let I=0,A=0,H=0,M=N;if(N==="left")I="-150%",H=-25;else if(N==="right")I="150%",H=25;else if(N==="superlike")A="-150%",H=0;else if(N==="info"){d(`/profile/${e[r].id}`);return}m(!0),N==="superlike"?o.start({y:A,opacity:0,scale:1.1,transition:{duration:.4,ease:"circOut"}}).then(()=>{f.current&&(k(M),m(!1))}):o.start({x:I,opacity:0,rotate:H,transition:{duration:.4,ease:"easeOut"}}).then(()=>{f.current&&(k(M),m(!1))})},[o,r,e,k,d,f]),_=()=>{if(!a||!a.premiumStatus.canRewind||s.length===0){u({title:"Fonction Premium",description:"Passez à Premium pour utiliser Retour.",variant:"destructive"});return}const N=s[s.length-1];n(I=>I-1),i(I=>I.slice(0,-1)),f.current&&(o.set({x:0,y:0,opacity:1,rotate:0,scale:1}),g.set(0),x.set(0),u({title:"Retour",description:`Le profil de ${N.profile.name} a été restauré.`}))},R=()=>{if(a&&!a.premiumStatus.subscriptionType&&!a.premiumStatus.incognitoMode){d("/premium");return}if(a){const N=!a.premiumStatus.incognitoMode;c("incognitoMode",N),u({title:`Mode Incognito ${N?"Activé":"Désactivé"}`,description:"Votre visibilité a été mise à jour."})}},T=()=>{},O=e[r];return a?!O&&!w?l.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4 bg-gradient-to-br from-slate-800 to-slate-900 text-white overflow-hidden",children:[l.jsx(Es,{size:64,className:"text-primary mb-4"}),l.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Plus de profils pour le moment !"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Revenez plus tard ou ajustez vos filtres."}),l.jsx(D,{onClick:()=>{t([...Dd]),n(0),i([])},className:"bg-primary hover:bg-primary-hover",children:"Recharger les profils"})]}):l.jsxs("div",{className:"relative w-full h-full overflow-hidden bg-gradient-to-br from-slate-900 to-slate-950 flex flex-col items-center",children:[l.jsx(JA,{isIncognito:a.premiumStatus.incognitoMode,onToggleIncognito:R,onOpenFilters:()=>d("/settings")}),l.jsx("div",{className:"w-full flex-grow max-w-md relative flex-shrink-0 mt-[50px] mb-[90px] px-2.5",children:l.jsx(Ms,{children:O&&l.jsx(Tw,{controls:o,onDragStart:P,onDragEnd:C,onDrag:(N,I)=>{g.set(I.offset.x),x.set(I.offset.y)},isTopCard:!0,style:{zIndex:10,x:g,y:x,rotate:S,scale:j},className:"w-full h-full rounded-xl",children:l.jsx(qA,{profile:O,isTopCard:!0,onSwipe:E,isSwiping:h})},O.id)})}),O&&l.jsx(YA,{onRewind:_,onSwipe:E,onBoost:T,canRewind:a.premiumStatus.canRewind,canBoost:a.premiumStatus.canBoost,isSwiping:h,historyLength:s.length,motionX:g}),l.jsx(Ms,{children:w&&b&&a&&l.jsx(KA,{currentUserData:a,matchedUserData:b,onClose:()=>y(!1),onSendMessage:()=>{y(!1),d(`/chat/${b.id}`)}})})]}):null};var Iw={exports:{}},Dw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=p;function ZA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e4=typeof Object.is=="function"?Object.is:ZA,t4=Ds.useState,r4=Ds.useEffect,n4=Ds.useLayoutEffect,s4=Ds.useDebugValue;function i4(e,t){var r=t(),n=t4({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return n4(function(){s.value=r,s.getSnapshot=t,tu(s)&&i({inst:s})},[e,r,t]),r4(function(){return tu(s)&&i({inst:s}),e(function(){tu(s)&&i({inst:s})})},[e]),s4(r),r}function tu(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!e4(e,r)}catch{return!0}}function o4(e,t){return t()}var a4=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?o4:i4;Dw.useSyncExternalStore=Ds.useSyncExternalStore!==void 0?Ds.useSyncExternalStore:a4;Iw.exports=Dw;var l4=Iw.exports;function c4(){return l4.useSyncExternalStore(u4,()=>!0,()=>!1)}function u4(){return()=>{}}var Eh="Avatar",[d4,rI]=On(Eh),[f4,Lw]=d4(Eh),Ow=p.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=p.useState("idle");return l.jsx(f4,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:l.jsx(ie.span,{...n,ref:t})})});Ow.displayName=Eh;var zw="AvatarImage",$w=p.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=Lw(zw,r),a=h4(n,i),c=tr(u=>{s(u),o.onImageLoadingStatusChange(u)});return rr(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(ie.img,{...i,ref:t,src:n}):null});$w.displayName=zw;var Vw="AvatarFallback",Fw=p.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=Lw(Vw,r),[o,a]=p.useState(n===void 0);return p.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?l.jsx(ie.span,{...s,ref:t}):null});Fw.displayName=Vw;function Lg(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function h4(e,{referrerPolicy:t,crossOrigin:r}){const n=c4(),s=p.useRef(null),i=(()=>n?(s.current||(s.current=new window.Image),s.current):null)(),[o,a]=p.useState(()=>Lg(i,e));return rr(()=>{a(Lg(i,e))},[i,e]),rr(()=>{const c=f=>()=>{a(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var Bw=Ow,Uw=$w,Gw=Fw;const on=Y.forwardRef(({className:e,...t},r)=>l.jsx(Bw,{ref:r,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));on.displayName=Bw.displayName;const an=Y.forwardRef(({className:e,...t},r)=>l.jsx(Uw,{ref:r,className:W("aspect-square h-full w-full",e),...t}));an.displayName=Uw.displayName;const ln=Y.forwardRef(({className:e,...t},r)=>l.jsx(Gw,{ref:r,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));ln.displayName=Gw.displayName;const p4=({currentChat:e,onBack:t,onStartLiveCall:r})=>e?l.jsxs("header",{className:"p-3 flex items-center space-x-3 bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:[l.jsx(D,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-300 hover:text-white",children:l.jsx(Zt,{size:28})}),l.jsxs(ft,{to:`/profile/${e.id}`,className:"flex items-center space-x-2",children:[l.jsxs(on,{className:"h-10 w-10 border-2 border-primary",children:[l.jsx(an,{src:e.avatarImage,alt:e.name}),l.jsx(ln,{className:"bg-primary text-white",children:e.name.substring(0,1)})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg text-white",children:e.name}),l.jsx("p",{className:`text-xs ${e.online?"text-green-400":"text-gray-400"}`,children:e.online?"En ligne":"Hors ligne"})]})]}),l.jsx("div",{className:"flex-grow"}),l.jsx(D,{variant:"ghost",size:"icon",onClick:r,className:"text-primary hover:text-primary-hover",children:l.jsx(Yf,{size:22})})]}):null;var m4=Gd[" useId ".trim().toString()]||(()=>{}),g4=0;function ru(e){const[t,r]=p.useState(m4());return rr(()=>{e||r(n=>n??String(g4++))},[e]),e||(t?`radix-${t}`:"")}var nu="focusScope.autoFocusOnMount",su="focusScope.autoFocusOnUnmount",Og={bubbles:!1,cancelable:!0},v4="FocusScope",Hw=p.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,c]=p.useState(null),u=tr(s),d=tr(i),f=p.useRef(null),h=Ce(t,y=>c(y)),m=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(n){let y=function(x){if(m.paused||!a)return;const S=x.target;a.contains(S)?f.current=S:_r(f.current,{select:!0})},b=function(x){if(m.paused||!a)return;const S=x.relatedTarget;S!==null&&(a.contains(S)||_r(f.current,{select:!0}))},v=function(x){if(document.activeElement===document.body)for(const j of x)j.removedNodes.length>0&&_r(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const g=new MutationObserver(v);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),g.disconnect()}}},[n,a,m.paused]),p.useEffect(()=>{if(a){$g.add(m);const y=document.activeElement;if(!a.contains(y)){const v=new CustomEvent(nu,Og);a.addEventListener(nu,u),a.dispatchEvent(v),v.defaultPrevented||(y4(j4(Ww(a)),{select:!0}),document.activeElement===y&&_r(a))}return()=>{a.removeEventListener(nu,u),setTimeout(()=>{const v=new CustomEvent(su,Og);a.addEventListener(su,d),a.dispatchEvent(v),v.defaultPrevented||_r(y??document.body,{select:!0}),a.removeEventListener(su,d),$g.remove(m)},0)}}},[a,u,d,m]);const w=p.useCallback(y=>{if(!r&&!n||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,v=document.activeElement;if(b&&v){const g=y.currentTarget,[x,S]=x4(g);x&&S?!y.shiftKey&&v===S?(y.preventDefault(),r&&_r(x,{select:!0})):y.shiftKey&&v===x&&(y.preventDefault(),r&&_r(S,{select:!0})):v===g&&y.preventDefault()}},[r,n,m.paused]);return l.jsx(ie.div,{tabIndex:-1,...o,ref:h,onKeyDown:w})});Hw.displayName=v4;function y4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(_r(n,{select:t}),document.activeElement!==r)return}function x4(e){const t=Ww(e),r=zg(t,e),n=zg(t.reverse(),e);return[r,n]}function Ww(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function zg(e,t){for(const r of e)if(!w4(r,{upTo:t}))return r}function w4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function b4(e){return e instanceof HTMLInputElement&&"select"in e}function _r(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&b4(e)&&t&&e.select()}}var $g=S4();function S4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=Vg(e,t),e.unshift(t)},remove(t){var r;e=Vg(e,t),(r=e[0])==null||r.resume()}}}function Vg(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function j4(e){return e.filter(t=>t.tagName!=="A")}var iu=0;function k4(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Fg()),document.body.insertAdjacentElement("beforeend",e[1]??Fg()),iu++,()=>{iu===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),iu--}},[])}function Fg(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Jt=function(){return Jt=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Jt.apply(this,arguments)};function qw(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function C4(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var xa="right-scroll-bar-position",wa="width-before-scroll-bar",_4="with-scroll-bars-hidden",P4="--removed-body-scroll-bar-size";function ou(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function N4(e,t){var r=p.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var E4=typeof window<"u"?p.useLayoutEffect:p.useEffect,Bg=new WeakMap;function T4(e,t){var r=N4(t||null,function(n){return e.forEach(function(s){return ou(s,n)})});return E4(function(){var n=Bg.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(a){i.has(a)||ou(a,null)}),i.forEach(function(a){s.has(a)||ou(a,o)})}Bg.set(r,e)},[e]),r}function R4(e){return e}function M4(e,t){t===void 0&&(t=R4);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(a){return i(a)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var a=r;r=[],a.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function A4(e){e===void 0&&(e={});var t=M4(null);return t.options=Jt({async:!0,ssr:!1},e),t}var Kw=function(e){var t=e.sideCar,r=qw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return p.createElement(n,Jt({},r))};Kw.isSideCarExport=!0;function I4(e,t){return e.useMedium(t),Kw}var Yw=A4(),au=function(){},Yl=p.forwardRef(function(e,t){var r=p.useRef(null),n=p.useState({onScrollCapture:au,onWheelCapture:au,onTouchMoveCapture:au}),s=n[0],i=n[1],o=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noIsolation,w=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,g=e.gapMode,x=qw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=h,j=T4([r,t]),P=Jt(Jt({},x),s);return p.createElement(p.Fragment,null,d&&p.createElement(S,{sideCar:Yw,removeScrollBar:u,shards:f,noIsolation:m,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:g}),o?p.cloneElement(p.Children.only(a),Jt(Jt({},P),{ref:j})):p.createElement(v,Jt({},P,{className:c,ref:j}),a))});Yl.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yl.classNames={fullWidth:wa,zeroRight:xa};var Ug,D4=function(){if(Ug)return Ug;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function L4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=D4();return t&&e.setAttribute("nonce",t),e}function O4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function z4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var $4=function(){var e=0,t=null;return{add:function(r){e==0&&(t=L4())&&(O4(t,r),z4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},V4=function(){var e=$4();return function(t,r){p.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Jw=function(){var e=V4(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},F4={left:0,top:0,right:0,gap:0},lu=function(e){return parseInt(e||"",10)||0},B4=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[lu(r),lu(n),lu(s)]},U4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return F4;var t=B4(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},G4=Jw(),ws="data-scroll-locked",H4=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(_4,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ws,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xa,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(wa,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(xa," .").concat(xa,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(wa," .").concat(wa,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ws,`] {
    `).concat(P4,": ").concat(a,`px;
  }
`)},Gg=function(){var e=parseInt(document.body.getAttribute(ws)||"0",10);return isFinite(e)?e:0},W4=function(){p.useEffect(function(){return document.body.setAttribute(ws,(Gg()+1).toString()),function(){var e=Gg()-1;e<=0?document.body.removeAttribute(ws):document.body.setAttribute(ws,e.toString())}},[])},q4=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;W4();var i=p.useMemo(function(){return U4(s)},[s]);return p.createElement(G4,{styles:H4(i,!t,s,r?"":"!important")})},Ld=!1;if(typeof window<"u")try{var ea=Object.defineProperty({},"passive",{get:function(){return Ld=!0,!0}});window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{Ld=!1}var Hn=Ld?{passive:!1}:!1,K4=function(e){return e.tagName==="TEXTAREA"},Xw=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!K4(e)&&r[t]==="visible")},Y4=function(e){return Xw(e,"overflowY")},J4=function(e){return Xw(e,"overflowX")},Hg=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Qw(e,n);if(s){var i=Zw(e,n),o=i[1],a=i[2];if(o>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},X4=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Q4=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Qw=function(e,t){return e==="v"?Y4(t):J4(t)},Zw=function(e,t){return e==="v"?X4(t):Q4(t)},Z4=function(e,t){return e==="h"&&t==="rtl"?-1:1},e5=function(e,t,r,n,s){var i=Z4(e,window.getComputedStyle(t).direction),o=i*n,a=r.target,c=t.contains(a),u=!1,d=o>0,f=0,h=0;do{var m=Zw(e,a),w=m[0],y=m[1],b=m[2],v=y-b-i*w;(w||v)&&Qw(e,a)&&(f+=v,h+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(h)<1||!s&&-o>h))&&(u=!0),u},ta=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wg=function(e){return[e.deltaX,e.deltaY]},qg=function(e){return e&&"current"in e?e.current:e},t5=function(e,t){return e[0]===t[0]&&e[1]===t[1]},r5=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},n5=0,Wn=[];function s5(e){var t=p.useRef([]),r=p.useRef([0,0]),n=p.useRef(),s=p.useState(n5++)[0],i=p.useState(Jw)[0],o=p.useRef(e);p.useEffect(function(){o.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=C4([e.lockRef.current],(e.shards||[]).map(qg),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=p.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var v=ta(y),g=r.current,x="deltaX"in y?y.deltaX:g[0]-v[0],S="deltaY"in y?y.deltaY:g[1]-v[1],j,P=y.target,k=Math.abs(x)>Math.abs(S)?"h":"v";if("touches"in y&&k==="h"&&P.type==="range")return!1;var C=Hg(k,P);if(!C)return!0;if(C?j=k:(j=k==="v"?"h":"v",C=Hg(k,P)),!C)return!1;if(!n.current&&"changedTouches"in y&&(x||S)&&(n.current=j),!j)return!0;var E=n.current||j;return e5(E,b,y,E==="h"?x:S,!0)},[]),c=p.useCallback(function(y){var b=y;if(!(!Wn.length||Wn[Wn.length-1]!==i)){var v="deltaY"in b?Wg(b):ta(b),g=t.current.filter(function(j){return j.name===b.type&&(j.target===b.target||b.target===j.shadowParent)&&t5(j.delta,v)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var x=(o.current.shards||[]).map(qg).filter(Boolean).filter(function(j){return j.contains(b.target)}),S=x.length>0?a(b,x[0]):!o.current.noIsolation;S&&b.cancelable&&b.preventDefault()}}},[]),u=p.useCallback(function(y,b,v,g){var x={name:y,delta:b,target:v,should:g,shadowParent:i5(v)};t.current.push(x),setTimeout(function(){t.current=t.current.filter(function(S){return S!==x})},1)},[]),d=p.useCallback(function(y){r.current=ta(y),n.current=void 0},[]),f=p.useCallback(function(y){u(y.type,Wg(y),y.target,a(y,e.lockRef.current))},[]),h=p.useCallback(function(y){u(y.type,ta(y),y.target,a(y,e.lockRef.current))},[]);p.useEffect(function(){return Wn.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Hn),document.addEventListener("touchmove",c,Hn),document.addEventListener("touchstart",d,Hn),function(){Wn=Wn.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,Hn),document.removeEventListener("touchmove",c,Hn),document.removeEventListener("touchstart",d,Hn)}},[]);var m=e.removeScrollBar,w=e.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:r5(s)}):null,m?p.createElement(q4,{gapMode:e.gapMode}):null)}function i5(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const o5=I4(Yw,s5);var eb=p.forwardRef(function(e,t){return p.createElement(Yl,Jt({},e,{ref:t,sideCar:o5}))});eb.classNames=Yl.classNames;const a5=eb;var l5=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qn=new WeakMap,ra=new WeakMap,na={},cu=0,tb=function(e){return e&&(e.host||tb(e.parentNode))},c5=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=tb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},u5=function(e,t,r,n){var s=c5(t,Array.isArray(e)?e:[e]);na[r]||(na[r]=new WeakMap);var i=na[r],o=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(n),w=m!==null&&m!=="false",y=(qn.get(h)||0)+1,b=(i.get(h)||0)+1;qn.set(h,y),i.set(h,b),o.push(h),y===1&&w&&ra.set(h,!0),b===1&&h.setAttribute(r,"true"),w||h.setAttribute(n,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return d(t),a.clear(),cu++,function(){o.forEach(function(f){var h=qn.get(f)-1,m=i.get(f)-1;qn.set(f,h),i.set(f,m),h||(ra.has(f)||f.removeAttribute(n),ra.delete(f)),m||f.removeAttribute(r)}),cu--,cu||(qn=new WeakMap,qn=new WeakMap,ra=new WeakMap,na={})}},d5=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||l5(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),u5(n,s,r,"aria-hidden")):function(){return null}},Jl="Dialog",[rb,nb]=On(Jl),[f5,Ht]=rb(Jl),sb=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,a=p.useRef(null),c=p.useRef(null),[u,d]=Cl({prop:n,defaultProp:s??!1,onChange:i,caller:Jl});return l.jsx(f5,{scope:t,triggerRef:a,contentRef:c,contentId:ru(),titleId:ru(),descriptionId:ru(),open:u,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};sb.displayName=Jl;var ib="DialogTrigger",ob=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ht(ib,r),i=Ce(t,s.triggerRef);return l.jsx(ie.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Mh(s.open),...n,ref:i,onClick:oe(e.onClick,s.onOpenToggle)})});ob.displayName=ib;var Th="DialogPortal",[h5,ab]=rb(Th,{forceMount:void 0}),lb=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Ht(Th,t);return l.jsx(h5,{scope:t,forceMount:r,children:p.Children.map(n,o=>l.jsx(Fs,{present:r||i.open,children:l.jsx(Bf,{asChild:!0,container:s,children:o})}))})};lb.displayName=Th;var il="DialogOverlay",cb=p.forwardRef((e,t)=>{const r=ab(il,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ht(il,e.__scopeDialog);return i.modal?l.jsx(Fs,{present:n||i.open,children:l.jsx(m5,{...s,ref:t})}):null});cb.displayName=il;var p5=Xi("DialogOverlay.RemoveScroll"),m5=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ht(il,r);return l.jsx(a5,{as:p5,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ie.div,{"data-state":Mh(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Mn="DialogContent",ub=p.forwardRef((e,t)=>{const r=ab(Mn,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Ht(Mn,e.__scopeDialog);return l.jsx(Fs,{present:n||i.open,children:i.modal?l.jsx(g5,{...s,ref:t}):l.jsx(v5,{...s,ref:t})})});ub.displayName=Mn;var g5=p.forwardRef((e,t)=>{const r=Ht(Mn,e.__scopeDialog),n=p.useRef(null),s=Ce(t,r.contentRef,n);return p.useEffect(()=>{const i=n.current;if(i)return d5(i)},[]),l.jsx(db,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:oe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:oe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:oe(e.onFocusOutside,i=>i.preventDefault())})}),v5=p.forwardRef((e,t)=>{const r=Ht(Mn,e.__scopeDialog),n=p.useRef(!1),s=p.useRef(!1);return l.jsx(db,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),db=p.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,a=Ht(Mn,r),c=p.useRef(null),u=Ce(t,c);return k4(),l.jsxs(l.Fragment,{children:[l.jsx(Hw,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(Ff,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Mh(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(x5,{titleId:a.titleId}),l.jsx(b5,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Rh="DialogTitle",fb=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ht(Rh,r);return l.jsx(ie.h2,{id:s.titleId,...n,ref:t})});fb.displayName=Rh;var hb="DialogDescription",pb=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ht(hb,r);return l.jsx(ie.p,{id:s.descriptionId,...n,ref:t})});pb.displayName=hb;var mb="DialogClose",gb=p.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Ht(mb,r);return l.jsx(ie.button,{type:"button",...n,ref:t,onClick:oe(e.onClick,()=>s.onOpenChange(!1))})});gb.displayName=mb;function Mh(e){return e?"open":"closed"}var vb="DialogTitleWarning",[y5,yb]=fC(vb,{contentName:Mn,titleName:Rh,docsSlug:"dialog"}),x5=({titleId:e})=>{const t=yb(vb),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},w5="DialogDescriptionWarning",b5=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${yb(w5).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},xb=sb,wb=ob,bb=lb,Ah=cb,Ih=ub,Dh=fb,Lh=pb,Oh=gb;const bo=xb,S5=wb,j5=bb,Sb=Y.forwardRef(({className:e,...t},r)=>l.jsx(Ah,{ref:r,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Sb.displayName=Ah.displayName;const Hs=Y.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(j5,{children:[l.jsx(Sb,{}),l.jsxs(Ih,{ref:n,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,l.jsxs(Oh,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ho,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hs.displayName=Ih.displayName;const So=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});So.displayName="DialogHeader";const jb=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});jb.displayName="DialogFooter";const jo=Y.forwardRef(({className:e,...t},r)=>l.jsx(Dh,{ref:r,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));jo.displayName=Dh.displayName;const zh=Y.forwardRef(({className:e,...t},r)=>l.jsx(Lh,{ref:r,className:W("text-sm text-muted-foreground",e),...t}));zh.displayName=Lh.displayName;const k5=({newMessage:e,setNewMessage:t,onSendMessage:r,onInitiateSendMedia:n,onRequestMedia:s})=>{const[i,o]=p.useState(!1),a=c=>{c.preventDefault(),r(e),t("")};return l.jsxs("div",{className:"p-3 bg-background/80 backdrop-blur-sm border-t border-border flex items-center space-x-1 sticky bottom-0",children:[l.jsxs(bo,{open:i,onOpenChange:o,children:[l.jsx(S5,{asChild:!0,children:l.jsx(D,{variant:"ghost",size:"icon",className:"text-primary hover:text-primary-hover",children:l.jsx(ox,{size:22})})}),l.jsxs(Hs,{className:"bg-slate-800 border-slate-700 text-white sm:max-w-[425px]",children:[l.jsxs(So,{children:[l.jsx(jo,{className:"text-gradient-heresse",children:"Options de Média"}),l.jsx(zh,{children:"Que souhaitez-vous faire ?"})]}),l.jsxs("div",{className:"grid gap-3 py-4",children:[l.jsxs(D,{onClick:()=>{n(),o(!1)},className:"w-full justify-start bg-slate-700 hover:bg-slate-600",children:[l.jsx(Nl,{size:18,className:"mr-2 text-primary"}),"Envoyer un média"]}),l.jsxs(D,{onClick:()=>{s(),o(!1)},className:"w-full justify-start bg-slate-700 hover:bg-slate-600",children:[l.jsx(tx,{size:18,className:"mr-2 text-primary"}),"Demander un média"]})]})]})]}),l.jsxs("form",{onSubmit:a,className:"flex-grow flex items-center space-x-1",children:[l.jsx(me,{type:"text",placeholder:"Votre message...",value:e,onChange:c=>t(c.target.value),className:"flex-grow bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:ring-primary focus:border-primary rounded-full px-4 py-2.5"}),l.jsx(D,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary-hover rounded-full w-11 h-11",children:l.jsx(Ml,{size:20})})]})]})},C5=({msg:e,onPhotoClick:t,onInitiateSendMedia:r})=>{const n="w-48 p-2 rounded-xl group flex flex-col items-center justify-center text-center";return l.jsxs(q.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:W("flex flex-col max-w-[75%] p-1 rounded-2xl shadow",e.sender==="user"?"ml-auto items-end":"mr-auto items-start"),children:[e.type==="text"&&l.jsx("div",{className:W("p-3 rounded-2xl",e.sender==="user"?"bg-gradient-to-r from-primary to-secondary text-white rounded-br-lg":"bg-slate-700 text-gray-200 rounded-bl-lg"),children:l.jsx("p",{className:"text-sm",children:e.text})}),e.type==="photo"&&e.sender!=="user"&&l.jsxs(l.Fragment,{children:[e.status==="received_unopened"&&l.jsxs("div",{onClick:()=>t(e),className:W("relative w-40 h-52 rounded-xl overflow-hidden cursor-pointer group bg-slate-700"),children:[l.jsx("img",{className:W("w-full h-full object-cover transition-all duration-300 blur-md scale-110"),alt:"Média flouté",src:e.photoUrl}),l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/60",children:[l.jsx(d_,{size:32,className:"text-white/70 mb-2"}),l.jsx("p",{className:"text-white text-xs font-semibold",children:"Photo privée"}),l.jsxs("p",{className:"text-white text-[10px]",children:["Appuyez pour voir (",e.price.toFixed(2),"€)"]})]})]}),e.status==="received_opened"&&!e.replayed&&l.jsxs("div",{className:W(n,"bg-slate-600"),children:[l.jsx("p",{className:"text-sm text-white mb-2",children:"Média ouvert"}),l.jsxs(D,{onClick:()=>t({...e,isReplayAction:!0}),size:"sm",className:"bg-primary/80 hover:bg-primary text-white text-xs w-full",children:[l.jsx(w_,{size:14,className:"mr-1.5"})," Replay (",(e.originalPrice/2).toFixed(2),"€)"]}),!e.rated&&l.jsxs(D,{onClick:()=>t({...e,isRateAction:!0}),size:"sm",variant:"outline",className:"mt-1.5 border-amber-500/50 text-amber-500 hover:bg-amber-500/10 text-xs w-full",children:[l.jsx(Ts,{size:14,className:"mr-1.5"})," Noter"]})]}),e.status==="received_opened"&&e.replayed&&l.jsxs("div",{className:W(n,"bg-slate-600"),children:[l.jsx("p",{className:"text-sm text-white",children:"Photo rejouée"}),!e.rated&&l.jsxs(D,{onClick:()=>t({...e,isRateAction:!0}),size:"sm",variant:"outline",className:"mt-1.5 border-amber-500/50 text-amber-500 hover:bg-amber-500/10 text-xs w-full",children:[l.jsx(Ts,{size:14,className:"mr-1.5"})," Noter"]})]})]}),e.type==="photo"&&e.sender==="user"&&l.jsxs("div",{onClick:()=>t(e),className:W("relative w-40 h-52 rounded-xl overflow-hidden cursor-pointer group",e.status==="sent_opened"?"border-2 border-green-500":"bg-gradient-to-br from-primary to-secondary"),children:[l.jsx("img",{className:W("w-full h-full object-cover transition-all duration-300"),alt:"Média envoyé",src:e.photoUrl}),e.status==="sent_opened"&&l.jsxs("div",{className:"absolute bottom-1 right-1 bg-green-500/80 text-white text-[9px] px-1.5 py-0.5 rounded-full flex items-center",children:[l.jsx(Zi,{size:10,className:"mr-0.5"}),"Vu"]}),e.status!=="sent_opened"&&l.jsx("div",{className:"absolute bottom-1 right-1 bg-slate-500/80 text-white text-[9px] px-1.5 py-0.5 rounded-full",children:"Envoyé"})]}),e.type==="media_request"&&l.jsxs("div",{className:W("p-3 rounded-2xl text-sm",e.sender==="user"?"bg-blue-600 text-white rounded-br-lg":"bg-slate-700 text-gray-200 rounded-bl-lg flex items-center"),children:[l.jsx(tx,{size:18,className:"mr-2 shrink-0"}),e.sender==="user"?e.text:l.jsxs(l.Fragment,{children:[l.jsxs("span",{children:[e.senderName||e.sender," vous demande un média."]}),l.jsx(D,{size:"xs",className:"ml-2 bg-primary/80 text-xs",onClick:r,children:"Répondre"})]})]}),l.jsx("span",{className:"text-xs opacity-70 mt-1 px-2",children:e.timestamp})]},e.id)},_5=({messages:e,onPhotoClick:t,onInitiateSendMedia:r})=>{const n=p.useRef(null);return p.useEffect(()=>{var s;(s=n.current)==null||s.scrollIntoView({behavior:"smooth"})},[e]),l.jsxs("div",{className:"flex-grow p-4 space-y-4 overflow-y-auto",children:[e.map((s,i)=>l.jsx(C5,{msg:s,onPhotoClick:t,onInitiateSendMedia:r},s.id||i)),l.jsx("div",{ref:n})]})};var kb="AlertDialog",[P5,nI]=On(kb,[nb]),wr=nb(),Cb=e=>{const{__scopeAlertDialog:t,...r}=e,n=wr(t);return l.jsx(xb,{...n,...r,modal:!0})};Cb.displayName=kb;var N5="AlertDialogTrigger",E5=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wr(r);return l.jsx(wb,{...s,...n,ref:t})});E5.displayName=N5;var T5="AlertDialogPortal",_b=e=>{const{__scopeAlertDialog:t,...r}=e,n=wr(t);return l.jsx(bb,{...n,...r})};_b.displayName=T5;var R5="AlertDialogOverlay",Pb=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wr(r);return l.jsx(Ah,{...s,...n,ref:t})});Pb.displayName=R5;var bs="AlertDialogContent",[M5,A5]=P5(bs),I5=gC("AlertDialogContent"),Nb=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,i=wr(r),o=p.useRef(null),a=Ce(t,o),c=p.useRef(null);return l.jsx(y5,{contentName:bs,titleName:Eb,docsSlug:"alert-dialog",children:l.jsx(M5,{scope:r,cancelRef:c,children:l.jsxs(Ih,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:oe(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(I5,{children:n}),l.jsx(L5,{contentRef:o})]})})})});Nb.displayName=bs;var Eb="AlertDialogTitle",Tb=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wr(r);return l.jsx(Dh,{...s,...n,ref:t})});Tb.displayName=Eb;var Rb="AlertDialogDescription",Mb=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wr(r);return l.jsx(Lh,{...s,...n,ref:t})});Mb.displayName=Rb;var D5="AlertDialogAction",Ab=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=wr(r);return l.jsx(Oh,{...s,...n,ref:t})});Ab.displayName=D5;var Ib="AlertDialogCancel",Db=p.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=A5(Ib,r),i=wr(r),o=Ce(t,s);return l.jsx(Oh,{...i,...n,ref:o})});Db.displayName=Ib;var L5=({contentRef:e})=>{const t=`\`${bs}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bs}\` by passing a \`${Rb}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bs}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},O5=Cb,z5=_b,Lb=Pb,Ob=Nb,zb=Ab,$b=Db,Vb=Tb,Fb=Mb;const $h=O5,$5=z5,Bb=Y.forwardRef(({className:e,...t},r)=>l.jsx(Lb,{className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Bb.displayName=Lb.displayName;const Xl=Y.forwardRef(({className:e,...t},r)=>l.jsxs($5,{children:[l.jsx(Bb,{}),l.jsx(Ob,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-700 bg-slate-800 p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Xl.displayName=Ob.displayName;const Ql=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ql.displayName="AlertDialogHeader";const Zl=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Zl.displayName="AlertDialogFooter";const ec=Y.forwardRef(({className:e,...t},r)=>l.jsx(Vb,{ref:r,className:W("text-lg font-semibold text-white",e),...t}));ec.displayName=Vb.displayName;const tc=Y.forwardRef(({className:e,...t},r)=>l.jsx(Fb,{ref:r,className:W("text-sm text-slate-400",e),...t}));tc.displayName=Fb.displayName;const rc=Y.forwardRef(({className:e,...t},r)=>l.jsx(zb,{ref:r,className:W(Xf(),e),...t}));rc.displayName=zb.displayName;const nc=Y.forwardRef(({className:e,...t},r)=>l.jsx($b,{ref:r,className:W(Xf({variant:"outline"}),"mt-2 sm:mt-0 bg-slate-600 hover:bg-slate-500 border-slate-500 text-white",e),...t}));nc.displayName=$b.displayName;const V5=({isOpen:e,onOpenChange:t,mediaToUnlock:r,currentUserWalletBalance:n,onConfirm:s})=>{if(!r)return null;const i=r.isReplay?r.originalPrice/2:r.price,o=n>=i;return l.jsx($h,{open:e,onOpenChange:t,children:l.jsxs(Xl,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsxs(Ql,{children:[l.jsxs(ec,{className:"flex items-center text-xl",children:[l.jsx(eo,{size:24,className:"mr-2 text-primary"}),r.isReplay?"Revoir ce Média":"Débloquer ce Média"]}),l.jsxs(tc,{className:"text-slate-400 pt-2",children:["Pour ",r.isReplay?"revoir":"voir"," ce média envoyé par ",r.senderName||r.sender,", vous devez payer ",i.toFixed(2),"€."]})]}),l.jsxs("div",{className:"my-4 p-4 bg-slate-700/50 rounded-lg",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-slate-300",children:"Prix du média :"}),l.jsxs("span",{className:"font-semibold text-primary",children:[i.toFixed(2),"€"]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-slate-300",children:"Votre solde actuel :"}),l.jsxs("span",{className:`font-semibold ${o?"text-green-400":"text-red-400"}`,children:[n.toFixed(2),"€"]})]}),!o&&l.jsx("p",{className:"text-xs text-red-400 mt-2 text-center",children:"Solde insuffisant. Veuillez recharger votre portefeuille."})]}),l.jsxs(Zl,{className:"mt-2",children:[l.jsx(nc,{asChild:!0,children:l.jsxs(D,{variant:"outline",className:"bg-slate-600 hover:bg-slate-500 border-slate-500 text-white",children:[l.jsx(Jf,{size:18,className:"mr-2"})," Annuler"]})}),l.jsx(rc,{asChild:!0,children:l.jsxs(D,{onClick:s,disabled:!o,className:"bg-primary hover:bg-primary/90 text-white",children:[l.jsx(ex,{size:18,className:"mr-2"}),"Payer ",i.toFixed(2),"€"]})})]})]})})},F5=({isOpen:e,onOpenChange:t,currentRating:r,onRatingChange:n,onSubmit:s})=>l.jsx($h,{open:e,onOpenChange:t,children:l.jsxs(Xl,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsxs(Ql,{children:[l.jsxs(ec,{className:"flex items-center text-xl",children:[l.jsx(Ts,{size:24,className:"mr-2 text-yellow-400"}),"Noter ce Média"]}),l.jsx(tc,{className:"text-slate-400 pt-2",children:"Votre avis est important ! Veuillez attribuer une note à ce média."})]}),l.jsx("div",{className:"my-6 flex justify-center space-x-2",children:[1,2,3,4,5].map(i=>l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>n(i),className:`h-12 w-12 transition-all duration-150 ease-in-out transform hover:scale-110 ${r>=i?"text-yellow-400":"text-slate-500 hover:text-yellow-300"}`,children:l.jsx(Ts,{fill:r>=i?"currentColor":"none",size:36})},i))}),l.jsxs(Zl,{className:"mt-2",children:[l.jsx(nc,{asChild:!0,children:l.jsxs(D,{variant:"outline",className:"bg-slate-600 hover:bg-slate-500 border-slate-500 text-white",children:[l.jsx(Jf,{size:18,className:"mr-2"})," Plus tard"]})}),l.jsx(rc,{asChild:!0,children:l.jsxs(D,{onClick:()=>s(r),disabled:r===0,className:"bg-green-500 hover:bg-green-600 text-white",children:[l.jsx(El,{size:18,className:"mr-2"}),"Valider la Note"]})})]})]})}),B5=({isOpen:e,onOpenChange:t,onConfirmSendMedia:r})=>{const[n,s]=p.useState(1),[i,o]=p.useState(null),[a,c]=p.useState(null),{toast:u}=Ee(),d=m=>{const w=m.target.files[0];if(w){if(w.size>5*1024*1024){u({title:"Fichier trop volumineux",description:"La taille de l'image ne doit pas dépasser 5MB.",variant:"destructive"});return}c(w);const y=new FileReader;y.onloadend=()=>{o(y.result)},y.readAsDataURL(w)}},f=()=>{if(!a){u({title:"Aucune photo sélectionnée",description:"Veuillez choisir une photo à envoyer.",variant:"destructive"});return}if(n<1||n>3){u({title:"Prix invalide",description:"Le prix doit être entre 1€ et 3€.",variant:"destructive"});return}r(n,i),h()},h=()=>{o(null),c(null),s(1),t(!1)};return l.jsx($h,{open:e,onOpenChange:t,children:l.jsxs(Xl,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsxs(Ql,{children:[l.jsxs(ec,{className:"flex items-center text-xl",children:[l.jsx(m_,{size:24,className:"mr-2 text-primary"}),"Envoyer un Média Privé"]}),l.jsx(tc,{className:"text-slate-400 pt-2",children:"Choisissez une photo, fixez un prix (entre 1€ et 3€), et envoyez-la."})]}),l.jsxs("div",{className:"space-y-6 my-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"photo-upload",className:"text-slate-300",children:"Choisir une photo :"}),l.jsx(me,{id:"photo-upload",type:"file",accept:"image/*",onChange:d,className:"bg-slate-700 border-slate-600 text-white file:text-primary file:font-semibold hover:file:bg-primary/10"})]}),i&&l.jsx("div",{className:"mt-4 border-2 border-dashed border-primary/50 p-2 rounded-lg bg-slate-700/30",children:l.jsx("img-replace",{src:i,alt:"Aperçu du média",className:"rounded-md max-h-48 w-auto mx-auto"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(se,{htmlFor:"price",className:"text-slate-300",children:"Prix du média (entre 1€ et 3€) :"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(D,{variant:"outline",size:"icon",onClick:()=>s(m=>Math.max(1,m-1)),className:"text-primary border-primary hover:bg-primary/10 h-10 w-10",children:"-"}),l.jsx(me,{id:"price",type:"number",value:n,onChange:m=>s(Math.max(1,Math.min(3,parseInt(m.target.value)||1))),min:"1",max:"3",step:"1",className:"bg-slate-700 border-slate-600 text-white text-center h-10 w-20 text-lg font-bold"}),l.jsx(D,{variant:"outline",size:"icon",onClick:()=>s(m=>Math.min(3,m+1)),className:"text-primary border-primary hover:bg-primary/10 h-10 w-10",children:"+"}),l.jsx("span",{className:"text-2xl font-bold text-primary",children:"€"})]}),(n<1||n>3)&&l.jsxs("p",{className:"text-xs text-red-400 flex items-center mt-1",children:[l.jsx(Zy,{size:14,className:"mr-1"})," Le prix doit être entre 1€ et 3€."]})]})]}),l.jsxs(Zl,{className:"mt-2",children:[l.jsx(nc,{asChild:!0,children:l.jsxs(D,{variant:"outline",onClick:h,className:"bg-slate-600 hover:bg-slate-500 border-slate-500 text-white",children:[l.jsx(Jf,{size:18,className:"mr-2"})," Annuler"]})}),l.jsx(rc,{asChild:!0,children:l.jsxs(D,{onClick:f,disabled:!a||n<1||n>3,className:"bg-primary hover:bg-primary/90 text-white",children:[l.jsx(Ml,{size:18,className:"mr-2"}),"Envoyer pour ",n,"€"]})})]})]})})},Kg=({story:e,isOwnStory:t,isAddButton:r})=>r?l.jsxs(ft,{to:"/stories/create",className:"flex-shrink-0 flex flex-col items-center space-y-1.5 text-center w-20",children:[l.jsx(D,{variant:"outline",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-dashed border-primary/50 bg-slate-700/50 text-primary hover:bg-primary/10 flex items-center justify-center",children:l.jsx(qf,{size:30})}),l.jsx("span",{className:"text-xs text-gray-300",children:"Ajouter"})]}):l.jsxs(ft,{to:`/stories/${e.id}`,className:"flex-shrink-0 flex flex-col items-center space-y-1.5 text-center w-20",children:[l.jsxs(on,{className:`w-16 h-16 sm:w-20 sm:h-20 border-2 ${!e.seen&&!t?"border-pink-500":"border-slate-600"}`,children:[l.jsx(an,{src:e.url,alt:e.userName}),l.jsx(ln,{className:"bg-slate-600 text-lg",children:e.userName.substring(0,1)})]}),l.jsx("span",{className:"text-xs text-gray-300 truncate w-full",children:t?"Ma Story":e.userName})]}),U5=({matches:e,userStories:t,searchTerm:r,onSearchTermChange:n})=>{const{currentUser:s}=$e(),i="h-[140px]",o="h-[60px]",a="h-[60px]",c="top-[140px]",u="top-0",d="top-[200px]";return l.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-background to-slate-900 text-white",children:[l.jsxs("div",{className:`sticky ${u} ${i} z-20 bg-gradient-to-b from-slate-900 via-slate-900 to-background px-4 pt-4 pb-2`,children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-3 px-1",children:"Stories"}),l.jsxs("div",{className:"flex space-x-4 overflow-x-auto pb-2 -mx-4 px-4 no-scrollbar",children:[l.jsx(Kg,{isAddButton:!0}),(t||[]).map(f=>l.jsx(Kg,{story:f,isOwnStory:f.isOwnStory||s&&f.userId===s.id},f.id))]})]}),l.jsx("div",{className:`sticky ${c} ${o} z-30 bg-gradient-to-b from-background to-slate-900 px-4 pt-2 pb-2`,children:l.jsxs("div",{className:"relative h-full flex items-center",children:[l.jsx(me,{type:"text",placeholder:"Rechercher...",value:r,onChange:f=>n(f.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:ring-primary focus:border-primary pl-10 rounded-full py-2.5 w-full"}),l.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]})}),l.jsx("div",{className:`sticky ${d} ${a} z-10 bg-background px-4 pt-4 pb-2`,children:l.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2 px-1",children:"Messages"})}),l.jsxs("div",{className:"flex-grow overflow-y-auto px-4 pb-4 pt-2 space-y-1",style:{height:"calc(100% - (60px + 140px + 60px))"},children:[e.length===0&&!r&&l.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-gray-400 pt-10",children:[l.jsx(g_,{size:50,className:"mb-4 opacity-50"}),l.jsx("p",{className:"text-lg",children:"Aucune conversation."}),l.jsx("p",{className:"text-sm",children:"Vos messages apparaîtront ici."})]}),e.length===0&&r&&l.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-gray-400 pt-10",children:[l.jsx(qa,{size:50,className:"mb-4 opacity-50"}),l.jsxs("p",{className:"text-lg",children:['Aucun résultat pour "',r,'".']})]}),l.jsx(Ms,{children:e.map(f=>l.jsx(q.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},exit:{opacity:0,x:15},transition:{duration:.2},children:l.jsxs(ft,{to:`/chat/${f.id}`,className:"flex items-center p-3 hover:bg-slate-700/70 rounded-lg transition-colors duration-150",children:[l.jsxs("div",{className:"relative",children:[l.jsxs(on,{className:"h-12 w-12",children:[l.jsx(an,{src:f.avatarImage,alt:f.name}),l.jsx(ln,{className:"bg-primary text-white",children:f.avatarText})]}),f.online&&l.jsx("span",{className:"absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-green-400 ring-2 ring-background"})]}),l.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[l.jsx("h4",{className:"font-semibold text-white text-sm",children:f.name}),l.jsx("p",{className:"text-xs text-gray-400 truncate",children:f.lastMessage})]}),l.jsxs("div",{className:"flex flex-col items-end ml-2",children:[l.jsx("span",{className:"text-xs text-gray-500 mb-1",children:f.timestamp}),f.unread>0&&l.jsx("span",{className:"bg-primary text-white text-[10px] font-bold px-1.5 py-0.5 rounded-full",children:f.unread})]})]})},f.id))})]})]})},G5=({mediaUrl:e,onClose:t})=>l.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/95 flex flex-col items-center justify-center z-[100] select-none p-0",onClick:t,children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[env(safe-area-inset-top)] bg-black/50 z-[102]"}),l.jsx(D,{variant:"ghost",size:"icon",onClick:r=>{r.stopPropagation(),t()},className:"absolute top-4 right-4 text-white/80 hover:text-white bg-black/30 rounded-full z-[101]",style:{marginTop:"calc(env(safe-area-inset-top) + 0.5rem)"},children:l.jsx(ho,{size:24})}),l.jsx("div",{className:"relative w-full h-full flex items-center justify-center",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:l.jsx("img",{src:e,alt:"Média en plein écran",className:"max-w-full max-h-full object-contain cursor-pointer",onClick:r=>{r.stopPropagation(),t()}})})]}),H5=(e,t,r)=>{const[n,s]=p.useState(e),[i,o]=p.useState(null);return p.useEffect(()=>{if(r){const c=n.find(u=>u.id===r);o(c),c&&s(u=>u.map(d=>d.id===r?{...d,unread:0}:d))}else o(null)},[r,n]),{matches:n,setMatches:s,currentChat:i,setCurrentChat:o,addMessageToChat:(c,u)=>{const d=u||(i==null?void 0:i.id);if(!d||!t)return;const f={id:`msg_${Date.now()}`,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),senderName:c.sender==="user"?t.name:c.sender,...c};s(h=>h.map(m=>{if(m.id===d){const w=[...m.messages||[],f];let y=f.text||"";return f.type==="photo"&&(y=f.sender==="user"?"Photo envoyée":"Photo reçue"),f.type==="media_request"&&(y=f.sender==="user"?"Demande de média envoyée":"Vous avez reçu une demande de média"),{...m,messages:w,lastMessage:y,timestamp:f.timestamp}}return m})),d===(i==null?void 0:i.id)&&o(h=>{if(!h)return null;const m=[...h.messages||[],f];return{...h,messages:m}})}}},W5=()=>{const[e,t]=p.useState(!1),[r,n]=p.useState(null),[s,i]=p.useState(!1),[o,a]=p.useState(null),[c,u]=p.useState(0),[d,f]=p.useState(!1),[h,m]=p.useState(null),[w,y]=p.useState(!1);return{showPaymentModal:e,openPaymentModal:C=>{n(C),t(!0)},closePaymentModal:()=>{t(!1),n(null)},mediaToUnlock:r,showFullScreenViewer:s,openFullScreenViewer:C=>{a(C),i(!0)},closeFullScreenViewer:()=>{i(!1),a(null),h&&!h.rated&&h.status==="received_opened"&&f(!0)},fullScreenMediaUrl:o,showRatingModal:d,openRatingModal:C=>{m(C),f(!0)},closeRatingModal:()=>{f(!1),m(null),u(0)},photoToRate:h,setPhotoToRate:m,ratingForPhoto:c,setRatingForPhoto:u,showSendMediaModal:w,openSendMediaModal:()=>y(!0),closeSendMediaModal:()=>y(!1)}},Ub=[{id:"user1",name:"Claudia",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/579be2811fe4cf73dd182c8843a9fabf.png",avatarText:"Cl",lastMessage:"Salut ! Comment ça va ? 😊",unread:1,online:!0,timestamp:"14:02",liveCallCost:5,photoPriceTiers:[{count:3,price:1},{count:1/0,price:2}],photosRating:{average:4.7,count:15},availableMedia:[{url:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/22189accdf7ee44d6ac4ad304ce2082c.jpg",price:2,id:"claudia_media_new_1",originalPrice:2,viewed:!1,rated:!1,status:"received_unopened"},{url:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/cf6ba74c23117c8b44aecd3f0e633f4d.jpg",price:3,id:"claudia_media_new_2",originalPrice:3,viewed:!1,rated:!1,status:"received_unopened"}],messages:[{id:"m1",text:"Hey! Prêt pour notre rdv sushi demain?",sender:"Claudia",senderName:"Claudia",timestamp:"10:00",type:"text"},{id:"m2",text:"Oui, trop hâte! 🍣",sender:"user",senderName:"user",timestamp:"10:01",type:"text"},{id:"p1_claudia_sent",photoUrl:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/e8a0992928b0584c40cb6e682184d7f7.png",sender:"Claudia",senderName:"Claudia",timestamp:"10:05",type:"photo",isBlurred:!0,price:1,viewed:!1,rated:!1,originalPrice:1,status:"received_unopened"},{id:"m_claudia_reply",text:"Salut ! Comment ça va ? 😊",sender:"Claudia",senderName:"Claudia",timestamp:"14:02",type:"text"}]},{id:"user2",name:"Anais",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/ae73d1862e4b7446e276d192ab15c0c0.png",avatarText:"An",lastMessage:"On se voit quand ?",unread:0,online:!1,timestamp:"Hier",liveCallCost:3,photoPriceTiers:[{count:1,price:1.5}],photosRating:{average:4.2,count:8},availableMedia:[],messages:[{id:"m_anais_1",text:"On se voit quand ?",sender:"Anais",senderName:"Anais",timestamp:"Hier",type:"text"}]},{id:"user3",name:"Léa",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/1b48e0573679d6084182d39952ae465f.png",avatarText:"Lé",lastMessage:"Tu as vu mon dernier post ?",unread:3,online:!0,timestamp:"13:30",liveCallCost:4,photoPriceTiers:[{count:5,price:.5}],photosRating:{average:4.9,count:25},availableMedia:[],messages:[{id:"m_lea_1",text:"Tu as vu mon dernier post ?",sender:"Léa",senderName:"Léa",timestamp:"13:30",type:"text"}]},{id:"user4",name:"Chloé",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/2d23c13a6a1609a504ac51435783c2c0.png",avatarText:"Ch",lastMessage:"Week-end à la plage ? 🏖️",unread:0,online:!1,timestamp:"Avant-hier",liveCallCost:2,photoPriceTiers:[{count:2,price:2}],photosRating:{average:4,count:5},availableMedia:[],messages:[{id:"m_chloe_1",text:"Week-end à la plage ? 🏖️",sender:"Chloé",senderName:"Chloé",timestamp:"Avant-hier",type:"text"}]},{id:"user5",name:"Manon",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/d232d670995b55a2410c9613d32f4a0c.png",avatarText:"Ma",lastMessage:"J'adore ton style !",unread:1,online:!0,timestamp:"12:15",liveCallCost:6,photoPriceTiers:[{count:10,price:1}],photosRating:{average:4.6,count:30},availableMedia:[],messages:[{id:"m_manon_1",text:"J'adore ton style !",sender:"Manon",senderName:"Manon",timestamp:"12:15",type:"text"}]},{id:"user6",name:"Camille",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/6d22f03995922c9d35e417f6f3410e6d.png",avatarText:"Ca",lastMessage:"Merci pour le Superlike 😉",unread:0,online:!0,timestamp:"11:50",liveCallCost:3,photoPriceTiers:[{count:3,price:1.5}],photosRating:{average:4.3,count:12},availableMedia:[],messages:[{id:"m_camille_1",text:"Merci pour le Superlike 😉",sender:"Camille",senderName:"Camille",timestamp:"11:50",type:"text"}]},{id:"user7",name:"Emma",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/3f5b874746d049c3d2c31563597e8a6e.png",avatarText:"Em",lastMessage:"Prête pour ce soir ?",unread:2,online:!1,timestamp:"Hier soir",liveCallCost:5,photoPriceTiers:[{count:1,price:3}],photosRating:{average:4.8,count:22},availableMedia:[],messages:[{id:"m_emma_1",text:"Prête pour ce soir ?",sender:"Emma",senderName:"Emma",timestamp:"Hier soir",type:"text"}]},{id:"user8",name:"Jade",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/f9a5b8a0768769a62591c99b5244688c.png",avatarText:"Ja",lastMessage:"Je suis en voyage, je te réponds bientôt.",unread:0,online:!1,timestamp:"Il y a 3 jours",liveCallCost:4,photoPriceTiers:[{count:4,price:1}],photosRating:{average:4.1,count:10},availableMedia:[],messages:[{id:"m_jade_1",text:"Je suis en voyage, je te réponds bientôt.",sender:"Jade",senderName:"Jade",timestamp:"Il y a 3 jours",type:"text"}]},{id:"user9",name:"Louise",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/a02ac08578273d7b801db37b1a9fe1f9.png",avatarText:"Lo",lastMessage:"Tu fais quoi de beau ?",unread:0,online:!0,timestamp:"10:05",liveCallCost:7,photoPriceTiers:[{count:2,price:2.5}],photosRating:{average:4.5,count:18},availableMedia:[],messages:[{id:"m_louise_1",text:"Tu fais quoi de beau ?",sender:"Louise",senderName:"Louise",timestamp:"10:05",type:"text"}]},{id:"user10",name:"Alice",avatarImage:"https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/cc8b7720e17f260e5e7308230f4a97a2.png",avatarText:"Al",lastMessage:"Salut 👋",unread:5,online:!0,timestamp:"09:45",liveCallCost:3,photoPriceTiers:[{count:1,price:1}],photosRating:{average:4.4,count:14},availableMedia:[],messages:[{id:"m_alice_1",text:"Salut 👋",sender:"Alice",senderName:"Alice",timestamp:"09:45",type:"text"}]}],Yg=()=>{const{matchId:e}=kl(),t=_e(),{toast:r}=Ee(),{currentUser:n,updateWalletBalance:s,updatePhotoRating:i,updateStats:o,stories:a}=$e(),{matches:c,setMatches:u,currentChat:d,setCurrentChat:f,addMessageToChat:h}=H5(Ub,n,e),{showPaymentModal:m,openPaymentModal:w,closePaymentModal:y,mediaToUnlock:b,showFullScreenViewer:v,openFullScreenViewer:g,closeFullScreenViewer:x,fullScreenMediaUrl:S,showRatingModal:j,openRatingModal:P,closeRatingModal:k,photoToRate:C,setPhotoToRate:E,ratingForPhoto:_,setRatingForPhoto:R,showSendMediaModal:T,openSendMediaModal:O,closeSendMediaModal:N}=W5(),[I,A]=p.useState([]),[H,M]=p.useState(""),[z,B]=p.useState("");p.useEffect(()=>{if(n&&a){const V=new Set(c.map(he=>he.id)),re=a.find(he=>he.userId===n.id&&he.userName==="Moi"),ve=a.filter(he=>V.has(he.userId)&&he.userId!==n.id),Fe=Array.from(new Map(ve.map(he=>[he.userId,he])).values()),jt=[...re?[{...re,isOwnStory:!0}]:[],...Fe.sort((he,It)=>he.seen===It.seen?0:he.seen?1:-1)];A(jt)}},[n,a,c]);const F=p.useCallback(V=>{!V.trim()||!d||(h({text:V,sender:"user",type:"text"}),B(""),setTimeout(()=>{if(!d)return;const re=["Oui, bien sûr !","Je suis occupé(e) pour le moment.","Cool !","Haha, pas mal.","D'accord.","Pourquoi pas ?"],ve=re[Math.floor(Math.random()*re.length)];h({text:ve,sender:d.name,type:"text"})},1500+Math.random()*2e3))},[h,d]),U=p.useCallback((V,re)=>{if(!d||V<1||V>3){r({title:"Erreur",description:"Veuillez définir un prix entre 1€ et 3€.",variant:"destructive"});return}h({photoUrl:re,sender:"user",type:"photo",isBlurred:!1,price:V,viewed:!1,rated:!1,originalPrice:V,status:"sent_unopened"}),r({title:"Photo envoyée!",description:`Votre photo a été envoyée (prix: ${V.toFixed(2)}€).`}),N()},[h,d,r,N]),X=p.useCallback(()=>{d&&(h({sender:"user",type:"media_request",text:`Vous avez demandé un média à ${d.name}.`}),r({title:"Demande envoyée",description:`Vous avez demandé un média à ${d.name}.`}),setTimeout(()=>{const V=c.find(re=>re.id===d.id);if(V)if(V.name==="Claudia"&&V.availableMedia&&V.availableMedia.length>0){const re=V.availableMedia[Math.floor(Math.random()*V.availableMedia.length)];h({sender:V.name,type:"photo",photoUrl:re.url,isBlurred:!0,price:re.price,viewed:!1,rated:!1,originalPrice:re.originalPrice,status:"received_unopened",id:`msg_${V.name}_${re.id}_${Date.now()}`},V.id),r({title:"Média Reçu!",description:`${V.name} vous a envoyé un média!`})}else{const re=Math.floor(Math.random()*3)+1;h({sender:V.name,type:"photo",photoUrl:`https://source.unsplash.com/random/400x300/?model,fashion&t=${Date.now()}`,isBlurred:!0,price:re,viewed:!1,rated:!1,originalPrice:re,status:"received_unopened",id:`msg_${V.name}_random_${Date.now()}`},V.id),r({title:"Média Reçu!",description:`${V.name} vous a envoyé un média!`})}},3e3+Math.random()*2e3))},[h,d,c,r]),ge=p.useCallback(V=>{if(V.sender==="user"||V.status==="received_opened"&&!V.isReplayAction&&!V.isRateAction){g(V.photoUrl);return}if(V.isReplayAction){w({...V,isReplay:!0});return}if(V.isRateAction){P(V);return}V.status==="received_unopened"&&w({...V,isReplay:!1})},[g,w,P]),Ve=p.useCallback(()=>{var Fe,jt;if(!b||!n||!d)return;const V=b.isReplay?b.originalPrice/2:b.price;if(n.walletBalance<V){r({title:"Solde insuffisant",description:`Vous avez besoin de ${V.toFixed(2)}€ pour voir ce média. Rechargez votre portefeuille.`,variant:"destructive"});return}s(-V),b.sender!=="user"&&(r({title:"Paiement Effectué!",description:`${b.senderName||b.sender} a reçu ${V.toFixed(2)}€.`}),o({photosSold:(((Fe=n.stats)==null?void 0:Fe.photosSold)||0)+1,revenueGenerated:(((jt=n.stats)==null?void 0:jt.revenueGenerated)||0)+V}));const re=d.messages.map(he=>he.id===b.id?{...he,isBlurred:!1,viewed:!0,status:"received_opened",replayed:b.isReplay?!0:he.replayed||!1}:he),ve={...d,messages:re};f(ve),u(he=>he.map(It=>It.id===d.id?ve:It)),r({title:`Média débloqué${b.isReplay?" (Replay)":""}!`,description:`${V.toFixed(2)}€ ont été déduits.`}),y(),g(b.photoUrl),!b.isReplay&&b.sender!=="user"&&!b.rated&&E(b)},[b,n,d,s,o,f,u,r,y,g,E]),Ie=p.useCallback(V=>{if(!C||V===0||!d){r({title:"Notation",description:"Veuillez sélectionner une note.",variant:"destructive"});return}i(C.sender,V);const re=d.messages.map(Fe=>Fe.id===C.id?{...Fe,rated:!0,rating:V}:Fe),ve={...d,messages:re};f(ve),u(Fe=>Fe.map(jt=>jt.id===d.id?ve:jt)),r({title:"Merci!",description:`Vous avez noté ce média ${V}/5.`}),k()},[C,d,i,f,u,r,k]),st=p.useCallback(()=>{var Fe;if(!d||!n)return;const V=(d==null?void 0:d.liveCallCost)||2,re=((Fe=n==null?void 0:n.settings)==null?void 0:Fe.minLiveCallDuration)||1,ve=V*re;if(n.walletBalance<ve){r({title:"Solde insuffisant pour l'appel",description:`Vous avez besoin d'au moins ${ve.toFixed(2)}€ pour ${re} min d'appel.`,variant:"destructive"});return}r({title:"Appel Live (Simulation)",description:`Lancement de l'appel avec ${d.name}. Coût: ${V}€/min.`})},[d,n,r]),qs=c.filter(V=>V.name.toLowerCase().includes(H.toLowerCase())).sort((V,re)=>{const ve=(re.unread||0)-(V.unread||0);if(ve!==0)return ve;const Fe=jt=>{if(!jt||typeof jt!="string")return 0;if(jt.toLowerCase()==="hier"){const It=new Date;return It.setDate(It.getDate()-1),It.getTime()}const he=jt.split(":");if(he.length===2){const It=new Date;return It.setHours(parseInt(he[0],10),parseInt(he[1],10),0,0),It.getTime()}return 0};return Fe(re.timestamp)-Fe(V.timestamp)});return d&&n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-background to-slate-900",children:[l.jsx(p4,{currentChat:d,onBack:()=>t("/chat"),onStartLiveCall:st}),l.jsx(_5,{messages:d.messages||[],onPhotoClick:ge,onInitiateSendMedia:O,currentUserId:n.id}),l.jsx(k5,{newMessage:z,setNewMessage:B,onSendMessage:F,onInitiateSendMedia:O,onRequestMedia:X})]}),m&&b&&n&&l.jsx(V5,{isOpen:m,onOpenChange:V=>{V||y()},mediaToUnlock:b,currentUserWalletBalance:n.walletBalance,onConfirm:Ve}),v&&S&&l.jsx(G5,{mediaUrl:S,onClose:x}),j&&C&&l.jsx(F5,{isOpen:j,onOpenChange:V=>{V||k()},currentRating:_,onRatingChange:R,onSubmit:Ie}),T&&l.jsx(B5,{isOpen:T,onOpenChange:N,onConfirmSendMedia:U})]}):l.jsx("div",{className:"h-full",children:l.jsx(U5,{matches:qs,userStories:I,searchTerm:H,onSearchTermChange:M})})},sa=({icon:e,label:t,onClick:r,className:n,bgColor:s="bg-slate-800/60 hover:bg-slate-700/80"})=>l.jsxs(D,{variant:"ghost",className:W("flex flex-col items-center justify-center h-16 w-full rounded-xl space-y-0.5 text-gray-300 hover:text-white transition-all duration-200 shadow-md p-1",s,n),onClick:r,children:[l.jsx(e,{size:20,className:"mb-0.5 text-primary"}),l.jsx("span",{className:"text-[10px] text-center px-0.5 leading-tight",children:t})]}),Jg=({title:e,description:t,buttonText:r,onClick:n,icon:s,gradientClass:i,isActive:o,isManagement:a=!1})=>l.jsxs(q.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:W("p-3.5 rounded-xl shadow-lg text-white overflow-hidden relative",i,o&&!a&&"opacity-75"),children:[l.jsxs("div",{className:"flex items-center mb-1.5",children:[l.jsx(s,{size:20,className:"mr-1.5"}),l.jsxs("h4",{className:"text-base font-semibold",children:[e," ",o&&"(Actif)"]})]}),l.jsx("p",{className:"text-[11px] mb-2.5 opacity-90 leading-snug",children:t}),l.jsxs(D,{onClick:n,size:"sm",className:W("bg-white/90 hover:bg-white text-black text-[11px] rounded-full px-3 py-1 h-auto shadow-md",o&&"bg-green-400/90 hover:bg-green-400 text-white",a&&o&&"bg-orange-500/90 hover:bg-orange-500 text-white"),children:[r," ",!o&&l.jsx(c_,{size:12,className:"ml-1"})]})]}),q5=()=>{const{toast:e}=Ee(),{currentUser:t,updatePremiumStatus:r}=$e(),n=_e();if(!t)return l.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:l.jsx("p",{className:"text-white",children:"Chargement du profil..."})});const s=t.name?t.name.split(" ")[0]:"Utilisateur",i=()=>{if(!t.premiumStatus.subscriptionType&&!t.premiumStatus.incognitoMode){n("/premium");return}const c=!t.premiumStatus.incognitoMode;r("incognitoMode",c),e({title:`Mode Incognito ${c?"activé":"désactivé"}`})},o=()=>{n("/premium")},a=()=>{n("/profile/my-photos")};return l.jsxs("div",{className:"p-1 pt-4 space-y-3 bg-gradient-to-b from-background to-slate-900 text-white min-h-full overflow-y-auto no-scrollbar pb-16",children:[l.jsxs(q.div,{initial:{opacity:0,y:-15},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative flex flex-col items-center",children:[l.jsxs("button",{onClick:a,className:"relative focus:outline-none group",children:[l.jsxs(on,{className:"w-32 h-32 sm:w-36 sm:h-36 border-[6px] border-primary shadow-xl group-hover:border-pink-500 transition-all duration-300",children:[l.jsx(an,{src:t.profilePicture||`https://ui-avatars.com/api/?name=${s}&background=random`,alt:s}),l.jsx(ln,{className:"bg-primary-hover text-4xl",children:s.substring(0,1).toUpperCase()})]}),l.jsx("div",{className:"absolute bottom-1 right-1 bg-slate-700 p-2 rounded-full border-2 border-background group-hover:bg-pink-500 transition-all duration-300",children:l.jsx(ax,{size:16,className:"text-primary group-hover:text-white transition-all duration-300"})})]}),l.jsx("h3",{className:"mt-3 text-2xl font-bold text-gradient-heresse",children:s}),l.jsx("p",{className:"text-xs text-gray-400 max-w-[85%] text-center line-clamp-2",children:t.bio||"Aucune bio pour le moment."})]}),l.jsxs("div",{className:"grid grid-cols-4 gap-1.5 px-2",children:[l.jsx(sa,{icon:i_,label:"Tableau de bord",onClick:()=>n("/dashboard")}),l.jsx(sa,{icon:px,label:"Portefeuille",onClick:()=>n("/wallet")}),l.jsx(sa,{icon:Tl,label:t.premiumStatus.incognitoMode?"Incognito ON":"Incognito OFF",onClick:i,bgColor:t.premiumStatus.incognitoMode?"bg-primary/30 hover:bg-primary/40":"bg-slate-800/60 hover:bg-slate-700/80",className:t.premiumStatus.incognitoMode?"text-primary":""}),l.jsx(sa,{icon:ux,label:"Paramètres",onClick:()=>n("/settings")})]}),l.jsxs("div",{className:"px-2 space-y-2.5 pt-2",children:[l.jsx(Jg,{title:"Mode Incognito",description:"Soyez visible uniquement par les profils que vous avez préalablement likés.",buttonText:t.premiumStatus.incognitoMode?"Désactiver Incognito":t.premiumStatus.subscriptionType?"Activer Incognito":"Obtenir Incognito",onClick:i,icon:b_,gradientClass:"bg-gradient-to-br from-purple-600 to-indigo-700",isActive:t.premiumStatus.incognitoMode,isManagement:t.premiumStatus.incognitoMode||!!t.premiumStatus.subscriptionType}),l.jsx(Jg,{title:"Heresse Premium",description:"Swipes illimités, voir qui vous a liké, réinitialiser les dislikes, accès aux filtres de photos/vidéos/live et plus !",buttonText:t.premiumStatus.subscriptionType?"Gérer Premium":"Obtenir Premium",onClick:o,icon:eo,gradientClass:"bg-gradient-to-br from-pink-600 to-red-600",isActive:!!t.premiumStatus.subscriptionType,isManagement:!!t.premiumStatus.subscriptionType})]})]})},K5={user1:{id:"user1",name:"Lucie",age:28,bio:"J'aime manger des flans et des gourmandises...",distance:"11 km",profileImages:["https://storage.googleapis.com/hostinger-horizons-assets-prod/1ce9fc5e-d534-4412-9c38-1c21a18adab9/48b8f095c0123ddc5a761d8a62431b0d.png","Woman smiling by a lake","Close-up portrait of a young woman"],photosRating:{average:4.7,count:15},privateGalleries:[{id:"lucie_pg1",name:"Aventure Parisienne",coverImage:"Eiffel Tower at sunset",itemCount:10,price:8}]},user2:{id:"user2",name:"Lucas",age:28,bio:"Développeur web passionné...",distance:"5 km",profileImages:["Man hiking on a mountain trail","Man working on a laptop","Portrait of a smiling man with glasses"],photosRating:{average:4.2,count:8},privateGalleries:[]},user3:{id:"user3",name:"Manon",age:22,bio:"Étudiante en art...",distance:"1 km",profileImages:["Woman painting on a canvas","Woman visiting an art museum","Artistic portrait of a woman"],photosRating:{average:4.9,count:22},privateGalleries:[{id:"manon_pg1",name:"Monde Sous-marin",coverImage:"Colorful coral reef",itemCount:20,price:12}]}},Y5=()=>{const{userId:e}=kl(),t=_e(),{toast:r}=Ee(),{currentUser:n,updateWalletBalance:s}=$e(),[i,o]=p.useState(null),[a,c]=p.useState(0);p.useEffect(()=>{const f=K5[e];f?o(f):(r({title:"Profil introuvable",variant:"destructive"}),t("/"))},[e,t,r]);const u=f=>{if(!i)return;const h=f==="next"?(a+1)%i.profileImages.length:(a-1+i.profileImages.length)%i.profileImages.length;c(h)},d=f=>{if(n.walletBalance<f.price){r({title:"Solde insuffisant",description:`Il vous faut ${f.price}€ pour débloquer cette galerie.`,variant:"destructive"});return}s(-f.price),r({title:"Galerie débloquée!",description:`Vous avez accès à "${f.name}". ${f.price}€ déduits.`})};return i?l.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-b from-background to-slate-900 text-white overflow-y-auto",children:[l.jsxs("header",{className:"p-3 flex items-center space-x-3 bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-10",children:[l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>t(-1),className:"text-gray-300 hover:text-white",children:l.jsx(Zt,{size:28})}),l.jsx("h3",{className:"font-semibold text-lg text-gradient-heresse",children:i.name})]}),l.jsxs("div",{className:"relative w-full aspect-[3/4] bg-slate-800",children:[l.jsx("img",{class:"w-full h-full object-cover",alt:`${i.name} - photo ${a+1}`,src:"https://images.unsplash.com/photo-1652841190565-b96e0acbae17"}),i.profileImages.length>1&&l.jsxs(l.Fragment,{children:[l.jsxs(D,{variant:"ghost",size:"icon",onClick:()=>u("prev"),className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full",children:[" ",l.jsx(Zt,{size:24})," "]}),l.jsxs(D,{variant:"ghost",size:"icon",onClick:()=>u("next"),className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full",children:[" ",l.jsx(Zt,{size:24,className:"rotate-180"})," "]}),l.jsx("div",{className:"absolute bottom-2 left-0 right-0 flex justify-center space-x-1.5 p-2",children:i.profileImages.map((f,h)=>l.jsx("div",{className:`h-1.5 w-1.5 rounded-full ${h===a?"bg-white":"bg-white/50"}`},h))})]})]}),l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h1",{className:"text-3xl font-bold",children:[i.name,", ",i.age]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsxs(D,{size:"icon",variant:"outline",className:"rounded-full border-primary text-primary hover:bg-primary/10 w-12 h-12",children:[" ",l.jsx(fo,{size:24})," "]}),l.jsxs(D,{size:"icon",className:"rounded-full bg-gradient-to-r from-primary to-secondary text-white w-12 h-12",onClick:()=>t(`/chat/${i.id}`),children:[" ",l.jsx(Rl,{size:24})," "]})]})]}),i.photosRating&&i.photosRating.count>0&&l.jsxs("div",{className:"flex items-center space-x-1 text-sm text-gray-300",children:[l.jsx(Ts,{size:16,className:"text-yellow-400 fill-yellow-400"}),l.jsxs("span",{children:[i.photosRating.average.toFixed(1),"/5"]}),l.jsxs("span",{className:"text-gray-400",children:["(",i.photosRating.count," notes photos)"]})]}),l.jsx("p",{className:"text-gray-300",children:i.bio}),l.jsxs("p",{className:"text-sm text-gray-400",children:["À ",i.distance]}),i.privateGalleries&&i.privateGalleries.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xl font-semibold mt-6 mb-2 text-gradient-heresse",children:"Galeries Privées"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:i.privateGalleries.map(f=>l.jsxs("div",{className:"relative aspect-video bg-slate-700 rounded-lg overflow-hidden group",children:[l.jsx("img",{class:"w-full h-full object-cover blur-sm",alt:`Couverture de ${f.name}`,src:"https://images.unsplash.com/photo-1592177183170-a4256e44e072"}),l.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center text-center p-2",children:[l.jsx(Gt,{size:24,className:"text-white mb-1"}),l.jsx("p",{className:"text-white text-sm font-semibold truncate",children:f.name}),l.jsxs("p",{className:"text-xs text-gray-300 mb-1.5",children:[f.itemCount," médias"]}),l.jsxs(D,{size:"sm",className:"bg-primary hover:bg-primary-hover text-xs",onClick:()=>d(f),children:["Débloquer (",f.price,"€)"]})]})]},f.id))})]})]})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-white",children:"Chargement du profil..."})},J5=({stories:e,onClose:t})=>{const r=_e(),[n,s]=p.useState(0),[i,o]=p.useState(""),a=()=>{n<e.length-1?s(n+1):r("/next-user-story")},c=()=>{n>0?s(n-1):r("/previous-user-last-story")},u=()=>{console.log("Story liked"),f()},d=()=>{i.trim()&&(console.log(`Message sent: ${i}`),o("")),f()},f=()=>{t()};return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex flex-col justify-between",children:[l.jsx(q.div,{className:"p-4 flex-grow",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onSwipe:()=>f(),children:l.jsx("img",{src:e[n].image,alt:e[n].user,className:"w-full h-auto object-cover",onClick:h=>h.clientX>window.innerWidth/2?a():c()})}),l.jsxs("div",{className:"p-4 bg-gray-800 flex justify-between items-center",children:[l.jsx("input",{type:"text",placeholder:"Reply...",value:i,onChange:h=>o(h.target.value),className:"flex-grow mr-2 p-2 bg-black text-white rounded"}),l.jsx("button",{onClick:u,className:"mr-2 text-white",children:"❤ Like"}),l.jsx("button",{onClick:d,className:"text-white",children:"Send"})]})]})},Xg=({story:e,isOwnStory:t,isAddButton:r})=>r?l.jsxs(ft,{to:"/stories/create",className:"flex-shrink-0 flex flex-col items-center space-y-1.5 text-center w-20",children:[l.jsx(D,{variant:"outline",className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full border-dashed border-primary/50 bg-slate-700/50 text-primary hover:bg-primary/10 flex items-center justify-center",children:l.jsx(qf,{size:30})}),l.jsx("span",{className:"text-xs text-gray-300",children:"Ajouter"})]}):l.jsxs(ft,{to:`/stories/${e.id}`,className:"flex-shrink-0 flex flex-col items-center space-y-1.5 text-center w-20",children:[l.jsxs(on,{className:`w-16 h-16 sm:w-20 sm:h-20 border-2 ${!e.seen&&!t?"border-pink-500":"border-slate-600"}`,children:[l.jsx(an,{src:e.url,alt:e.userName}),l.jsx(ln,{className:"bg-slate-600 text-lg",children:e.userName.substring(0,1)})]}),l.jsx("span",{className:"text-xs text-gray-300 truncate w-full",children:t?"Ma Story":e.userName})]}),X5=({profile:e,index:t})=>l.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.05},className:"relative aspect-[3/4] bg-slate-700 rounded-xl overflow-hidden shadow-lg group",children:[l.jsx("img",{alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",src:e.avatarImage||`https://source.unsplash.com/random/400x600?person&sig=${e.id}`}),l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent p-3 flex flex-col justify-end",children:[l.jsxs("h3",{className:"text-xl font-bold text-white",children:[e.name,", ",e.age||"N/A"]}),l.jsx("p",{className:`text-xs mb-1 ${e.online?"text-green-300":"text-gray-400"}`,children:e.online?"En ligne":e.lastActivity||"Actif récemment"}),e.commonInterests>0&&l.jsxs("p",{className:"text-xs text-gray-200 flex items-center",children:[l.jsx(fo,{size:12,className:"mr-1 text-pink-400 fill-current"})," ",e.commonInterests," centres d'intérêt en commun"]})]}),l.jsx(ft,{to:`/chat/${e.id}`,className:"absolute inset-0","aria-label":`Chatter avec ${e.name}`}),l.jsx(D,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 bg-black/30 hover:bg-pink-500/70 text-white rounded-full w-9 h-9 opacity-0 group-hover:opacity-100 transition-opacity",asChild:!0,children:l.jsx(ft,{to:`/chat/${e.id}`,children:l.jsx(Rl,{size:18})})})]}),Q5=()=>{const{currentUser:e,stories:t}=$e(),[r,n]=p.useState(""),[s,i]=p.useState(Ub.map(y=>({...y,age:Math.floor(Math.random()*10)+20,commonInterests:Math.floor(Math.random()*5)}))),[o,a]=p.useState([]),[c,u]=p.useState(!1),[d,f]=p.useState(0);p.useEffect(()=>{if(e&&t){const y=new Set(s.map(S=>S.id)),b=t.find(S=>S.userId===e.id&&S.userName==="Moi"),v=t.filter(S=>y.has(S.userId)&&S.userId!==e.id),g=Array.from(new Map(v.map(S=>[S.userId,S])).values()),x=[...b?[{...b,isOwnStory:!0}]:[],...g.sort((S,j)=>S.seen===j.seen?0:S.seen?1:-1)];a(x)}},[e,t,s]);const h=y=>{f(y),u(!0)},m=()=>{u(!1)},w=s.filter(y=>y.name.toLowerCase().includes(r.toLowerCase()));return l.jsxs("div",{className:"p-4 pb-20 bg-gradient-to-b from-slate-900 to-slate-800 min-h-full text-white",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-sm font-semibold text-gray-400 mb-3 px-1",children:"Stories"}),l.jsxs("div",{className:"flex space-x-4 overflow-x-auto pb-2 -mx-4 px-4 no-scrollbar",children:[l.jsx(Xg,{isAddButton:!0}),(o||[]).map((y,b)=>l.jsx("div",{onClick:()=>h(b),children:l.jsx(Xg,{story:y,isOwnStory:y.isOwnStory||e&&y.userId===e.id})},y.id))]})]}),l.jsxs("div",{className:"relative mb-5",children:[l.jsx(me,{type:"text",placeholder:"Rechercher un match...",value:r,onChange:y=>n(y.target.value),className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:ring-pink-500 focus:border-pink-500 pl-10 rounded-full py-2.5"}),l.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),c&&l.jsx(J5,{stories:o,initialIndex:d,onClose:m}),l.jsxs("div",{children:[l.jsxs("h2",{className:"text-lg font-semibold text-white mb-3",children:["Vos Matchs (",w.length,")"]}),w.length>0?l.jsx("div",{className:"grid grid-cols-2 gap-4",children:w.map((y,b)=>l.jsx(X5,{profile:y,index:b},y.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-gray-400 pt-10",children:[l.jsx(fo,{size:64,className:"mb-4 opacity-50 text-pink-500/70"}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:r?`Aucun match trouvé pour "${r}"`:"Aucun match pour le moment"}),l.jsx("p",{className:"text-sm",children:r?"Essayez un autre terme de recherche.":"Continuez à swiper pour trouver des matchs !"})]})]})]})},Z5=({gallery:e,onUnlockClick:t,isUnlocked:r})=>{var o;const n=_e(),s=()=>{r?n(`/profile/${e.user_id}/gallery/${e.id}`):t(e)},i=e.owner_first_name||"Galerie";return l.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"relative aspect-[4/3] bg-slate-800 rounded-xl overflow-hidden shadow-lg group cursor-pointer",onClick:s,children:[l.jsx("img",{alt:e.name||"Couverture de la galerie",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",src:e.cover_image_url||"https://source.unsplash.com/random/400x300/?abstract,gallery&sig="+e.id,src:"https://images.unsplash.com/photo-1561490497-43bc900ac2d8"}),!r&&l.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent p-3 flex flex-col justify-end",children:[l.jsxs("div",{className:"flex items-center mb-1",children:[l.jsxs(on,{className:"h-6 w-6 mr-2 border-2 border-white/50",children:[l.jsx(an,{src:e.owner_avatar}),l.jsx(ln,{children:((o=e.owner_first_name)==null?void 0:o.substring(0,1).toUpperCase())||"U"})]}),l.jsx("h3",{className:"text-md font-bold text-white truncate",children:`Galerie de ${i}`})]}),l.jsxs("p",{className:"text-xs text-gray-300 mb-1.5",children:[e.item_count||0," média(s)"]}),r?l.jsxs("span",{className:"text-xs bg-green-500/80 text-white px-2 py-0.5 rounded-full self-start flex items-center backdrop-blur-sm",children:[l.jsx(Zi,{size:12,className:"mr-1"})," Débloquée"]}):l.jsxs("span",{className:"text-xs bg-primary/80 text-white px-2 py-0.5 rounded-full self-start flex items-center backdrop-blur-sm",children:[l.jsx(Gt,{size:12,className:"mr-1"})," ",e.price?`${e.price.toFixed(2)}€`:"Gratuit"]})]}),!r&&e.price>0&&l.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsxs(D,{className:"bg-primary hover:bg-primary/90 text-white rounded-full px-4 py-2 text-sm shadow-lg",onClick:a=>{a.stopPropagation(),t(e)},children:[l.jsx(Gt,{size:14,className:"mr-1.5"})," Débloquer"]})})]})},e3=()=>{var C,E;const[e,t]=p.useState(""),[r,n]=p.useState([]),[s,i]=p.useState(!0),[o,a]=p.useState(null),{currentUser:c,updateWalletBalance:u,addUnlockedGallery:d,unlockedGalleries:f,loading:h}=$e(),{toast:m}=Ee(),w=_e(),[y,b]=p.useState(!1),[v,g]=p.useState(null),x=p.useCallback(async()=>{if(h){i(!0);return}if(!(c!=null&&c.id)){i(!1),a("Utilisateur non authentifié. Veuillez vous connecter.");return}i(!0),a(null);let _=[];try{const{data:R,error:T}=await Oe.from("matches").select("user1_id, user2_id").or(`user1_id.eq.${c.id},user2_id.eq.${c.id}`).eq("status","matched");if(T)throw T;R&&(_=R.map(O=>O.user1_id===c.id?O.user2_id:O.user1_id).filter((O,N,I)=>O!==void 0&&I.indexOf(O)===N))}catch(R){console.error("Error fetching matches:",R),a("Impossible de récupérer vos matchs pour afficher les galeries. Vérifiez votre connexion ou les permissions."),n([]),i(!1);return}if(_.length===0){n([]),i(!1);return}try{const{data:R,error:T}=await Oe.from("user_galleries").select(`
                id,
                name,
                cover_image_url,
                price,
                user_id,
                profiles!inner (id, full_name, avatar_url, raw_user_meta_data),
                private_gallery_media (count)
            `).in("user_id",_);if(T)throw T;if(R){const O=R.map(N=>{var M,z,B,F;const I=(M=N.profiles)==null?void 0:M.raw_user_meta_data,A=((z=N.profiles)==null?void 0:z.full_name)||(I==null?void 0:I.full_name)||(I==null?void 0:I.name)||"Utilisateur Inconnu",H=A.split(" ")[0];return{...N,owner_name:A,owner_first_name:H,owner_avatar:((B=N.profiles)==null?void 0:B.avatar_url)||(I==null?void 0:I.avatar_url),item_count:((F=N.private_gallery_media[0])==null?void 0:F.count)||0}}).filter(N=>N.profiles);n(O)}else n([])}catch(R){console.error("Error fetching galleries:",R),a("Impossible de charger les galeries de vos matchs."),m({title:"Erreur de chargement",description:"Impossible de charger les galeries. Réessayez plus tard.",variant:"destructive"}),n([])}i(!1)},[c==null?void 0:c.id,m,h]);p.useEffect(()=>{h||x()},[x,h]);const S=async()=>{if(!v||!c)return;if(v.price===0){d(v.id),b(!1),m({title:"Galerie débloquée!",description:`${v.name||"Cette galerie"} est maintenant accessible.`,className:"bg-green-500 text-white"}),g(null);return}if(c.walletBalance<v.price){m({title:"Solde insuffisant",description:`Vous avez besoin de ${v.price.toFixed(2)}€ pour débloquer cette galerie.`,variant:"destructive"}),b(!1),w("/wallet");return}const _=c.walletBalance-v.price,{error:R}=await Oe.from("profiles").update({wallet_balance:_}).eq("id",c.id);if(R){console.error("Error updating wallet balance:",R),m({title:"Erreur de paiement",description:"Impossible de mettre à jour le solde. Veuillez réessayer.",variant:"destructive"}),b(!1),g(null);return}const T=[...new Set([...c.unlockedGalleries||[],v.id])],{error:O}=await Oe.rpc("update_user_unlocked_galleries",{user_id_param:c.id,new_galleries_param:T});O?(console.error("Error updating unlocked galleries via RPC:",O),await Oe.from("profiles").update({wallet_balance:c.walletBalance}).eq("id",c.id),m({title:"Erreur",description:"Impossible de débloquer la galerie après paiement. Contactez le support.",variant:"destructive"})):(u(-v.price),d(v.id),m({title:"Galerie débloquée!",description:`${v.name||"Cette galerie"} est maintenant accessible.`,className:"bg-green-500 text-white"})),b(!1),g(null)},j=_=>{if(_.price===0){d(_.id),m({title:"Galerie débloquée!",description:`${_.name||"Cette galerie"} est maintenant accessible (gratuit).`,className:"bg-green-500 text-white"});return}g(_),b(!0)},P=r.filter(_=>{var R,T;return(((R=_.name)==null?void 0:R.toLowerCase())||"").includes(e.toLowerCase())||(((T=_.owner_first_name)==null?void 0:T.toLowerCase())||"").includes(e.toLowerCase())}),k=()=>s?l.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center text-white p-4",children:[l.jsx("div",{className:"animate-pulse mb-4",children:l.jsx(Es,{size:64,className:"opacity-50 text-primary"})}),l.jsx("p",{className:"text-lg",children:"Chargement des galeries..."})]}):o?l.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-red-400 pt-16 px-4",children:[l.jsx(Zy,{size:64,className:"mb-4 opacity-70"}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Erreur de Chargement"}),l.jsx("p",{className:"text-sm mb-4",children:o}),l.jsx(D,{onClick:x,className:"bg-primary hover:bg-primary/90",children:"Réessayer"})]}):P.length>0?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:P.map(_=>l.jsx(Z5,{gallery:_,onUnlockClick:j,isUnlocked:(f||[]).includes(_.id)||_.user_id===(c==null?void 0:c.id)},_.id))}):l.jsxs("div",{className:"flex flex-col items-center justify-center text-center text-gray-400 pt-16 px-4",children:[l.jsx(rx,{size:64,className:"mb-4 opacity-50 text-primary/70"}),l.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:e?`Aucune galerie trouvée pour "${e}"`:"Aucune galerie privée de vos matchs"}),l.jsx("p",{className:"text-sm",children:e?"Essayez un autre terme de recherche.":"Explorez les profils et matchez pour découvrir leurs galeries privées ici."})]});return l.jsxs("div",{className:"flex flex-col h-full bg-gradient-to-b from-background to-slate-900 text-white pt-safe-top",children:[l.jsxs("div",{className:"p-4 flex-grow overflow-y-auto pb-20 no-scrollbar",children:[l.jsxs("div",{className:"relative mb-6 mt-4",children:[l.jsx(me,{type:"text",placeholder:"Rechercher une galerie ou un créateur...",value:e,onChange:_=>t(_.target.value),className:"bg-slate-800 border-slate-700 text-white placeholder-gray-400 focus:ring-primary focus:border-primary pl-10 rounded-full py-2.5 shadow-sm"}),l.jsx(qa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"})]}),k()]}),l.jsx(bo,{open:y,onOpenChange:b,children:l.jsxs(Hs,{className:"bg-slate-800 border-slate-700 text-white max-w-xs rounded-xl shadow-xl",children:[l.jsxs(So,{className:"p-4 pb-0",children:[l.jsx(jo,{className:"text-gradient-heresse text-lg mb-1",children:"Débloquer la Galerie"}),l.jsxs(zh,{className:"text-xs text-gray-400",children:["Galerie: ",l.jsx("span",{className:"font-medium text-gray-300",children:(v==null?void 0:v.name)||"Galerie sans nom"}),l.jsx("br",{}),"Créateur: ",l.jsx("span",{className:"font-medium text-gray-300",children:v==null?void 0:v.owner_first_name})]})]}),l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("img",{src:(v==null?void 0:v.cover_image_url)||"https://source.unsplash.com/random/400x300/?abstract,cover&sig=dialog"+(v==null?void 0:v.id),alt:"Couverture de la galerie",className:"w-full aspect-video object-cover rounded-md blur-sm opacity-60 mb-3",src:"https://images.unsplash.com/photo-1591298607671-9afec14e39b5"}),l.jsxs("p",{className:"text-2xl font-bold text-primary mb-1",children:[(C=v==null?void 0:v.price)==null?void 0:C.toFixed(2),"€"]}),l.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["Solde actuel: ",l.jsxs("span",{className:"font-bold text-white",children:[(E=c==null?void 0:c.walletBalance)==null?void 0:E.toFixed(2),"€"]})]}),l.jsxs("div",{className:"flex flex-col space-y-2",children:[l.jsxs(D,{onClick:S,disabled:!c||c.walletBalance<((v==null?void 0:v.price)||0),className:"w-full bg-primary hover:bg-primary/90 text-white",children:[l.jsx(Qi,{size:16,className:"mr-1.5"})," Payer & Débloquer"]}),l.jsx(D,{variant:"ghost",onClick:()=>b(!1),className:"w-full text-gray-400 hover:text-white",children:"Annuler"})]})]})]})})]})},t3=({mediaItem:e,onClose:t})=>{if(!e)return null;const r=n=>{n.stopPropagation()};return l.jsx(bo,{open:!!e,onOpenChange:n=>{n||t()},children:l.jsxs(Hs,{className:"bg-black/90 p-0 border-none max-w-[95vw] max-h-[90vh] w-auto h-auto flex items-center justify-center aspect-auto data-[state=open]:animate-none data-[state=closed]:animate-none",onClick:t,style:{animation:"none"},children:[l.jsx("button",{onClick:n=>{n.stopPropagation(),t()},className:"absolute top-4 right-4 z-50 bg-black/50 text-white p-1.5 rounded-full hover:bg-black/70",style:{marginTop:"env(safe-area-inset-top)"},"aria-label":"Fermer",children:l.jsx(ho,{size:20})}),l.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{paddingTop:"env(safe-area-inset-top)",paddingBottom:"env(safe-area-inset-bottom)"},children:e.media_type==="video"||typeof e.url=="string"&&e.url.endsWith(".mp4")?l.jsx("video",{src:e.url,controls:!0,autoPlay:!0,className:"max-w-full max-h-full object-contain rounded-lg",onClick:r}):l.jsx("img",{src:e.url,alt:e.alt_text||"Média privé",className:"max-w-full max-h-full object-contain rounded-lg",onClick:r})})]})})},r3=()=>{var N,I;const{userId:e,galleryId:t}=kl(),r=_e(),{toast:n}=Ee(),{currentUser:s,updateWalletBalance:i,unlockedMedia:o,addUnlockedMediaItem:a,loading:c,unlockedGalleries:u}=$e(),[d,f]=p.useState(null),[h,m]=p.useState([]),[w,y]=p.useState(null),[b,v]=p.useState(!0),[g,x]=p.useState(!1),[S,j]=p.useState(null),[P,k]=p.useState(null),C=p.useCallback(async()=>{var ge,Ve,Ie;if(c||!(s!=null&&s.id))return;v(!0);const{data:A,error:H}=await Oe.from("profiles").select("id, raw_user_meta_data").eq("id",e).single();let M;if(H||!A){const st=XA.find(qs=>qs.id===e);if(st)M={id:st.id,name:st.name,avatar:st.avatar};else if(e===s.id)M={id:s.id,name:s.name,avatar:s.profilePicture};else{n({title:"Erreur",description:"Propriétaire de la galerie non trouvé.",variant:"destructive"}),r(-1),v(!1);return}}else M={id:A.id,name:((ge=A.raw_user_meta_data)==null?void 0:ge.full_name)||((Ve=A.raw_user_meta_data)==null?void 0:Ve.name)||"Utilisateur",avatar:(Ie=A.raw_user_meta_data)==null?void 0:Ie.avatar_url};f(M);const{data:z,error:B}=await Oe.from("user_galleries").select("*").eq("id",t).eq("user_id",e).single();if(B||!z){n({title:"Erreur",description:"Galerie non trouvée ou accès non autorisé.",variant:"destructive"}),v(!1);return}if(y(z),!((u||[]).includes(t)||e===s.id)&&z.price>0){n({title:"Galerie Verrouillée",description:"Vous devez d'abord débloquer cette galerie.",variant:"destructive"}),r("/galleries"),v(!1);return}const{data:U,error:X}=await Oe.from("private_gallery_media").select("*").eq("gallery_id",t);X?(console.error("Error fetching gallery media:",X),n({title:"Erreur de chargement",description:"Impossible de charger les médias de la galerie.",variant:"destructive"}),m([])):m(U||[]),v(!1)},[e,t,s,c,n,r,u]);p.useEffect(()=>{C()},[C]);const E=()=>{if(S){if(!S.price||S.price===0){a(S.id),x(!1),k(S),n({title:"Média disponible!",description:"Vous pouvez voir ce média.",className:"bg-green-500 text-white"});return}if(s.walletBalance<S.price){n({title:"Solde insuffisant",description:`Vous avez besoin de ${S.price}€ pour débloquer ce média.`,variant:"destructive"}),x(!1),r("/wallet");return}i(-S.price),a(S.id),x(!1),k(S),n({title:"Média débloqué!",description:`Vous avez payé ${S.price}€ et avez accès à ce média.`,className:"bg-green-500 text-white"})}},_=A=>{o.includes(A.id)||e===s.id||w&&w.price===0||A.price===0?k(A):(j(A),x(!0))},R=()=>{k(null)};if(b||c)return l.jsx("div",{className:"h-full w-full bg-slate-900 flex items-center justify-center text-white",children:"Chargement de la galerie..."});if(!d||!w)return l.jsx("div",{className:"h-full w-full bg-slate-900 flex items-center justify-center text-white",children:"Galerie introuvable ou accès refusé."});const T=(w==null?void 0:w.name)||`Galerie de ${d.name}`,O=(w==null?void 0:w.cover_image_url)||d.avatar||"https://source.unsplash.com/random/400x300/?abstract";return l.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col h-full bg-gradient-to-b from-background to-slate-900 text-white overflow-y-auto no-scrollbar",children:[l.jsxs("header",{className:"p-3 flex items-center justify-between bg-black/50 backdrop-blur-sm sticky top-0 z-10 border-b border-slate-700",children:[l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>r(-1),className:"text-gray-300 hover:text-white",children:l.jsx(Zt,{size:28})}),l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-lg font-semibold text-gradient-heresse truncate max-w-[200px]",children:T}),l.jsxs("p",{className:"text-xs text-gray-400",children:["Par ",d.name]})]}),l.jsxs("div",{className:"w-10",children:[" "," "]})]}),h.length===0&&l.jsxs("div",{className:"relative aspect-video w-full",children:[l.jsx("img",{src:O,alt:`Couverture de ${T}`,className:"w-full h-full object-cover blur-md opacity-50"}),l.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center p-6 text-center",children:[l.jsx(Es,{size:48,className:"text-primary mb-4"}),l.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Galerie Vide"}),l.jsxs("p",{className:"text-gray-300 mb-4 text-sm",children:[d.name," n'a pas encore ajouté de médias à cette galerie."]})]})]}),h.length>0&&l.jsx("div",{className:"p-2 grid grid-cols-2 sm:grid-cols-3 gap-1.5",children:h.map((A,H)=>{const M=o.includes(A.id)||e===s.id||w&&w.price===0||A.price===0;return l.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:H*.05},className:"relative aspect-square rounded-lg overflow-hidden group cursor-pointer bg-slate-800",onClick:()=>_(A),children:[l.jsx("img",{src:A.url,alt:A.alt_text||`Média ${H+1}`,className:`w-full h-full object-cover transition-all duration-300 ${M?"":"blur-md group-hover:blur-sm"}`}),!M&&l.jsxs("div",{className:"absolute inset-0 bg-black/50 flex flex-col items-center justify-center p-2 text-center",children:[l.jsx(Gt,{size:24,className:"text-primary mb-1"}),l.jsx("p",{className:"text-xs font-semibold text-white",children:"Débloquer"}),A.price>0&&l.jsxs("p",{className:"text-[10px] text-gray-300",children:[A.price,"€"]}),A.price===0&&l.jsx("p",{className:"text-[10px] text-gray-300",children:"Gratuit"})]}),M&&l.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:l.jsx(Zi,{size:32,className:"text-white"})})]},A.id)})}),l.jsx(bo,{open:g,onOpenChange:x,children:l.jsxs(Hs,{className:"bg-slate-800 border-slate-700 text-white max-w-xs rounded-xl",children:[l.jsx(So,{className:"p-4 pb-0",children:l.jsx(jo,{className:"text-gradient-heresse text-lg mb-2",children:"Débloquer ce Média"})}),l.jsxs("div",{className:"p-4 text-center",children:[l.jsxs("p",{className:"text-sm text-gray-300 mb-1",children:["Média de ",d==null?void 0:d.name,"."]}),(S==null?void 0:S.price)>0&&l.jsxs("p",{className:"text-sm text-gray-300 mb-3",children:["Prix: ",l.jsxs("span",{className:"font-bold text-primary",children:[(N=S==null?void 0:S.price)==null?void 0:N.toFixed(2),"€"]})]}),l.jsx("img",{src:(S==null?void 0:S.url)||"https://source.unsplash.com/random/400x300/?abstract,blurred&sig=dialogunlock"+(S==null?void 0:S.id),alt:"Aperçu flouté",className:"w-full aspect-square object-cover rounded-md blur-lg opacity-70 mb-3"}),l.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["Solde actuel: ",l.jsxs("span",{className:"font-bold text-white",children:[s.walletBalance.toFixed(2),"€"]})]}),l.jsxs("div",{className:"flex justify-end space-x-2",children:[l.jsx(D,{variant:"ghost",onClick:()=>x(!1),className:"text-gray-400 hover:text-white",children:"Annuler"}),l.jsx(D,{onClick:E,disabled:s.walletBalance<((S==null?void 0:S.price)||0)&&(S==null?void 0:S.price)>0,className:"bg-primary hover:bg-primary/90 text-white",children:(S==null?void 0:S.price)>0?l.jsxs(l.Fragment,{children:[l.jsx(Qi,{size:16,className:"mr-1.5"})," Payer ",(I=S==null?void 0:S.price)==null?void 0:I.toFixed(2),"€"]}):l.jsxs(l.Fragment,{children:[l.jsx(Zi,{size:16,className:"mr-1.5"})," Voir (Gratuit)"]})})]})]})]})}),l.jsx(t3,{mediaItem:P,onClose:R})]})},Vh=Y.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Vh.displayName="Textarea";function Gb(e,[t,r]){return Math.min(r,Math.max(t,e))}var n3=p.createContext(void 0);function s3(e){const t=p.useContext(n3);return e||t||"ltr"}var Hb=["PageUp","PageDown"],Wb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],qb={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ws="Slider",[Od,i3,o3]=Ey(Ws),[Kb,sI]=On(Ws,[o3]),[a3,sc]=Kb(Ws),Yb=p.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:i=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[n],value:d,onValueChange:f=()=>{},onValueCommit:h=()=>{},inverted:m=!1,form:w,...y}=e,b=p.useRef(new Set),v=p.useRef(0),x=o==="horizontal"?l3:c3,[S=[],j]=Cl({prop:d,defaultProp:u,onChange:R=>{var O;(O=[...b.current][v.current])==null||O.focus(),f(R)}}),P=p.useRef(S);function k(R){const T=p3(S,R);_(R,T)}function C(R){_(R,v.current)}function E(){const R=P.current[v.current];S[v.current]!==R&&h(S)}function _(R,T,{commit:O}={commit:!1}){const N=y3(i),I=x3(Math.round((R-n)/i)*i+n,N),A=Gb(I,[n,s]);j((H=[])=>{const M=f3(H,A,T);if(v3(M,c*i)){v.current=M.indexOf(A);const z=String(M)!==String(H);return z&&O&&h(M),z?M:H}else return H})}return l.jsx(a3,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:v,thumbs:b.current,values:S,orientation:o,form:w,children:l.jsx(Od.Provider,{scope:e.__scopeSlider,children:l.jsx(Od.Slot,{scope:e.__scopeSlider,children:l.jsx(x,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:t,onPointerDown:oe(y.onPointerDown,()=>{a||(P.current=S)}),min:n,max:s,inverted:m,onSlideStart:a?void 0:k,onSlideMove:a?void 0:C,onSlideEnd:a?void 0:E,onHomeKeyDown:()=>!a&&_(n,0,{commit:!0}),onEndKeyDown:()=>!a&&_(s,S.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:T})=>{if(!a){const I=Hb.includes(R.key)||R.shiftKey&&Wb.includes(R.key)?10:1,A=v.current,H=S[A],M=i*I*T;_(H+M,A,{commit:!0})}}})})})})});Yb.displayName=Ws;var[Jb,Xb]=Kb(Ws,{startEdge:"left",endEdge:"right",size:"width",direction:1}),l3=p.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:i,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:u,...d}=e,[f,h]=p.useState(null),m=Ce(t,x=>h(x)),w=p.useRef(void 0),y=s3(s),b=y==="ltr",v=b&&!i||!b&&i;function g(x){const S=w.current||f.getBoundingClientRect(),j=[0,S.width],k=Fh(j,v?[r,n]:[n,r]);return w.current=S,k(x-S.left)}return l.jsx(Jb,{scope:e.__scopeSlider,startEdge:v?"left":"right",endEdge:v?"right":"left",direction:v?1:-1,size:"width",children:l.jsx(Qb,{dir:y,"data-orientation":"horizontal",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:x=>{const S=g(x.clientX);o==null||o(S)},onSlideMove:x=>{const S=g(x.clientX);a==null||a(S)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:x=>{const j=qb[v?"from-left":"from-right"].includes(x.key);u==null||u({event:x,direction:j?-1:1})}})})}),c3=p.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:i,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...u}=e,d=p.useRef(null),f=Ce(t,d),h=p.useRef(void 0),m=!s;function w(y){const b=h.current||d.current.getBoundingClientRect(),v=[0,b.height],x=Fh(v,m?[n,r]:[r,n]);return h.current=b,x(y-b.top)}return l.jsx(Jb,{scope:e.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:l.jsx(Qb,{"data-orientation":"vertical",...u,ref:f,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=w(y.clientY);i==null||i(b)},onSlideMove:y=>{const b=w(y.clientY);o==null||o(b)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:y=>{const v=qb[m?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:v?-1:1})}})})}),Qb=p.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...u}=e,d=sc(Ws,r);return l.jsx(ie.span,{...u,ref:t,onKeyDown:oe(e.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(a(f),f.preventDefault()):Hb.concat(Wb).includes(f.key)&&(c(f),f.preventDefault())}),onPointerDown:oe(e.onPointerDown,f=>{const h=f.target;h.setPointerCapture(f.pointerId),f.preventDefault(),d.thumbs.has(h)?h.focus():n(f)}),onPointerMove:oe(e.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&s(f)}),onPointerUp:oe(e.onPointerUp,f=>{const h=f.target;h.hasPointerCapture(f.pointerId)&&(h.releasePointerCapture(f.pointerId),i(f))})})}),Zb="SliderTrack",eS=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=sc(Zb,r);return l.jsx(ie.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});eS.displayName=Zb;var zd="SliderRange",tS=p.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=sc(zd,r),i=Xb(zd,r),o=p.useRef(null),a=Ce(t,o),c=s.values.length,u=s.values.map(h=>sS(h,s.min,s.max)),d=c>1?Math.min(...u):0,f=100-Math.max(...u);return l.jsx(ie.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...e.style,[i.startEdge]:d+"%",[i.endEdge]:f+"%"}})});tS.displayName=zd;var $d="SliderThumb",rS=p.forwardRef((e,t)=>{const r=i3(e.__scopeSlider),[n,s]=p.useState(null),i=Ce(t,a=>s(a)),o=p.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return l.jsx(u3,{...e,ref:i,index:o})}),u3=p.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...i}=e,o=sc($d,r),a=Xb($d,r),[c,u]=p.useState(null),d=Ce(t,g=>u(g)),f=c?o.form||!!c.closest("form"):!0,h=G1(c),m=o.values[n],w=m===void 0?0:sS(m,o.min,o.max),y=h3(n,o.values.length),b=h==null?void 0:h[a.size],v=b?m3(b,w,a.direction):0;return p.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${w}% + ${v}px)`},children:[l.jsx(Od.ItemSlot,{scope:e.__scopeSlider,children:l.jsx(ie.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:d,style:m===void 0?{display:"none"}:e.style,onFocus:oe(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&l.jsx(nS,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},n)]})});rS.displayName=$d;var d3="RadioBubbleInput",nS=p.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=p.useRef(null),i=Ce(s,n),o=U1(t);return p.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(f)}},[o,t]),l.jsx(ie.input,{style:{display:"none"},...r,ref:i,defaultValue:t})});nS.displayName=d3;function f3(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,i)=>s-i)}function sS(e,t,r){const i=100/(r-t)*(e-t);return Gb(i,[0,100])}function h3(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function p3(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function m3(e,t,r){const n=e/2,i=Fh([0,50],[0,n]);return(n-i(t)*r)*r}function g3(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function v3(e,t){if(t>0){const r=g3(e);return Math.min(...r)>=t}return!0}function Fh(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function y3(e){return(String(e).split(".")[1]||"").length}function x3(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var iS=Yb,w3=eS,b3=tS,S3=rS;const pi=Y.forwardRef(({className:e,...t},r)=>l.jsxs(iS,{ref:r,className:W("relative flex w-full touch-none select-none items-center group",e),...t,children:[l.jsx(w3,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary/20",children:l.jsx(b3,{className:"absolute h-full bg-primary group-hover:bg-primary-hover transition-colors"})}),(Array.isArray(t.value)?t.value:[t.value]).map((n,s)=>l.jsx(S3,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-hover:border-primary-hover"},s))]}));pi.displayName=iS.displayName;const j3=()=>{const e=_e(),{toast:t}=Ee(),{currentUser:r,setCurrentUser:n,updateUserSettings:s}=$e(),[i,o]=p.useState(""),[a,c]=p.useState(""),[u,d]=p.useState(""),[f,h]=p.useState([25]),[m,w]=p.useState([18,35]),[y,b]=p.useState(!0),[v,g]=p.useState(!0),[x,S]=p.useState(2),[j,P]=p.useState(1);p.useEffect(()=>{var E,_,R,T,O,N,I;r&&(o(r.name||""),c(r.bio||""),d(((E=r.settings)==null?void 0:E.city)||"Paris"),h(((_=r.settings)==null?void 0:_.searchRadius)||[25]),w(((R=r.settings)==null?void 0:R.ageRange)||[18,35]),b(((T=r.settings)==null?void 0:T.showAge)!==!1),g(((O=r.settings)==null?void 0:O.showDistance)!==!1),S(((N=r.settings)==null?void 0:N.liveCallCost)||2),P(((I=r.settings)==null?void 0:I.minLiveCallDuration)||1))},[r]);const k=()=>{s({name:i,bio:a,city:u,searchRadius:f,ageRange:m,showAge:y,showDistance:v,liveCallCost:x,minLiveCallDuration:j}),n(E=>({...E,name:i,bio:a})),t({title:"Paramètres sauvegardés",description:"Vos préférences ont été mises à jour."}),e("/profile")},C=({icon:E,title:_,children:R})=>l.jsxs("div",{className:"py-3 border-b border-slate-700/60",children:[l.jsxs("div",{className:"flex items-center mb-1.5",children:[l.jsx(E,{size:18,className:"mr-2.5 text-primary"}),l.jsx("h4",{className:"text-sm font-semibold text-gray-200",children:_})]}),l.jsx("div",{className:"pl-7 space-y-2 text-xs",children:R})]});return r?l.jsxs(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"pb-16 bg-gradient-to-b from-background to-slate-900 text-white min-h-full",children:[l.jsxs("header",{className:"p-3 flex items-center justify-between bg-background/80 backdrop-blur-sm sticky top-0 z-10 border-b border-border",children:[l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-300 hover:text-white",children:l.jsx(Zt,{size:28})}),l.jsx("h1",{className:"text-lg font-bold text-gradient-heresse",children:"Paramètres"}),l.jsx(D,{variant:"ghost",size:"icon",onClick:k,className:"text-primary hover:text-primary-hover",children:l.jsx(cx,{size:22})})]}),l.jsxs("div",{className:"p-3 space-y-1",children:[l.jsxs(C,{icon:hx,title:"Profil Public",children:[l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"name",className:"text-gray-400",children:"Nom d'affichage"})," ",l.jsx(me,{id:"name",value:i,onChange:E=>o(E.target.value),className:"bg-slate-700/80 mt-0.5 h-8 text-xs"})," "]}),l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"bio",className:"text-gray-400",children:"Bio (courte)"})," ",l.jsx(Vh,{id:"bio",value:a,onChange:E=>c(E.target.value),className:"bg-slate-700/80 mt-0.5 text-xs min-h-[60px]",maxLength:150})," "]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[" ",l.jsx(nl,{id:"showAge",checked:y,onCheckedChange:b,className:"border-primary data-[state=checked]:bg-primary"})," ",l.jsx(se,{htmlFor:"showAge",className:"text-gray-300",children:"Afficher mon âge sur mon profil"})," "]})]}),l.jsxs(C,{icon:ix,title:"Découverte",children:[l.jsxs("div",{children:[" ",l.jsx(se,{htmlFor:"city",className:"text-gray-400",children:"Ma ville"})," ",l.jsx(me,{id:"city",value:u,onChange:E=>d(E.target.value),className:"bg-slate-700/80 mt-0.5 h-8 text-xs"})," "]}),l.jsxs("div",{children:[" ",l.jsxs(se,{className:"text-gray-400",children:["Distance de recherche: ",f[0]," km"]})," ",l.jsx(pi,{value:f,max:100,step:1,onValueChange:h,className:"mt-1.5 [&>span:first-child]:h-1 [&>span:first-child_span]:h-1 [&>span:first-child_span]:bg-primary [&>span:first-child_a]:h-3.5 [&>span:first-child_a]:w-3.5 [&>span:first-child_a]:border-2"})," "]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[" ",l.jsx(nl,{id:"showDistance",checked:v,onCheckedChange:g,className:"border-primary data-[state=checked]:bg-primary"})," ",l.jsx(se,{htmlFor:"showDistance",className:"text-gray-300",children:"Afficher ma distance sur mon profil"})," "]})]}),l.jsx(C,{icon:__,title:"Préférences de Match",children:l.jsxs("div",{children:[" ",l.jsxs(se,{className:"text-gray-400",children:["Tranche d'âge: ",m[0]," - ",m[1]," ans"]})," ",l.jsx(pi,{value:m,min:18,max:70,step:1,onValueChange:w,className:"mt-1.5 [&>span:first-child]:h-1 [&>span:first-child_span]:h-1 [&>span:first-child_span]:bg-primary [&>span:first-child_a]:h-3.5 [&>span:first-child_a]:w-3.5 [&>span:first-child_a]:border-2"})," "]})}),l.jsxs(C,{icon:Qi,title:"Monétisation",children:[l.jsxs("div",{children:[" ",l.jsxs(se,{className:"text-gray-400",children:["Coût des appels Live (par minute): ",x,"€"]})," ",l.jsx(pi,{value:[x],min:0,max:5,step:.5,onValueChange:E=>S(E[0]),className:"mt-1.5 [&>span:first-child]:h-1 [&>span:first-child_span]:h-1 [&>span:first-child_span]:bg-primary [&>span:first-child_a]:h-3.5 [&>span:first-child_a]:w-3.5 [&>span:first-child_a]:border-2"})," "]}),l.jsxs("div",{children:[" ",l.jsxs(se,{className:"text-gray-400",children:["Durée minimale d'appel (pour être joint): ",j," min"]})," ",l.jsx(pi,{value:[j],min:1,max:10,step:1,onValueChange:E=>P(E[0]),className:"mt-1.5 [&>span:first-child]:h-1 [&>span:first-child_span]:h-1 [&>span:first-child_span]:bg-primary [&>span:first-child_a]:h-3.5 [&>span:first-child_a]:w-3.5 [&>span:first-child_a]:border-2"})," "]})]}),l.jsx(C,{icon:o_,title:"Notifications",children:l.jsx("p",{className:"text-gray-400",children:"Gérer les notifications (Bientôt disponible)"})}),l.jsx(C,{icon:v_,title:"Apparence",children:l.jsx("p",{className:"text-gray-400",children:"Changer le thème (Bientôt disponible)"})}),l.jsxs(C,{icon:S_,title:"Sécurité et Confidentialité",children:[l.jsx(D,{variant:"link",className:"text-primary p-0 h-auto text-xs hover:underline",children:"Gérer les appareils connectés"}),l.jsx("br",{}),l.jsx(D,{variant:"link",className:"text-primary p-0 h-auto text-xs hover:underline",children:"Changer le mot de passe"})]}),l.jsxs(C,{icon:h_,title:"Aide et Support",children:[l.jsx(D,{variant:"link",className:"text-primary p-0 h-auto text-xs hover:underline",children:"FAQ"}),l.jsx("br",{}),l.jsx(D,{variant:"link",className:"text-primary p-0 h-auto text-xs hover:underline",children:"Contacter le support"})]}),l.jsx("div",{className:"pt-4",children:l.jsxs(D,{variant:"destructiveOutline",className:"w-full text-red-400 border-red-400/50 hover:bg-red-400/10 hover:text-red-300 h-9 text-xs",onClick:()=>{e("/login")},children:[l.jsx(nx,{size:14,className:"mr-2"})," Se Déconnecter"]})})]})]}):l.jsx("div",{className:"flex items-center justify-center h-full text-white",children:"Chargement..."})},k3=()=>{const e=_e(),{toast:t}=Ee(),{currentUser:r,updateWalletBalance:n}=$e(),[s,i]=p.useState(20),o=.2,a=[5,10,20,50,100],c=s*(1+o),u=()=>{if(s<=0){t({title:"Montant invalide",description:"Veuillez entrer un montant positif.",variant:"destructive"});return}t({title:"Redirection vers le paiement...",description:`Simulation du processus de paiement pour ${c.toFixed(2)}€ (TVA incluse).`}),setTimeout(()=>{n(s),t({title:"Portefeuille rechargé!",description:`${s.toFixed(2)}€ (HT) ont été ajoutés à votre portefeuille.`,className:"bg-green-500 text-white border-green-600"})},2e3)};return l.jsxs(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"p-3 space-y-6 bg-gradient-to-b from-background to-slate-900 text-white min-h-full overflow-y-auto no-scrollbar",children:[l.jsxs("div",{className:"text-center pt-2",children:[l.jsx(px,{size:48,className:"mx-auto mb-3 text-primary"}),l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Mon Portefeuille"}),l.jsxs("p",{className:"text-4xl font-extrabold text-gradient-heresse mt-1",children:[r.walletBalance.toFixed(2)," €"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Solde actuel"})]}),l.jsxs("div",{className:"bg-slate-800/70 p-4 rounded-xl shadow-xl space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-center text-white",children:"Recharger votre solde"}),l.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-5 gap-1.5",children:a.map(d=>l.jsxs(D,{variant:s===d?"default":"outline",onClick:()=>i(d),className:W("py-2 text-sm border-primary/50 text-primary hover:bg-primary/10 hover:text-primary-hover h-auto",s===d&&"bg-primary text-primary-foreground hover:bg-primary-hover"),children:[d,"€"]},d))}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"customAmount",className:"text-gray-300 text-xs mb-0.5 block",children:"Ou montant personnalisé (HT)"}),l.jsx(me,{id:"customAmount",type:"number",value:s,onChange:d=>i(parseFloat(d.target.value)||0),min:"1",placeholder:"Ex: 25",className:"bg-slate-700 border-slate-600 text-white placeholder-gray-400 focus:ring-primary focus:border-primary text-base py-2 h-10"})]}),l.jsxs("div",{className:"text-xs text-gray-400 bg-slate-700/50 p-2.5 rounded-md space-y-0.5",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Montant HT:"})," ",l.jsxs("span",{className:"font-medium text-white",children:[s.toFixed(2)," €"]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"TVA (20%):"})," ",l.jsxs("span",{className:"font-medium text-white",children:[(s*o).toFixed(2)," €"]})]}),l.jsxs("div",{className:"flex justify-between font-bold text-sm border-t border-slate-600 pt-1 mt-1",children:[l.jsx("span",{children:"Total TTC:"})," ",l.jsxs("span",{className:"text-primary",children:[c.toFixed(2)," €"]})]})]}),l.jsxs("p",{className:"text-[10px] text-gray-400 text-center flex items-center justify-center",children:[l.jsx(rx,{size:12,className:"mr-1 text-primary shrink-0"}),"Transactions sécurisées via Stripe (simulation)."]}),l.jsxs(D,{onClick:u,className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-base py-2.5 rounded-full shadow-lg h-auto",children:[l.jsx(ex,{size:18,className:"mr-2"})," Payer ",c>0?`${c.toFixed(2)}€`:""]}),l.jsx("p",{className:"text-center text-[10px] text-gray-400",children:"Options de paiement simulées : CB, Stripe, Apple Pay, Google Pay."})]}),l.jsx("div",{className:"text-center mt-4",children:l.jsxs(D,{variant:"link",onClick:()=>e(-1),className:"text-gray-300 hover:text-white text-xs h-auto",children:[l.jsx(Zt,{size:16,className:"mr-0.5"})," Retour"]})})]})},Kn=({icon:e,label:t,value:r,unit:n,colorClass:s,delay:i})=>l.jsxs(q.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},className:`bg-slate-800/70 p-4 rounded-xl shadow-lg flex items-center space-x-3 ${s}`,children:[l.jsx("div",{className:"p-2.5 rounded-full bg-white/10",children:l.jsx(e,{size:24})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-300",children:t}),l.jsxs("p",{className:"text-xl font-bold text-white",children:[r," ",l.jsx("span",{className:"text-base",children:n})]})]})]}),C3=()=>{_e();const{currentUser:e}=$e(),{photosSold:t=0,revenueGenerated:r=0,nextTierGoal:n=10,livesCompleted:s=0,liveRevenueGenerated:i=0,avgLiveDurationMinutes:o=0}=e.stats||{};return l.jsxs(q.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"p-3 space-y-4 bg-gradient-to-b from-background to-slate-900 text-white min-h-full",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx(Kn,{icon:Qi,label:"Revenu Total (Photos)",value:r.toFixed(2),unit:"€",colorClass:"text-green-400",delay:.1}),l.jsx(Kn,{icon:Es,label:"Photos Achetées",value:t,unit:"photos",colorClass:"text-blue-400",delay:.2}),l.jsx(Kn,{icon:Yf,label:"Lives Réalisés",value:s,unit:"lives",colorClass:"text-purple-400",delay:.3}),l.jsx(Kn,{icon:Qi,label:"Revenu Total (Lives)",value:i.toFixed(2),unit:"€",colorClass:"text-teal-400",delay:.4}),l.jsx(Kn,{icon:u_,label:"Durée Moy. Live",value:o.toFixed(1),unit:"min",colorClass:"text-orange-400",delay:.5}),l.jsx(Kn,{icon:Zi,label:"Vues Profil (30j)",value:1250,unit:"vues",colorClass:"text-pink-400",delay:.6})]}),l.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"bg-slate-800/70 p-5 rounded-xl shadow-lg text-center",children:[l.jsx(dx,{size:28,className:"mx-auto mb-2 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Prochain Palier Vendeur"}),l.jsxs("p",{className:"text-xs text-gray-300 mb-2",children:["Vendez encore ",Math.max(0,n-t)," photos pour atteindre le prochain niveau !"]}),l.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2 mb-1",children:l.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-red-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(100,t/(n||1)*100)}%`}})}),l.jsxs("p",{className:"text-[10px] text-gray-400",children:[t," / ",n," photos vendues"]})]})]})},Qg=({icon:e,title:t,description:r,price:n,currentPlan:s,onSelectPlan:i,planKey:o,isActive:a,features:c=[]})=>l.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},className:`bg-slate-800/70 p-6 rounded-xl shadow-xl border-2 ${a?"border-primary":"border-transparent"} flex flex-col justify-between`,children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx(e,{size:32,className:`mr-3 ${a?"text-primary":"text-gray-400"}`}),l.jsx("h3",{className:"text-2xl font-bold text-white",children:t})]}),l.jsx("p",{className:"text-gray-300 text-sm mb-4",children:r}),l.jsx("ul",{className:"space-y-1.5 text-xs text-gray-300 mb-6",children:c.map((u,d)=>l.jsxs("li",{className:"flex items-center",children:[l.jsx(El,{size:14,className:"text-green-400 mr-2 flex-shrink-0"}),u]},d))})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-3xl font-extrabold text-gradient-heresse mb-1",children:n}),l.jsx("p",{className:"text-xs text-gray-400 mb-4",children:"par mois"}),l.jsx(D,{onClick:()=>i(o,n),className:`w-full ${a?"bg-primary/80 hover:bg-primary":"bg-gradient-to-r from-pink-500 to-red-600 hover:opacity-90"}`,disabled:a,children:a?"Plan Actuel":"Choisir ce plan"})]})]}),_3=()=>{const e=_e(),{currentUser:t,updatePremiumStatus:r,updateSubscription:n}=$e(),{toast:s}=Ee(),i=a=>{const c=!t.premiumStatus[a];if(c&&!t.premiumStatus.subscriptionType){s({title:"Abonnement Requis",description:`Vous devez avoir un abonnement pour activer le ${a==="safeMode"?"Mode Safe":"Mode Incognito"}.`,variant:"destructive"});return}r(a,c),s({title:`${a==="safeMode"?"Mode Safe":"Mode Incognito"} ${c?"activé":"désactivé"}`})},o=(a,c)=>{s({title:"Traitement...",description:`Souscription au plan ${a} pour ${c}/mois.`}),setTimeout(()=>{n(a),s({title:"Abonnement Activé!",description:`Vous êtes maintenant abonné au plan ${a}.`})},1500)};return l.jsxs(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"p-4 space-y-8 bg-gradient-to-b from-background to-slate-900 text-white min-h-full",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(eo,{size:56,className:"mx-auto mb-3 text-primary"}),l.jsx("h2",{className:"text-3xl font-bold text-white",children:"Passez à Premium"}),l.jsx("p",{className:"text-gray-400",children:"Débloquez des fonctionnalités exclusives pour une meilleure expérience."})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:`p-4 rounded-lg bg-slate-800/70 flex justify-between items-center shadow-md ${t.premiumStatus.safeMode?"border border-green-500/50":""}`,children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-lg text-white flex items-center",children:[l.jsx(Ka,{size:20,className:"mr-2 text-green-400"}),"Mode Safe"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Cachez votre profil à certains utilisateurs (simulation)."})]}),l.jsx(D,{onClick:()=>i("safeMode"),variant:t.premiumStatus.safeMode?"default":"outline",className:t.premiumStatus.safeMode?"bg-green-500 hover:bg-green-600":"border-primary/50 text-primary hover:bg-primary/10",children:t.premiumStatus.safeMode?"Activé":"Activer"})]}),l.jsxs("div",{className:`p-4 rounded-lg bg-slate-800/70 flex justify-between items-center shadow-md ${t.premiumStatus.incognitoMode?"border border-purple-500/50":""}`,children:[l.jsxs("div",{children:[l.jsxs("h4",{className:"font-semibold text-lg text-white flex items-center",children:[l.jsx(Tl,{size:20,className:"mr-2 text-purple-400"}),"Mode Incognito"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Apparaissez uniquement aux profils que vous avez likés."})]}),l.jsx(D,{onClick:()=>i("incognitoMode"),variant:t.premiumStatus.incognitoMode?"default":"outline",className:t.premiumStatus.incognitoMode?"bg-purple-500 hover:bg-purple-600":"border-primary/50 text-primary hover:bg-primary/10",children:t.premiumStatus.incognitoMode?"Activé":"Activer"})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsx(Qg,{icon:Ka,title:"Heresse Basic",description:"L'essentiel pour booster votre expérience.",price:"2,90€",currentPlan:t.premiumStatus.subscriptionType,onSelectPlan:o,planKey:"basic_monthly",isActive:t.premiumStatus.subscriptionType==="basic_monthly",features:["Mode Incognito","Filtres avancés","Support prioritaire (simulé)"]}),l.jsx(Qg,{icon:eo,title:"Heresse Pro",description:"L'expérience ultime pour maximiser vos rencontres et revenus.",price:"9,90€",currentPlan:t.premiumStatus.subscriptionType,onSelectPlan:o,planKey:"pro_monthly",isActive:t.premiumStatus.subscriptionType==="pro_monthly",features:["Tous les avantages Basic","Mode Safe","Boost de profil hebdomadaire (simulé)","Statistiques détaillées (simulé)"]})]}),l.jsx("div",{className:"text-center mt-8",children:l.jsxs(D,{variant:"link",onClick:()=>e(-1),className:"text-gray-300 hover:text-white",children:[l.jsx(Zt,{size:18,className:"mr-1"})," Retour"]})})]})},P3=()=>{const{currentUser:e,addProfilePhoto:t,deleteProfilePhoto:r,setMainProfilePicture:n,MAX_PROFILE_PHOTOS:s,MIN_PROFILE_PHOTOS:i}=$e(),{toast:o}=Ee();if(!e)return null;const a=()=>{if(e.profilePhotos.length>=s){o({title:"Limite atteinte",description:`Vous ne pouvez pas avoir plus de ${s} photos de profil.`,variant:"destructive"});return}const d={url:`https://source.unsplash.com/random/400x400/?person,model&sig=${Date.now()}`,alt:`Nouvelle photo de profil ${e.profilePhotos.length+1}`};t(d)&&o({title:"Nouvelle photo de profil ajoutée!"})},c=d=>{const f=e.profilePhotos.find(h=>h.id===d);if(f&&f.isVerified){o({title:"Action impossible",description:"La photo vérifiée ne peut pas être supprimée.",variant:"destructive"});return}if(e.profilePhotos.length<=i){o({title:"Action impossible",description:`Vous devez avoir au moins ${i} photo de profil.`,variant:"destructive"});return}r(d)?o({title:"Photo de profil supprimée",variant:"destructive"}):o({title:"Erreur",description:"Impossible de supprimer cette photo.",variant:"destructive"})},u=d=>{const f=e.profilePhotos.find(h=>h.id===d);if(f&&f.isVerified){o({title:"Info",description:"La photo vérifiée est toujours la photo principale par défaut si elle est la première."});return}if(e.profilePhotos[0].id===d&&e.profilePhotos[0].isVerified){o({title:"Info",description:"Cette photo est déjà votre photo de profil principale."});return}n(d)?o({title:"Photo de profil principale modifiée!"}):o({title:"Info",description:"Cette photo est déjà votre photo de profil principale ou une erreur est survenue."})};return l.jsxs("section",{className:"pt-4 border-t border-slate-700/50",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-200 mb-3",children:["Photos de Profil (",e.profilePhotos.length,"/",s,")"]}),l.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Gérez vos photos de profil. La première photo est votre photo principale. La photo vérifiée ne peut être supprimée."}),l.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2.5",children:[e.profilePhotos.map((d,f)=>l.jsxs(q.div,{layout:!0,className:"relative aspect-square rounded-lg overflow-hidden group shadow-lg",children:[l.jsx("img-replace",{src:d.url,alt:d.alt||`Photo de profil ${f+1}`,className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center space-y-1 p-1",children:[f!==0&&!d.isVerified&&l.jsxs(D,{size:"sm",variant:"outline",className:"bg-white/20 hover:bg-white/30 border-none text-white text-[10px] w-full",onClick:()=>u(d.id),children:[l.jsx(El,{size:12,className:"mr-1 text-green-400"})," Ppal"]}),!d.isVerified&&e.profilePhotos.length>i&&l.jsxs(D,{size:"sm",variant:"outline",className:"bg-red-500/40 hover:bg-red-500/60 border-none text-white text-[10px] w-full",onClick:()=>c(d.id),children:[l.jsx(Kf,{size:12,className:"mr-1"})," Suppr."]})]}),f===0&&l.jsx("div",{className:"absolute top-1 right-1 bg-primary text-white text-[9px] px-1.5 py-0.5 rounded-full font-semibold shadow-md",children:"Principale"}),d.isVerified&&l.jsxs("div",{className:"absolute bottom-1 left-1 bg-green-500 text-white text-[9px] px-1.5 py-0.5 rounded-full font-semibold shadow-md flex items-center",children:[l.jsx(Ka,{size:10,className:"mr-0.5"})," Vérifiée"]})]},d.id)),e.profilePhotos.length<s&&l.jsxs(q.button,{onClick:a,className:"aspect-square rounded-lg border-2 border-dashed border-primary/50 flex flex-col items-center justify-center text-primary hover:bg-primary/10 transition-colors",children:[l.jsx(qf,{size:28}),l.jsx("span",{className:"text-[10px] mt-1 text-center",children:"Ajouter Photo Profil"})]})]})]})},N3=()=>{const{currentUser:e,setCurrentUser:t,MAX_PRIVATE_GALLERY_ITEMS:r}=$e(),{toast:n}=Ee(),s=e.privateGalleries&&e.privateGalleries.length>0?e.privateGalleries[0]:{id:`pg_${e.id}_default`,name:"Ma galerie privée",items:[],itemCount:0,price:5,coverImage:e.profilePhotos.length>0?e.profilePhotos[0].url:""},[i,o]=p.useState(s.name),[a,c]=p.useState(s.coverImage),[u,d]=p.useState(s.price),[f,h]=p.useState(s.items),[m,w]=p.useState(null),[y,b]=p.useState(0);p.useEffect(()=>{const k=e.privateGalleries&&e.privateGalleries.length>0?e.privateGalleries[0]:{id:`pg_${e.id}_default`,name:"Ma galerie privée",items:[],itemCount:0,price:5,coverImage:e.profilePhotos.length>0?e.profilePhotos[0].url:""};o(k.name),c(k.coverImage),d(k.price),h(k.items)},[e.privateGalleries,e.profilePhotos,e.id]);const v=async()=>{if(f.length>=r){n({title:"Limite atteinte",description:`Votre galerie privée ne peut pas contenir plus de ${r} médias.`,variant:"destructive"});return}const C={url:`https://source.unsplash.com/random/600x800/?boudoir,artistic&sig=${Date.now()}`,price:1,type:"photo",alt:"Nouveau média privé"};await jw(t,C,e.id,s.id),n({title:"Média ajouté à la galerie privée!"})},g=async k=>{await kw(t,k,e.id,s.id),n({title:"Média supprimé de la galerie",variant:"destructive"})},x=k=>{w(k),b(k.price)},S=async()=>{m&&(await Cw(t,m.id,y,e.id,s.id),n({title:"Prix du média mis à jour!"}),w(null))},j=async()=>{const k=a||(e.profilePhotos.length>0?e.profilePhotos[0].url:"");if(!k&&f.length>0){n({title:"Couverture manquante",description:"Veuillez sélectionner une photo de profil ou un média de galerie comme couverture.",variant:"destructive"});return}const C={id:s.id,name:i,coverImage:k,price:u,items:f};await Sw(t,C,e.id),n({title:"Paramètres de la galerie enregistrés!"})},P=k=>{c(k),n({title:"Image sélectionnée comme couverture de galerie."})};return l.jsxs("section",{className:"pt-4 border-t border-slate-700/50",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-200 mb-3",children:["Galerie Privée (",f.length,"/",r,")"]}),l.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"Gérez les médias de votre galerie privée accessible par abonnement ou achat individuel."}),l.jsxs("div",{className:"space-y-3 p-3 bg-slate-800/30 rounded-lg",children:[l.jsxs("div",{children:[l.jsx(se,{htmlFor:"galleryName",className:"text-sm",children:"Nom de la Galerie"}),l.jsx(me,{id:"galleryName",type:"text",value:i,onChange:k=>o(k.target.value),placeholder:"Ex: Mes plus belles photos",className:"bg-slate-700 border-slate-600 mt-1"})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"galleryCover",className:"text-sm",children:"Image de Couverture de la Galerie"}),l.jsx("div",{className:"mt-1 aspect-[16/9] rounded-md bg-slate-700 overflow-hidden flex items-center justify-center",children:a?l.jsx("img-replace",{src:a,alt:"Couverture Galerie",className:"w-full h-full object-cover"}):l.jsx(Es,{size:40,className:"text-slate-500"})}),l.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Sélectionnez une de vos photos de profil ou un média de la galerie ci-dessous (bouton 'Couverture')."})]}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"galleryPrice",className:"text-sm",children:"Prix d'Accès à la Galerie (€)"}),l.jsx(me,{id:"galleryPrice",type:"number",value:u,onChange:k=>d(parseFloat(k.target.value)||0),min:"0",step:"1",className:"bg-slate-700 border-slate-600 mt-1"}),l.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Optionnel. Si 0€, les médias sont vendus individuellement."})]}),l.jsxs(D,{onClick:j,className:"w-full bg-gradient-to-r from-indigo-500 to-purple-600 hover:opacity-90 text-xs",children:[l.jsx(Gt,{size:14,className:"mr-2"})," Enregistrer les Paramètres de la Galerie"]})]}),l.jsx("h3",{className:"text-md font-semibold text-gray-300 mt-4 mb-2",children:"Contenu de la Galerie"}),l.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2.5",children:[f.map((k,C)=>l.jsxs(q.div,{layout:!0,className:"relative aspect-[3/4] rounded-lg overflow-hidden group shadow-lg",children:[l.jsx("img-replace",{src:k.url,alt:k.alt||`Média galerie ${C+1}`,className:"w-full h-full object-cover"}),l.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center space-y-1 p-1",children:[l.jsxs(D,{size:"sm",variant:"outline",className:"bg-white/20 hover:bg-white/30 border-none text-white text-[10px] w-full",onClick:()=>P(k.url),children:[l.jsx(Es,{size:12,className:"mr-1"})," Couverture"]}),l.jsxs(D,{size:"sm",variant:"outline",className:"bg-white/20 hover:bg-white/30 border-none text-white text-[10px] w-full",onClick:()=>x(k),children:[l.jsx(ax,{size:12,className:"mr-1"})," Prix: ",k.price,"€"]}),l.jsxs(D,{size:"sm",variant:"outline",className:"bg-red-500/40 hover:bg-red-500/60 border-none text-white text-[10px] w-full",onClick:()=>g(k.id),children:[l.jsx(Kf,{size:12,className:"mr-1"})," Suppr."]})]}),l.jsxs("div",{className:"absolute bottom-1 right-1 bg-black/50 text-white text-[9px] px-1 py-0.5 rounded-full font-semibold",children:[k.price,"€"]})]},`gallery-${k.id}`)),f.length<r&&l.jsxs(q.button,{onClick:v,className:"aspect-[3/4] rounded-lg border-2 border-dashed border-purple-500/70 flex flex-col items-center justify-center text-purple-400 hover:bg-purple-500/10 transition-colors",children:[l.jsx(fx,{size:28}),l.jsx("span",{className:"text-[10px] mt-1 text-center",children:"Ajouter Média Galerie"})]})]}),f.length===0&&l.jsx("p",{className:"text-xs text-gray-500 text-center py-4",children:"Votre galerie privée est vide. Ajoutez des médias exclusifs !"}),m&&l.jsx(bo,{open:!!m,onOpenChange:()=>w(null),children:l.jsxs(Hs,{className:"bg-slate-800 border-slate-700 text-white",children:[l.jsx(So,{children:l.jsx(jo,{children:"Modifier Média de Galerie"})}),l.jsx("img-replace",{src:m.url,alt:"Aperçu média",className:"rounded-md max-h-60 object-contain mx-auto my-3"}),l.jsxs("div",{children:[l.jsx(se,{htmlFor:"galleryItemPrice",children:"Prix du média (€)"}),l.jsx(me,{id:"galleryItemPrice",type:"number",value:y,onChange:k=>b(parseFloat(k.target.value)),min:"0",step:"0.5",className:"bg-slate-700 mt-1"})]}),l.jsxs(jb,{children:[l.jsx(D,{variant:"ghost",onClick:()=>w(null),children:"Annuler"}),l.jsx(D,{onClick:S,children:"Enregistrer Prix"})]})]})})]})},E3=()=>{const{currentUser:e,updateBio:t}=$e(),{toast:r}=Ee(),[n,s]=p.useState("");if(p.useEffect(()=>{e&&typeof e.bio<"u"&&s(e.bio)},[e]),!e)return l.jsx("div",{className:"flex items-center justify-center h-full p-4 text-white bg-gradient-to-b from-background to-slate-900",children:l.jsx("p",{children:"Chargement des informations utilisateur..."})});const i=()=>{t(n),r({title:"Bio mise à jour !"})},o=e.name?e.name.split(" ")[0]:"Utilisateur";return l.jsxs(q.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"p-3 space-y-5 bg-gradient-to-b from-background to-slate-900 text-white min-h-full overflow-y-auto no-scrollbar pb-16",children:[l.jsxs("header",{className:"text-center mb-4 pt-2",children:[l.jsxs("h1",{className:"text-2xl font-bold text-gradient-heresse",children:["Gérer le Profil de ",o]}),l.jsx("p",{className:"text-sm text-gray-400",children:"Modifiez vos photos, votre galerie privée et votre bio."})]}),l.jsx(P3,{}),l.jsx(N3,{}),l.jsxs("section",{className:"pt-4 border-t border-slate-700/50",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-200 mb-3",children:"Ma Bio"}),l.jsxs("p",{className:"text-xs text-gray-400 mb-3",children:["Racontez quelque chose d'intéressant sur vous. Votre nom d'utilisateur (",o,") n'est pas modifiable."]}),l.jsx(Vh,{value:n,onChange:a=>s(a.target.value),placeholder:"Écrivez votre bio ici...",className:"bg-slate-800 border-slate-700 min-h-[100px] text-sm",maxLength:250}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsxs("p",{className:"text-xs text-gray-500",children:[n.length," / 250 caractères"]}),l.jsxs(D,{onClick:i,size:"sm",className:"bg-primary hover:bg-primary-hover text-xs",children:[l.jsx(cx,{size:14,className:"mr-1.5"})," Enregistrer Bio"]})]})]})]})},Xe=({isAuthenticated:e,isKycComplete:t,children:r})=>{const n=Dn();return e?!t&&n.pathname!=="/kyc"?l.jsx(mt,{to:"/kyc",state:{from:n},replace:!0}):r:l.jsx(mt,{to:"/landing",state:{from:n},replace:!0})},ai=({to:e,icon:t,label:r,isActive:n,notificationCount:s})=>{let i=s;return s>99&&(i="99+"),l.jsxs(ft,{to:e,className:"flex flex-col items-center justify-center space-y-1 relative p-1 w-1/5 h-full",children:[l.jsx(t,{className:`w-5 h-5 transition-colors ${n?"text-primary":"text-gray-400 hover:text-gray-300"}`}),l.jsx("span",{className:`text-[10px] transition-colors ${n?"text-primary":"text-gray-400 hover:text-gray-300"}`,children:r}),s>0&&l.jsx(Aw,{variant:"destructive",className:"absolute top-[-2px] right-[calc(50%-22px)] sm:right-[calc(50%-20px)] text-[9px] h-4 min-w-[16px] px-1 flex items-center justify-center rounded-full shadow-md",children:i})]})},T3=({onLogout:e,isAuthenticated:t,isKycComplete:r})=>{const n=Dn(),s=_e(),{currentUser:i}=$e(),o=()=>{e&&e()};if(!t&&n.pathname!=="/landing"&&n.pathname!=="/login"&&n.pathname!=="/signup"&&n.pathname!=="/kyc")return l.jsx(mt,{to:"/landing",replace:!0});if(t&&!r&&n.pathname!=="/kyc")return l.jsx(mt,{to:"/kyc",replace:!0});const a=n.pathname.startsWith("/chat/"),c=n.pathname==="/chat",u=n.pathname==="/profile"&&!n.pathname.startsWith("/profile/"),d=n.pathname==="/profile/my-photos",f=n.pathname.includes("/gallery/")&&n.pathname.startsWith("/profile/"),h=n.pathname.startsWith("/profile/")&&!u&&!d&&!f,m=n.pathname==="/",w=n.pathname==="/settings",y=n.pathname==="/wallet",b=n.pathname==="/dashboard",v=n.pathname==="/premium",g=n.pathname==="/galleries",x=n.pathname.startsWith("/galleries/")&&n.pathname!=="/galleries",S=n.pathname==="/stories/create",j=n.pathname.startsWith("/stories/")&&!S,P=n.pathname==="/kyc";let k="Heresse",C=!1,E=!1;m?(k="Heresse",E=!0):n.pathname==="/matches"?(k="Matchs",E=!0):c?(k="Messages",E=!0):g?(k="Galeries",C=!1,E=!0):x?(k="Galerie",C=!0):u?(k="Mon Profil",E=!0):d?(k="Mes Photos",C=!0):f?(k="Ma Galerie Privée",C=!0):h?(k="Profil",C=!0):w?(k="Paramètres",C=!0):y?(k="Portefeuille",C=!0):b?(k="Tableau de Bord",C=!0):v?(k="Modes Premium",C=!0):S?(k="Créer une Story",C=!0):j?(k="Story",C=!0):P&&(k="Vérification d'Identité",C=!1,E=!0);const _=!a&&!j&&!P,R=!a&&!h&&!d&&!S&&!j&&!w&&!y&&!b&&!v&&!f&&!P,T=R?"pb-[calc(56px+env(safe-area-inset-bottom))]":"pb-0",O=_?"pt-[calc(3.5rem+env(safe-area-inset-top))]":"pt-0",N=m||j||a||P||c?"overflow-hidden":"overflow-y-auto",I="calc(3.5rem + env(safe-area-inset-top))";return l.jsxs("div",{className:"flex flex-col h-full bg-background text-foreground",children:[_&&l.jsxs("header",{className:"p-2.5 flex items-center justify-between bg-background/80 backdrop-blur-sm z-20 border-b border-border fixed top-0 left-0 right-0 max-w-md mx-auto",style:{paddingTop:"calc(0.625rem + env(safe-area-inset-top))",height:I},children:[l.jsxs("div",{className:"flex items-center min-w-0",children:[!E&&C&&l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>s(-1),className:"text-gray-300 hover:text-white mr-2 -ml-1 h-8 w-8",children:l.jsx(Zt,{size:22})}),!E&&!C&&l.jsx("div",{className:"w-7 h-7 mr-2 shrink-0"}),l.jsx("h1",{className:"text-lg font-semibold tracking-tight text-gradient-heresse truncate",children:k})]}),l.jsx("div",{className:"flex items-center space-x-0.5 shrink-0",children:u&&l.jsxs(l.Fragment,{children:[l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>s("/settings"),className:"text-gray-300 hover:text-white w-8 h-8",children:l.jsx(ux,{className:"w-4.5 h-4.5"})}),l.jsx(D,{variant:"ghost",size:"icon",onClick:o,className:"text-gray-300 hover:text-white w-8 h-8",children:l.jsx(nx,{className:"w-4.5 h-4.5"})})]})})]}),l.jsx("main",{className:`flex-grow ${N} ${T} ${O}`,children:l.jsx(q.div,{initial:{opacity:0,y:a||d||f||j||P?0:10},animate:{opacity:1,y:0},exit:{opacity:0,y:a||d||f||j||P?0:-10},transition:{duration:.18},className:"h-full",children:l.jsx(k2,{})},n.pathname)}),R&&l.jsx("nav",{className:"bg-background/90 backdrop-blur-sm py-1 px-2 border-t border-border shadow-lg fixed bottom-0 left-0 right-0 max-w-md mx-auto flex items-center z-30",style:{height:"calc(56px + env(safe-area-inset-bottom))",paddingBottom:"env(safe-area-inset-bottom)"},children:l.jsxs("div",{className:"flex justify-around items-center w-full h-[56px]",children:[l.jsx(ai,{to:"/",icon:p_,label:"Découvrir",isActive:n.pathname==="/"}),l.jsx(ai,{to:"/matches",icon:fo,label:"Matchs",isActive:n.pathname==="/matches",notificationCount:(i==null?void 0:i.newMatchesCount)||0}),l.jsx(ai,{to:"/chat",icon:Rl,label:"Messages",isActive:c||a,notificationCount:(i==null?void 0:i.totalUnreadMessagesCount)||0}),l.jsx(ai,{to:"/galleries",icon:Gt,label:"Galeries",isActive:g||x}),l.jsx(ai,{to:"/profile",icon:hx,label:"Profil",isActive:n.pathname==="/profile"})]})})]})},R3=()=>{const e=_e(),{toast:t}=Ee(),{addStory:r}=$e(),[n,s]=p.useState(null),[i,o]=p.useState(null),[a,c]=p.useState(null),u=p.useRef(null),d=w=>{s(w),u.current.accept=w==="photo"?"image/*":"video/*",u.current.click()},f=w=>{const y=w.target.files[0];if(y){c(y);const b=new FileReader;b.onloadend=()=>{o(b.result)},b.readAsDataURL(y),t({title:`${n==="photo"?"Photo":"Vidéo"} capturée (simulation)!`,description:"Prête à être publiée."})}},h=()=>{if(!a||!n){t({title:"Erreur",description:"Aucun média à publier.",variant:"destructive"});return}const w={id:`story_${Date.now()}`,userId:"currentUser",userName:"Moi",type:n,url:i,timestamp:Date.now(),duration:n==="video"?7e3:5e3};r(w),t({title:"Story Publiée!",description:"Votre story est maintenant visible."}),e("/chat")},m=()=>{s(null),o(null),c(null),u.current&&(u.current.value=null)};return l.jsxs(q.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"flex flex-col h-full bg-black text-white overflow-hidden",children:[l.jsxs("header",{className:"p-3 flex items-center justify-between bg-black/80 backdrop-blur-sm sticky top-0 z-10",children:[l.jsx(D,{variant:"ghost",size:"icon",onClick:()=>e(-1),className:"text-gray-300 hover:text-white",children:l.jsx(Zt,{size:28})}),l.jsx("h1",{className:"text-lg font-semibold text-gradient-heresse",children:"Créer une Story"}),l.jsxs("div",{className:"w-10",children:[" "," "]})]}),l.jsx("div",{className:"flex-grow flex flex-col items-center justify-center p-4",children:i?l.jsxs("div",{className:"relative w-full aspect-[9/16] max-w-xs rounded-lg overflow-hidden bg-slate-800",children:[n==="photo"?l.jsx("img",{src:i,alt:"Aperçu Story",className:"w-full h-full object-cover"}):l.jsx("video",{src:i,controls:!0,autoPlay:!0,loop:!0,className:"w-full h-full object-cover",children:"Votre navigateur ne supporte pas les vidéos."}),l.jsx(D,{variant:"destructive",size:"icon",onClick:m,className:"absolute top-2 right-2 rounded-full w-9 h-9 bg-black/50 hover:bg-red-600",children:l.jsx(Kf,{size:18})})]}):l.jsxs("div",{className:"text-center text-gray-400",children:[l.jsx("p",{className:"mb-6 text-sm",children:"Appuyez sur un bouton pour capturer votre story."}),l.jsxs("div",{className:"flex space-x-6",children:[l.jsxs(D,{onClick:()=>d("photo"),variant:"outline",className:"bg-transparent border-primary text-primary hover:bg-primary/10 hover:text-primary-hover flex flex-col items-center justify-center w-24 h-24 rounded-xl p-0",children:[l.jsx(Nl,{size:32,className:"mb-1"}),l.jsx("span",{className:"text-xs",children:"Photo"})]}),l.jsxs(D,{onClick:()=>d("video"),variant:"outline",className:"bg-transparent border-purple-500 text-purple-400 hover:bg-purple-500/10 hover:text-purple-300 flex flex-col items-center justify-center w-24 h-24 rounded-xl p-0",children:[l.jsx(Yf,{size:32,className:"mb-1"}),l.jsx("span",{className:"text-xs",children:"Vidéo (30s max)"})]})]}),l.jsx("input",{type:"file",ref:u,onChange:f,className:"hidden"})]})}),i&&l.jsx(q.div,{initial:{y:100},animate:{y:0},className:"p-4 bg-black/80 backdrop-blur-sm border-t border-slate-700",children:l.jsxs(D,{onClick:h,className:"w-full bg-gradient-to-r from-primary to-secondary text-white font-semibold py-3 rounded-full text-base",children:[l.jsx(Ml,{size:18,className:"mr-2"})," Publier la Story"]})})]})},M3=(e,t,r,n)=>{const s=_e(),[i,o]=p.useState([]),[a,c]=p.useState(0),[u,d]=p.useState(0),[f,h]=p.useState(!1);p.useEffect(()=>{if(!t||t.length===0){f&&!e&&s("/chat");return}const g=[...new Set(t.map(S=>S.userId))].map(S=>{var P;const j=t.filter(k=>k.userId===S).sort((k,C)=>new Date(k.timestamp).getTime()-new Date(C.timestamp).getTime());return{userId:S,stories:j,userName:((P=j[0])==null?void 0:P.userName)||"Utilisateur"}});g.sort((S,j)=>{var C,E;if(S.userId===n)return-1;if(j.userId===n)return 1;const P=((C=S.stories[S.stories.length-1])==null?void 0:C.timestamp)||0,k=((E=j.stories[j.stories.length-1])==null?void 0:E.timestamp)||0;return new Date(k).getTime()-new Date(P).getTime()}),o(g);const x=t.find(S=>S.id===e);if(x){const S=g.findIndex(j=>j.userId===x.userId);if(S!==-1){const j=g[S].stories.findIndex(P=>P.id===x.id);c(S),d(j>=0?j:0),!x.seen&&x.userId!==n&&r(x.id),h(!0)}else f&&s("/chat")}else g.length>0?(c(0),d(0),g[0].stories[0]&&!g[0].stories[0].seen&&g[0].stories[0].userId!==n&&r(g[0].stories[0].id),h(!0)):f&&s("/chat")},[e,t,r,s,f,n]);const m=i[a],w=m==null?void 0:m.stories[u],y=p.useCallback(()=>{var v;if(m&&u<m.stories.length-1){d(x=>x+1);const g=m.stories[u+1];g&&!g.seen&&g.userId!==n&&r(g.id)}else if(a<i.length-1){c(x=>x+1),d(0);const g=(v=i[a+1])==null?void 0:v.stories[0];g&&!g.seen&&g.userId!==n&&r(g.id)}else s("/chat")},[m,u,a,i,r,s,n]),b=p.useCallback(()=>{if(u>0)d(v=>v-1);else if(a>0){const v=i[a-1];c(g=>g-1),d(v.stories.length-1)}},[u,a,i]);return{orderedStoryUsers:i,currentUserStoryGroupIndex:a,currentStoryInGroupIndex:u,currentStoryGroup:m,currentStoryContent:w,goToNextStoryItem:y,goToPrevStoryItem:b,isReady:f}},A3=(e,t,r)=>{const[n,s]=p.useState(0),[i,o]=p.useState(!1),a=p.useRef(null),c=p.useRef(null);return p.useEffect(()=>{if(!e||i){a.current&&clearInterval(a.current);return}s(0);let u=e.duration||5e3;if(e.type==="video"&&r&&r.current){const f=r.current,h=()=>{c.current=f.duration*1e3,u=c.current,f.play().catch(m=>console.error("Video play error:",m)),d(u)};return f.addEventListener("loadedmetadata",h),f.currentTime=0,f.readyState>=2?h():f.load(),()=>{f.removeEventListener("loadedmetadata",h),clearInterval(a.current)}}else d(u);function d(f){const m=f/50;let w=0;a.current&&clearInterval(a.current),a.current=setInterval(()=>{w++,s(w/m*100),w>=m&&t()},50)}return()=>clearInterval(a.current)},[e,i,t,r]),{progress:n,isPaused:i,setIsPaused:o}},I3=(e,t,r,n,s,i,o)=>{const a=p.useCallback(f=>{if(!e.current)return;const h=e.current.getBoundingClientRect(),m=f.clientX-h.left,w=f.clientY-h.top;if(w>h.height*.85&&w<h.height){f.stopPropagation();return}m<h.width/3?t():m>h.width*2/3?r():n()},[e,t,r,n]),c=p.useCallback(()=>{n(!0),i&&i.current&&i.current.pause&&i.current.pause()},[n,i]),u=p.useCallback(()=>{n(!1),i&&i.current&&i.current.play&&!o&&i.current.play().catch(f=>{})},[n,i,o]),d=p.useCallback((f,h)=>{h.offset.y>100&&Math.abs(h.offset.x)<50&&s()},[s]);return{handleTap:a,handleInteractionStart:c,handleInteractionEnd:u,handleDragEnd:d}},D3=({groups:e,currentGroupIndex:t,currentStoryIndex:r,progress:n})=>{var s;return l.jsx("div",{className:"absolute top-2 left-2 right-2 flex space-x-1 z-20 px-1 max-w-md mx-auto",style:{marginTop:"calc(env(safe-area-inset-top) + 0.5rem)"},onClick:i=>i.stopPropagation(),children:(s=e[t])==null?void 0:s.stories.map((i,o)=>l.jsx("div",{className:"h-1 bg-white/30 rounded-full flex-1",children:l.jsx(q.div,{className:"h-1 bg-white rounded-full",initial:{width:"0%"},animate:{width:o===r?`${n}%`:o<r?"100%":"0%"},transition:{duration:.1,ease:"linear"}})},i.id||o))})},L3=({author:e,group:t,onClose:r})=>{var n,s,i,o;return l.jsxs("div",{className:"absolute top-0 left-0 right-0 p-4 flex items-center justify-between z-20 max-w-md mx-auto",style:{marginTop:"calc(env(safe-area-inset-top) + 1.5rem)"},onClick:a=>a.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(on,{className:"h-8 w-8 border-2 border-white/50",children:[l.jsx(an,{src:(e==null?void 0:e.profilePicture)||(e==null?void 0:e.avatar_url)}),l.jsx(ln,{children:((s=(n=e==null?void 0:e.name)==null?void 0:n.substring(0,1))==null?void 0:s.toUpperCase())||((o=(i=t.userName)==null?void 0:i.substring(0,1))==null?void 0:o.toUpperCase())||"U"})]}),l.jsx("span",{className:"text-white text-sm font-semibold shadow-sm",children:(e==null?void 0:e.name)||t.userName})]}),l.jsx(D,{variant:"ghost",size:"icon",onClick:a=>{a.stopPropagation(),r()},className:"text-white/80 hover:text-white",children:l.jsx(ho,{size:24})})]})},O3=({content:e,videoRef:t,onClick:r})=>{const n=s=>{r&&r(s)};return l.jsx(Ms,{initial:!1,mode:"wait",children:l.jsxs(q.div,{initial:{opacity:.8},animate:{opacity:1},exit:{opacity:.8},transition:{duration:.15},className:"w-full h-full cursor-pointer",onClick:n,children:[e.type==="image"&&l.jsx("img",{src:e.url,alt:`Story de ${e.userName}`,className:"w-full h-full object-cover rounded-b-lg sm:rounded-lg"}),e.type==="video"&&l.jsx("video",{ref:t,src:e.url,className:"w-full h-full object-cover rounded-b-lg sm:rounded-lg",playsInline:!0,muted:!1,loop:!1})]},e.id)})},z3=({authorName:e,groupUserId:t,onSend:r,onInteractionStart:n,onInteractionEnd:s,onAttach:i})=>{const[o,a]=p.useState(""),c=_e(),{toast:u}=Ee(),d=f=>{f.preventDefault(),o.trim()&&(u({title:"Message envoyé!",description:`À ${e||"Utilisateur"}: "${o}"`}),r(o),a(""),c(`/chat/${t}?message=${encodeURIComponent(o)}`))};return l.jsxs("form",{onSubmit:d,className:"absolute bottom-0 left-0 right-0 p-2 bg-black/50 backdrop-blur-sm flex items-center space-x-2 z-20 max-w-md mx-auto",style:{paddingBottom:"calc(0.5rem + env(safe-area-inset-bottom))"},onClick:f=>f.stopPropagation(),onMouseDown:n,onMouseUp:s,onTouchStart:n,onTouchEnd:s,children:[l.jsx(D,{variant:"ghost",size:"icon",className:"text-white/70 hover:text-white",onClick:f=>{f.stopPropagation(),i()},children:l.jsx(ox,{size:20})}),l.jsx(me,{type:"text",placeholder:`Répondre à ${e}...`,value:o,onChange:f=>a(f.target.value),className:"flex-grow bg-white/20 border-none text-white placeholder-gray-300/80 focus:ring-primary focus:border-primary rounded-full px-4 py-2 text-sm"}),l.jsx(D,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary-hover rounded-full w-9 h-9",children:l.jsx(Ml,{size:18})})]})},$3=()=>{var _,R;const{storyId:e}=kl(),t=_e(),{stories:r,markStoryAsSeen:n,currentUser:s}=$e(),{toast:i}=Ee(),o=p.useRef(null),a=p.useRef(null),c=iR(),u=p.useCallback(()=>t(-1),[t]),{orderedStoryUsers:d,currentUserStoryGroupIndex:f,currentStoryInGroupIndex:h,currentStoryGroup:m,currentStoryContent:w,goToNextStoryItem:y,goToPrevStoryItem:b,isReady:v}=M3(e,r,n,s==null?void 0:s.id),{progress:g,isPaused:x,setIsPaused:S}=A3(w,y,a),{handleTap:j,handleInteractionStart:P,handleInteractionEnd:k,handleDragEnd:C}=I3(o,b,y,()=>S(T=>!T),u,a,x);if(p.useEffect(()=>{!v&&r&&r.length>0||r&&r.length===0&&!v&&t("/chat")},[v,r,t]),!v||!w||!m)return l.jsx("div",{className:"h-full w-full bg-black flex items-center justify-center text-white",children:"Chargement de la story..."});const E=m.userId===s.id?s:{name:m.userName,profilePicture:(_=m.stories[0])==null?void 0:_.userProfilePicture,avatar_url:(R=m.stories[0])==null?void 0:R.userProfilePicture};return l.jsxs(q.div,{ref:o,drag:"y",dragControls:c,dragConstraints:{top:0,bottom:0},onDragEnd:C,dragElastic:{top:0,bottom:.5},initial:{opacity:0,y:"100%"},animate:{opacity:1,y:"0%"},exit:{opacity:0,y:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50 select-none overflow-hidden",style:{paddingTop:"env(safe-area-inset-top)"},children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-[env(safe-area-inset-top)] bg-black z-30"}),l.jsx(D3,{groups:d,currentGroupIndex:f,currentStoryIndex:h,progress:g}),l.jsx("div",{className:"w-full h-full max-w-md max-h-screen relative",style:{height:"calc(100% - env(safe-area-inset-top) - env(safe-area-inset-bottom))",paddingBottom:"env(safe-area-inset-bottom)"},onClick:j,children:l.jsx(O3,{content:w,videoRef:a})}),l.jsx(L3,{author:E,group:m,onClose:u}),l.jsx(z3,{authorName:(E==null?void 0:E.name)||m.userName,groupUserId:m.userId,onSend:T=>{},onInteractionStart:P,onInteractionEnd:k,onAttach:()=>i({title:"Option à venir",description:"Envoyer des médias depuis les stories sera bientôt disponible."})}),l.jsx("div",{className:"hidden",children:l.jsx(D,{onClick:()=>S(T=>!T),children:x?l.jsx(x_,{size:20}):l.jsx(y_,{size:20})})})]})},V3=({onKycComplete:e})=>{const t=_e(),{toast:r}=Ee(),[n,s]=p.useState(null),[i,o]=p.useState(null),[a,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,w]=p.useState(null),y=p.useRef(null),b=p.useRef(null),v=p.useRef(null),g=(j,P,k)=>{const C=j.target.files[0];if(C){P(C);const E=new FileReader;E.onloadend=()=>{k(E.result)},E.readAsDataURL(C)}},x=()=>{if(!n||!i||!a){r({title:"Erreur KYC",description:"Veuillez télécharger toutes les images requises.",variant:"destructive"});return}r({title:"Vérification en cours...",description:"Vos documents sont en cours de traitement.",variant:"default"}),setTimeout(()=>{r({title:"KYC Validé!",description:"Votre identité a été vérifiée avec succès.",className:"bg-green-500 text-white"}),e(),t("/")},2e3)},S=({label:j,onFileChange:P,inputRef:k,previewSrc:C,icon:E,requiredText:_})=>l.jsxs("div",{className:"space-y-1.5 w-full",children:[l.jsxs(se,{className:"block text-[11px] font-medium text-gray-200",children:[j," ",l.jsx("span",{className:"text-red-400",children:"*"})]}),l.jsx("div",{onClick:()=>{var R;return(R=k.current)==null?void 0:R.click()},className:"mt-1 flex justify-center px-3 py-4 border-2 border-dashed border-gray-500 rounded-md cursor-pointer hover:border-primary transition-colors bg-white/5",children:C?l.jsx("img",{src:C,alt:"Preview",className:"h-20 w-auto object-contain rounded"}):l.jsxs("div",{className:"space-y-1 text-center",children:[l.jsx(E,{className:"mx-auto h-8 w-8 text-gray-400"}),l.jsxs("p",{className:"text-xs text-gray-300",children:["Cliquer pour ",_]}),l.jsx("p",{className:"text-[10px] text-gray-400",children:"PNG, JPG, GIF jusqu'à 10MB"})]})}),l.jsx(me,{type:"file",accept:"image/*",ref:k,onChange:P,className:"hidden"})]});return l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-indigo-600 via-purple-600 to-pink-600 p-4 overflow-hidden",children:l.jsxs(q.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"w-full max-w-xs bg-black/20 backdrop-blur-lg shadow-2xl rounded-xl p-5 space-y-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx(C_,{className:"mx-auto h-12 w-12 text-primary mb-2"}),l.jsx("h2",{className:"text-xl font-bold text-white tracking-tight",children:"Vérification d'Identité (KYC)"}),l.jsx("p",{className:"mt-1 text-center text-[11px] text-gray-300",children:"Pour assurer la sécurité de notre communauté, veuillez compléter ces étapes."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(S,{label:"Pièce d'Identité (Recto)",onFileChange:j=>g(j,s,d),inputRef:y,previewSrc:u,icon:fx,requiredText:"télécharger votre ID"}),l.jsx(S,{label:"Selfie avec Pièce d'Identité",onFileChange:j=>g(j,o,h),inputRef:b,previewSrc:f,icon:Nl,requiredText:"prendre un selfie"}),l.jsx(S,{label:"Photo de Référence (fixe)",onFileChange:j=>g(j,c,w),inputRef:v,previewSrc:m,icon:El,requiredText:"télécharger votre photo de référence"}),l.jsx("p",{className:"text-[10px] text-gray-400 px-1",children:"La photo de référence sera affichée sur votre profil et ne pourra pas être supprimée. Choisissez-la bien !"})]}),l.jsx(q.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"pt-2",children:l.jsx(D,{onClick:x,className:"w-full bg-gradient-to-r from-primary to-secondary hover:opacity-90 text-sm py-2 rounded-full",children:"Soumettre pour Vérification"})})]})})},F3=()=>{const e=_e(),[t,r]=Y.useState(!1),[n,s]=Y.useState(!1),[i,o]=Y.useState(!0);Y.useEffect(()=>{const f=localStorage.getItem("token"),h=localStorage.getItem("kycComplete");r(!!f),s(!!h),o(!1)},[]);const a=()=>{localStorage.setItem("token","fake-token"),r(!0);const f=!!localStorage.getItem("kycComplete");s(f),e(f?"/":"/kyc")},c=()=>{localStorage.setItem("kycComplete","true"),s(!0),e("/")},u=()=>{localStorage.removeItem("token"),localStorage.removeItem("kycComplete"),r(!1),s(!1),e("/landing")},d=()=>{localStorage.setItem("token","fake-token"),localStorage.removeItem("kycComplete"),r(!0),s(!1),e("/kyc")};return i?l.jsx("div",{className:"flex items-center justify-center h-screen bg-background",children:l.jsx("div",{className:"text-foreground text-xl",children:"Chargement..."})}):l.jsxs("div",{className:"max-w-md mx-auto h-screen flex flex-col shadow-2xl overflow-hidden bg-background",children:[l.jsx(A_,{}),l.jsxs(_2,{children:[l.jsx(Se,{path:"/landing",element:t&&n?l.jsx(mt,{to:"/",replace:!0}):t&&!n?l.jsx(mt,{to:"/kyc",replace:!0}):l.jsx(oR,{})}),l.jsx(Se,{path:"/login",element:t&&n?l.jsx(mt,{to:"/",replace:!0}):t&&!n?l.jsx(mt,{to:"/kyc",replace:!0}):l.jsx(cR,{onLogin:a})}),l.jsx(Se,{path:"/signup",element:t&&n?l.jsx(mt,{to:"/",replace:!0}):t&&!n?l.jsx(mt,{to:"/kyc",replace:!0}):l.jsx(pR,{onSignup:d})}),l.jsx(Se,{path:"/kyc",element:t?n?l.jsx(mt,{to:"/",replace:!0}):l.jsx(V3,{onKycComplete:c}):l.jsx(mt,{to:"/login",replace:!0})}),l.jsxs(Se,{element:l.jsx(T3,{onLogout:u,isAuthenticated:t,isKycComplete:n}),children:[l.jsx(Se,{path:"/",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(QA,{})})}),l.jsx(Se,{path:"/matches",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(Q5,{})})}),l.jsx(Se,{path:"/chat",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(Yg,{})})}),l.jsx(Se,{path:"/chat/:matchId",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(Yg,{})})}),l.jsx(Se,{path:"/galleries",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(e3,{})})}),l.jsx(Se,{path:"/profile",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(q5,{onLogout:u})})}),l.jsx(Se,{path:"/profile/my-photos",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(E3,{})})}),l.jsx(Se,{path:"/profile/:userId",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(Y5,{})})}),l.jsx(Se,{path:"/profile/:userId/gallery/:galleryId",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(r3,{})})}),l.jsx(Se,{path:"/settings",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(j3,{})})}),l.jsx(Se,{path:"/wallet",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(k3,{})})}),l.jsx(Se,{path:"/dashboard",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(C3,{})})}),l.jsx(Se,{path:"/premium",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(_3,{})})}),l.jsx(Se,{path:"/stories/create",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx(R3,{})})}),l.jsx(Se,{path:"/stories/:storyId",element:l.jsx(Xe,{isAuthenticated:t,isKycComplete:n,children:l.jsx($3,{})})})]}),l.jsx(Se,{path:"*",element:l.jsx(mt,{to:t?n?"/":"/kyc":"/landing",replace:!0})})]})]})},B3=()=>l.jsx(FA,{children:l.jsx(A2,{children:l.jsx(F3,{})})});uu.createRoot(document.getElementById("root")).render(l.jsx(Y.StrictMode,{children:l.jsx(B3,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registered: ",e)}).catch(e=>{console.log("Service Worker registration failed: ",e)})});export{Zg as g};
